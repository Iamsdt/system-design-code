import{j as e,r as x,R as St}from"./react-CkzM5vXA.js";import{m as Ct}from"./moment-timezone-CT2OnHY_.js";import{R as kt}from"./react-dom-BSipLO0w.js";import{O as At,u as le,L as Pt,c as Tt,R as Rt}from"./react-router-TIgFfian.js";import{S as he,Z as z,D as K,C as N,a as F,A as te,T as ce,b as Fe,c as Ie,d as ss,e as se,f as ye,g as Et,M as It,P as Dt,h as Gs,R as as,i as vs,B as pe,j as ke,k as ys,F as Qe,L as Is,l as fe,H as Ee,m as ws,G as ie,U as we,W as zs,n as Lt,o as Ds,p as Mt,q as Ot,r as Bt,s as qt,t as Ut,u as Ft,v as Ht,w as os,x as us,y as Ls,z as Wt,E as _s,I as Le,J as Ne,K as $s,N as ue,O as Ms,Q as Os,V as Gt,X as zt,Y as _t,_ as rs,$ as $t,a0 as ls,a1 as Kt,a2 as Vt,a3 as Me,a4 as Ks,a5 as ns,a6 as Ue,a7 as Oe,a8 as Qt,a9 as Yt,aa as Jt,ab as De,ac as bs,ad as Xt,ae as is,af as Zt,ag as ea,ah as Xe,ai as gs,aj as sa,ak as ta,al as aa,am as ra,an as la,ao as Ss,ap as Cs,aq as Vs,ar as Qs,as as ia,at as je,au as na,av as da,aw as ca,ax as He,ay as oa,az as ma}from"./lucide-react-CogYypbF.js";import{c as xa}from"./clsx-B-dksMZM.js";import{t as ha}from"./tailwind-merge-yGZq-iow.js";import{S as pa,R as Ys,L as Js,T as Xs,C as Zs,a as ua}from"./@radix-ui-ChQfU6PQ.js";import{c as ks}from"./class-variance-authority-Dp3B9jqt.js";import{P as v}from"./prop-types-CY1UJ6zA.js";import{M as ba}from"./react-markdown-WHY9I3tA.js";import{r as ga}from"./remark-gfm-xWxgmOKA.js";import{h as ja,o as fa}from"./react-syntax-highlighter-BSopxTLu.js";import{i as Na}from"./i18next-Bhc83OLH.js";import{B as va}from"./i18next-browser-languagedetector-ClvlpAgo.js";import{B as ya}from"./i18next-http-backend-BXSMIuwf.js";import{i as wa}from"./react-i18next-FckfcHbW.js";import"./@babel-B7uzauDx.js";import"./moment-Y1MvfUih.js";import"./scheduler-DxIDgsBc.js";import"./devlop-Cl3hj7Sz.js";import"./unified-BjzySsuQ.js";import"./bail-FqpXQuLt.js";import"./extend-C5IBLNgP.js";import"./is-plain-obj-C1gvLhAf.js";import"./trough-B_b8ryxu.js";import"./vfile-DoIswyph.js";import"./vfile-message-Ezj_CYSE.js";import"./unist-util-stringify-position-Ch_qCilz.js";import"./remark-parse-2duw96MN.js";import"./mdast-util-from-markdown-DzmWAGqa.js";import"./micromark-util-decode-numeric-character-reference-CNs1qBpV.js";import"./micromark-util-decode-string-strjl-tx.js";import"./decode-named-character-reference-C3-224fz.js";import"./micromark-util-normalize-identifier-C9ANKk3v.js";import"./micromark-CtXuTyED.js";import"./micromark-util-combine-extensions-Bka6Sc1c.js";import"./micromark-util-chunked-DrRIdSP-.js";import"./micromark-factory-space-Bzki161k.js";import"./micromark-util-character-Cn8n62xE.js";import"./micromark-core-commonmark-CH1HDFCm.js";import"./micromark-util-classify-character-72LGz2mN.js";import"./micromark-util-resolve-all-PQCKh0dx.js";import"./micromark-util-subtokenize-BC4BSQ9J.js";import"./micromark-factory-destination-Dhx6mInV.js";import"./micromark-factory-label-Dm2aTycn.js";import"./micromark-factory-title-B-Q3zsGF.js";import"./micromark-factory-whitespace-DxqLJ6OX.js";import"./micromark-util-html-tag-name-DbKNfynz.js";import"./mdast-util-to-string-C_aolqmU.js";import"./remark-rehype-BA0bwa6u.js";import"./mdast-util-to-hast-BkyUn37-.js";import"./@ungap--gfxRhYI.js";import"./micromark-util-sanitize-uri-B1mpwOqX.js";import"./unist-util-position-60F3QETU.js";import"./trim-lines-D8znQY54.js";import"./unist-util-visit-BEqpjG-T.js";import"./unist-util-visit-parents-BzuIhZFT.js";import"./unist-util-is-D9KQvrmg.js";import"./hast-util-to-jsx-runtime-QWxksvSb.js";import"./comma-separated-tokens-Dw-VBL9A.js";import"./property-information-Boo8Xpef.js";import"./space-separated-tokens-D7QSIrTI.js";import"./style-to-js-CB3tQaCB.js";import"./style-to-object-Cg2xzs12.js";import"./inline-style-parser-BlqBsVO4.js";import"./hast-util-whitespace-D4Wp6AEg.js";import"./estree-util-is-identifier-name-BgBfM8ME.js";import"./html-url-attributes-D46m5wfe.js";import"./micromark-extension-gfm-AxZ6nl5T.js";import"./micromark-extension-gfm-autolink-literal-BQfQ1Zem.js";import"./micromark-extension-gfm-footnote-DkhwFsuS.js";import"./micromark-extension-gfm-strikethrough-DRvqaQ9w.js";import"./micromark-extension-gfm-table-DeUU3o88.js";import"./micromark-extension-gfm-task-list-item-CQ-9H0He.js";import"./mdast-util-gfm-Bh3Trx25.js";import"./mdast-util-gfm-autolink-literal-O_PULBAj.js";import"./ccount-c2V3InAJ.js";import"./mdast-util-find-and-replace-FYaswp1Z.js";import"./mdast-util-gfm-footnote-DOFKMeKV.js";import"./mdast-util-gfm-strikethrough-Cj9qKt6Q.js";import"./mdast-util-gfm-table-C_I1FfCf.js";import"./markdown-table-DvhhVmnL.js";import"./mdast-util-to-markdown-DaM6fbR-.js";import"./longest-streak-CtXnX3Xp.js";import"./mdast-util-phrasing-C4Vf_nAi.js";import"./mdast-util-gfm-task-list-item-BduokqGp.js";import"./refractor-DyfRN5kF.js";import"./hastscript-8qIMclS0.js";import"./hast-util-parse-selector-TXfch5wI.js";import"./parse-entities-CmM5msvd.js";import"./character-entities-legacy-BpoLgcEt.js";import"./character-reference-invalid-ClcxO6OC.js";import"./is-decimal-CJ0gF_dh.js";import"./is-hexadecimal-BKo14zVu.js";import"./is-alphanumerical-58alR0B7.js";import"./is-alphabetical-jPfmTawd.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function t(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=t(a);fetch(a.href,c)}})();const Sa=()=>e.jsx("main",{children:e.jsx(At,{})}),Ca=()=>e.jsx("div",{children:e.jsx("h1",{children:"Something went wrong"})}),ka=()=>e.jsxs("div",{children:[e.jsx("h1",{children:"404"}),e.jsx("p",{children:"Page not found"})]}),Aa=()=>{const[s,l]=x.useState("ambassador"),[t,o]=x.useState("rateLimiting"),a={ambassador:{name:"Ambassador Pattern",icon:"ðŸ›ï¸",description:"Sidecar proxy that handles outbound network connections",diagram:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Pod                       â”‚
â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Application  â”‚  â”‚   Ambassador   â”‚ â”‚
â”‚  â”‚  Container   â”‚â”€â–ºâ”‚     Proxy      â”‚â”€â”¼â”€â”€â–º External
â”‚  â”‚              â”‚  â”‚   (Outbound)   â”‚ â”‚    Services
â”‚  â”‚ Makes calls  â”‚  â”‚                â”‚ â”‚
â”‚  â”‚ to localhost â”‚  â”‚ â€¢ Rate limit   â”‚ â”‚
â”‚  â”‚              â”‚  â”‚ â€¢ Retry logic  â”‚ â”‚
â”‚  â”‚              â”‚  â”‚ â€¢ Auth tokens  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â€¢ Load balance â”‚ â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Key Concept: App thinks it's calling localhost,
Ambassador routes to actual external services`,keyPoints:["Handles OUTBOUND connections only","App calls localhost, proxy forwards","Abstracts external service locations","Adds reliability patterns (retry, circuit break)","Injects credentials automatically"],benefits:["Simplify application code","Centralize connection logic","Add reliability without code changes","Easy to test (mock ambassador)","Upgrade connection logic independently"],useCases:["Calling external APIs with auth","Rate limiting outbound requests","Service versioning (v1 vs v2)","Multi-region routing","Legacy app integration"],example:`# Docker Compose with Ambassador
version: '3'
services:
  app:
    image: my-app:latest
    environment:
      - EXTERNAL_API_URL=http://localhost:8080
    depends_on:
      - ambassador
  
  ambassador:
    image: nginx:latest
    ports:
      - "8080:8080"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
    # Routes localhost:8080 to actual external API

---
# nginx.conf for Ambassador
upstream external_api {
    server api.external.com:443;
}

server {
    listen 8080;
    
    location / {
        proxy_pass https://external_api;
        
        # Add authentication
        proxy_set_header Authorization "Bearer $TOKEN";
        
        # Retry logic
        proxy_next_upstream error timeout;
        proxy_connect_timeout 2s;
        proxy_read_timeout 10s;
        
        # Rate limiting
        limit_req zone=api_limit burst=10;
    }
}`},serviceMesh:{name:"Service Mesh",icon:"ðŸ•¸ï¸",description:"Full mesh of sidecars handling all service-to-service traffic",diagram:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Service Mesh                     â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚Service Aâ”‚        â”‚Service Bâ”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â”‚
â”‚       â”‚                  â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Envoy   â”‚â—„â”€â”€â”€â”€â”€â”€â–ºâ”‚ Envoy   â”‚         â”‚
â”‚  â”‚ Sidecar â”‚  mTLS  â”‚ Sidecar â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â”‚
â”‚       â”‚                  â”‚              â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                â–¼                         â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚         â”‚Control Planeâ”‚                  â”‚
â”‚         â”‚  (Istiod)   â”‚                  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                          â”‚
â”‚  Handles: Ingress + Egress + East-West  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,keyPoints:["Handles ALL traffic (in + out + between)","Full observability across entire mesh","mTLS encryption everywhere","Comprehensive traffic management","Requires control plane"],benefits:["Complete traffic visibility","Zero-trust security","Advanced routing (canary, A/B)","Distributed tracing","Policy enforcement"],useCases:["Microservices with 10+ services","Need mTLS between all services","Complex traffic patterns","Compliance requirements","Comprehensive observability"],example:`# Istio Service Mesh
apiVersion: v1
kind: Pod
metadata:
  name: my-app
  labels:
    app: my-app
  annotations:
    sidecar.istio.io/inject: "true"
spec:
  containers:
  - name: app
    image: my-app:latest

# Istio automatically:
# - Injects Envoy sidecar
# - Sets up mTLS
# - Configures routing
# - Enables tracing`},apiGateway:{name:"API Gateway",icon:"ðŸšª",description:"Centralized entry point for all external traffic",diagram:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        API Gateway                 â”‚
â”‚     (Single Entry Point)           â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      API Gateway            â”‚  â”‚
â”‚  â”‚  (Kong, AWS API Gateway)    â”‚  â”‚
â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚ â€¢ Authentication            â”‚  â”‚
â”‚  â”‚ â€¢ Rate limiting             â”‚  â”‚
â”‚  â”‚ â€¢ Request transformation    â”‚  â”‚
â”‚  â”‚ â€¢ Response caching          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚             â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
      â–¼       â–¼       â–¼       â–¼
   Service Service Service Service
      A       B       C       D

All external traffic â†’ API Gateway â†’ Services`,keyPoints:["Single entry point for external clients","Not a sidecar (separate service)","Handles north-south traffic only","Cross-cutting concerns for APIs","Can be multiple gateways (region, env)"],benefits:["Centralized security","Unified API experience","Request/response transformation","Analytics and monitoring","Rate limiting per client"],useCases:["Public-facing APIs","Mobile/web app backends","Partner API integrations","Multi-tenant SaaS","API monetization"],example:`# Kong API Gateway
apiVersion: v1
kind: Service
metadata:
  name: kong-proxy
spec:
  type: LoadBalancer
  ports:
  - port: 80
    targetPort: 8000
  selector:
    app: kong

---
# Route configuration
apiVersion: configuration.konghq.com/v1
kind: KongIngress
metadata:
  name: api-routes
route:
  methods:
  - GET
  - POST
  paths:
  - /api/users
  strip_path: false
plugins:
- name: rate-limiting
  config:
    minute: 100
- name: key-auth`}},c={rateLimiting:{name:"Rate Limiting",description:"Control rate of outbound API calls",problem:"External API has rate limit (100 req/min). App makes 500 req/min â†’ gets blocked.",solution:"Ambassador proxy enforces rate limit locally, queues excess requests, prevents API blocks.",benefits:["Respect external API limits","Prevent service degradation","No app code changes","Centralized quota management"],implementation:`# Ambassador with Rate Limiting
apiVersion: v1
kind: Pod
metadata:
  name: app-with-ambassador
spec:
  containers:
  - name: app
    image: my-app:latest
    env:
    - name: API_URL
      value: "http://localhost:8080"
  
  - name: ambassador
    image: envoyproxy/envoy:v1.24
    volumeMounts:
    - name: config
      mountPath: /etc/envoy
  
  volumes:
  - name: config
    configMap:
      name: envoy-rate-limit-config

---
# Envoy config snippet
rate_limits:
- actions:
  - request_headers:
      header_name: ":path"
      descriptor_key: path
  limit:
    requests_per_unit: 100
    unit: MINUTE`,diagram:`
App: Makes 500 req/min
  â”‚
  â–¼
Ambassador: Rate limits to 100 req/min
  â”‚   â€¢ Queues excess requests
  â”‚   â€¢ Returns 429 if queue full
  â–¼
External API: Receives 100 req/min (happy!)`},authentication:{name:"Authentication Token Injection",description:"Automatically add auth tokens to outbound requests",problem:"App needs to call multiple APIs, each requiring OAuth token. Token rotation is complex.",solution:"Ambassador fetches and injects tokens automatically, handles rotation.",benefits:["App doesn't manage tokens","Automatic token refresh","Consistent auth across services","Easier credential rotation"],implementation:`# Ambassador for Auth
apiVersion: v1
kind: Pod
metadata:
  name: app-with-auth-ambassador
spec:
  containers:
  - name: app
    image: my-app:latest
    env:
    - name: API_URL
      value: "http://localhost:8080"
  
  - name: oauth-ambassador
    image: oauth2-proxy:latest
    env:
    - name: OAUTH2_PROXY_CLIENT_ID
      valueFrom:
        secretKeyRef:
          name: oauth-secret
          key: client-id
    - name: OAUTH2_PROXY_CLIENT_SECRET
      valueFrom:
        secretKeyRef:
          name: oauth-secret
          key: client-secret
    ports:
    - containerPort: 8080`,diagram:`
App: Makes request without auth
  â”‚
  â–¼
Ambassador:
  1. Fetches OAuth token (if expired)
  2. Adds Authorization header
  3. Forwards request
  â”‚
  â–¼
External API: Receives authenticated request`},retryLogic:{name:"Retry & Circuit Breaking",description:"Add resilience patterns without changing app code",problem:"External API occasionally fails (network issues, timeouts). App has no retry logic.",solution:"Ambassador implements exponential backoff retry and circuit breaker.",benefits:["Improve reliability","Prevent cascading failures","No app code changes","Configurable retry policies"],implementation:`# Envoy Ambassador with Retry
static_resources:
  clusters:
  - name: external_api
    connect_timeout: 0.25s
    type: LOGICAL_DNS
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: external_api
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: api.external.com
                port_value: 443
    
    # Retry policy
    retry_policy:
      retry_on: "5xx,refused-stream,reset"
      num_retries: 3
      per_try_timeout: 1s
      retry_host_predicate:
      - name: envoy.retry_host_predicates.previous_hosts
    
    # Circuit breaker
    circuit_breakers:
      thresholds:
      - priority: DEFAULT
        max_connections: 100
        max_pending_requests: 100
        max_requests: 100
        max_retries: 3`,diagram:`
App: Makes request
  â”‚
  â–¼
Ambassador:
  â”‚ Try 1: Timeout â†’ Retry (wait 1s)
  â”‚ Try 2: 503 Error â†’ Retry (wait 2s)
  â”‚ Try 3: 200 Success! â†’ Return to app
  â”‚
  â”‚ If all retries fail â†’ Circuit opens
  â”‚ Future requests â†’ Fast fail (no retry)
  â–¼
External API`},serviceVersioning:{name:"Service Versioning",description:"Route to different API versions based on rules",problem:"Migrating from API v1 to v2. Need gradual rollout without changing app.",solution:"Ambassador routes requests based on headers, gradually shift traffic.",benefits:["Canary releases","A/B testing","Blue-green deployments","Easy rollback"],implementation:`# Ambassador for Versioning
apiVersion: v1
kind: ConfigMap
metadata:
  name: version-router
data:
  nginx.conf: |
    upstream api_v1 {
        server api-v1.internal:8080;
    }
    upstream api_v2 {
        server api-v2.internal:8080;
    }
    
    server {
        listen 8080;
        
        # Route based on header
        location / {
            set $backend api_v1;
            
            # If beta header, use v2
            if ($http_x_api_version = "v2") {
                set $backend api_v2;
            }
            
            # Canary: 10% to v2
            if ($request_id ~* "^[0-9]$") {
                set $backend api_v2;
            }
            
            proxy_pass http://$backend;
        }
    }`,diagram:`
App: Makes request
  â”‚
  â–¼
Ambassador: Decides version
  â”‚
  â”œâ”€â–º 90% â†’ API v1 (stable)
  â”‚
  â””â”€â–º 10% â†’ API v2 (canary)

Gradually increase v2 traffic: 10% â†’ 50% â†’ 100%`}},r=[{aspect:"Scope",ambassador:"Outbound only (egress)",serviceMesh:"All traffic (ingress + egress + east-west)",apiGateway:"Inbound only (north-south)"},{aspect:"Deployment",ambassador:"Sidecar per pod",serviceMesh:"Sidecar + control plane",apiGateway:"Separate service"},{aspect:"Complexity",ambassador:"Low",serviceMesh:"High",apiGateway:"Medium"},{aspect:"Use Case",ambassador:"External API calls",serviceMesh:"Service-to-service",apiGateway:"Public-facing APIs"},{aspect:"mTLS",ambassador:"No (outbound only)",serviceMesh:"Yes (everywhere)",apiGateway:"Yes (ingress)"},{aspect:"Observability",ambassador:"Outbound requests",serviceMesh:"Full mesh visibility",apiGateway:"API metrics"},{aspect:"Cost",ambassador:"Low (simple proxy)",serviceMesh:"High (resource intensive)",apiGateway:"Medium (managed service)"}],d=[{question:"What traffic do you need to manage?",options:[{answer:"External client â†’ My services",recommendation:"API Gateway",reason:"Centralized entry point for external traffic"},{answer:"My service â†’ External APIs",recommendation:"Ambassador",reason:"Outbound connection management"},{answer:"Service A â†” Service B (internal)",recommendation:"Service Mesh",reason:"Service-to-service communication"}]},{question:"How many microservices?",options:[{answer:"1-5 services",recommendation:"Ambassador or API Gateway",reason:"Keep it simple"},{answer:"5-20 services",recommendation:"Consider Service Mesh",reason:"Complexity increasing"},{answer:"20+ services",recommendation:"Service Mesh",reason:"Need comprehensive solution"}]},{question:"What's your primary goal?",options:[{answer:"Simplify external API calls",recommendation:"Ambassador",reason:"Handles outbound complexity"},{answer:"Secure service-to-service",recommendation:"Service Mesh",reason:"mTLS everywhere"},{answer:"Expose APIs to clients",recommendation:"API Gateway",reason:"Public API management"}]}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Ambassador Pattern"}),e.jsx("p",{className:"text-muted-foreground",children:"Learn how ambassador pattern simplifies external service communication"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Compare Patterns:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.keys(a).map(i=>e.jsxs("button",{onClick:()=>l(i),className:`p-4 rounded-lg border-2 transition-all text-left ${s===i?"border-orange-500 bg-orange-50 dark:bg-orange-950":"border-gray-200 dark:border-gray-700 hover:border-orange-300"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:a[i].icon}),e.jsx("div",{className:"font-medium",children:a[i].name})]},i))})]}),e.jsxs("div",{className:" from-orange-50 to-amber-50 dark:from-orange-950 dark:to-amber-950 p-6 rounded-lg border border-orange-200 dark:border-orange-800",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"text-4xl",children:a[s].icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-xl font-bold mb-2",children:a[s].name}),e.jsx("p",{className:"text-muted-foreground",children:a[s].description})]})]}),e.jsxs("div",{className:"space-y-4",children:[a[s].diagram&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Architecture:"}),e.jsx("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto text-sm",children:a[s].diagram})]}),a[s].keyPoints&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Key Points:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:a[s].keyPoints.map((i,n)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:"â†’"}),e.jsx("span",{children:i})]},n))})]}),a[s].benefits&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2 text-green-600 dark:text-green-400",children:"Benefits:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:a[s].benefits.map((i,n)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ“"}),e.jsx("span",{children:i})]},n))})]}),a[s].useCases&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Use Cases:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:a[s].useCases.map((i,n)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border",children:i},n))})]}),a[s].example&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Implementation Example:"}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:a[s].example})})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-4",children:"Ambassador Use Cases"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"See how ambassador pattern solves real problems in production"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4",children:Object.keys(c).map(i=>e.jsx("button",{onClick:()=>o(i),className:`p-3 rounded-lg border-2 transition-all text-left ${t===i?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-gray-200 dark:border-gray-700 hover:border-blue-300"}`,children:e.jsx("div",{className:"font-medium text-sm",children:c[i].name})},i))}),e.jsxs("div",{className:" from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 p-6 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("h5",{className:"text-lg font-bold mb-2",children:c[t].name}),e.jsx("p",{className:"text-muted-foreground mb-4",children:c[t].description}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border",children:[e.jsx("h6",{className:"font-semibold mb-2 text-red-600 dark:text-red-400",children:"Problem:"}),e.jsx("p",{children:c[t].problem})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border",children:[e.jsx("h6",{className:"font-semibold mb-2 text-green-600 dark:text-green-400",children:"Solution:"}),e.jsx("p",{children:c[t].solution})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold mb-2",children:"Benefits:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:c[t].benefits.map((i,n)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ“"}),e.jsx("span",{children:i})]},n))})]}),c[t].diagram&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold mb-2",children:"Flow:"}),e.jsx("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto text-sm",children:c[t].diagram})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold mb-2",children:"Implementation:"}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:c[t].implementation})})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-4",children:"Ambassador vs Service Mesh vs API Gateway"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Understand the differences and choose the right pattern for your needs"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[e.jsx("th",{className:"border p-3 text-left",children:"Aspect"}),e.jsx("th",{className:"border p-3 text-left",children:"Ambassador"}),e.jsx("th",{className:"border p-3 text-left",children:"Service Mesh"}),e.jsx("th",{className:"border p-3 text-left",children:"API Gateway"})]})}),e.jsx("tbody",{children:r.map((i,n)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-3 font-medium",children:i.aspect}),e.jsx("td",{className:"border p-3",children:i.ambassador}),e.jsx("td",{className:"border p-3",children:i.serviceMesh}),e.jsx("td",{className:"border p-3",children:i.apiGateway})]},n))})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-4",children:"Decision Guide"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Answer these questions to choose the right pattern"}),e.jsx("div",{className:"space-y-4",children:d.map((i,n)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border",children:[e.jsx("h5",{className:"font-bold mb-3 text-blue-600 dark:text-blue-400",children:i.question}),e.jsx("div",{className:"space-y-2",children:i.options.map((m,p)=>e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-3 rounded",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:m.answer}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:m.reason})]}),e.jsxs("div",{className:"bg-green-100 dark:bg-green-900 px-3 py-1 rounded text-sm font-medium text-green-800 dark:text-green-200",children:["â†’ ",m.recommendation]})]})},p))})]},n))})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950 p-6 rounded-lg border border-purple-200 dark:border-purple-800",children:[e.jsx("h4",{className:"text-lg font-bold mb-3",children:"ðŸ¤” Can You Use Multiple Patterns Together?"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-600 dark:text-green-400",children:"âœ“ Yes! They solve different problems:"}),e.jsxs("div",{className:"mt-2 space-y-2 text-sm",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded",children:[e.jsx("span",{className:"font-medium",children:"API Gateway"})," for external clients â†’ your services"]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded",children:[e.jsx("span",{className:"font-medium",children:"Service Mesh"})," for your services talking to each other"]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded",children:[e.jsx("span",{className:"font-medium",children:"Ambassador"})," for your services â†’ external APIs"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded",children:[e.jsx("p",{className:"font-medium mb-2",children:"Example Architecture:"}),e.jsx("pre",{className:"bg-gray-100 dark:bg-gray-900 p-3 rounded-lg overflow-x-auto text-xs sm:text-sm max-w-full whitespace-pre",children:e.jsx("code",{className:"text-gray-900 dark:text-gray-100",children:`External Clients
      â†“
  API Gateway (Kong) â† Handle auth, rate limit
      â†“
  Your Services
    â†” Service Mesh (Istio) â† mTLS between services
      â†“
  Ambassador Proxy â† Rate limit outbound
      â†“
  External APIs`})})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950 p-6 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[e.jsx("h4",{className:"text-lg font-bold mb-3",children:"ðŸ’¡ Interview Tips"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:'Q: "What is the ambassador pattern?"'}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," Ambassador is a sidecar proxy that handles OUTBOUND connections. App calls localhost, ambassador routes to external services. Use it for rate limiting, authentication, retries, service versioning. Unlike service mesh (handles all traffic), ambassador only handles egress. Simpler than service mesh for external API calls."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:`Q: "Ambassador vs API Gatewayâ€”what's the difference?"`}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," Ambassador handles OUTBOUND (your service â†’ external). API Gateway handles INBOUND (external client â†’ your service). Ambassador is a sidecar per pod. API Gateway is a separate service. They solve opposite problems and can be used together."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:'Q: "When would you use ambassador instead of service mesh?"'}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," Use ambassador when you only need outbound connection management (external APIs). Service mesh is overkill if you don't need service-to-service communication features. Ambassador is simpler, lighter, and faster to implement. Example: App calls Stripe API with rate limitingâ€”ambassador is perfect, service mesh is too much."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:'Q: "Give an example of ambassador pattern in production"'}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," E-commerce app calls payment provider (Stripe) API. Stripe has rate limit 100 req/s. Deploy ambassador sidecar with rate limiting and retry logic. App makes unlimited requests to localhost, ambassador queues and rate limits to 100 req/s, retries on failures. Zero app code changes, respects Stripe limits, improved reliability."]})]})]})]})]})},Pa=()=>{const[s,l]=x.useState("pods"),[t,o]=x.useState("statefulset"),[a,c]=x.useState(!0),r={pods:{name:"Pods",icon:"ðŸŽ¯",description:"Smallest deployable unit in Kubernetes - one or more containers",keyPoints:["Shared network namespace (same IP)","Shared storage volumes","Lifecycle managed together","Ephemeral by design","Co-located containers"],yaml:`apiVersion: v1
kind: Pod
metadata:
  name: my-app
spec:
  containers:
  - name: app
    image: nginx:1.21
    ports:
    - containerPort: 80
  - name: sidecar
    image: busybox
    command: ['sh', '-c', 'tail -f /var/log/app.log']`,useCases:["Single container per pod (most common)","Sidecar containers (logging, monitoring)","Init containers (setup before main)","Adapter/Ambassador patterns"],antiPatterns:["Don't run unrelated apps in same pod","Don't use pods directly (use Deployments)","Don't expect pod IP to persist","Don't store state in pod filesystem"]},services:{name:"Services",icon:"ðŸ”—",description:"Stable network endpoint for accessing pods",keyPoints:["DNS name remains constant","Load balances across pods","Service discovery built-in","Multiple service types","Label selector based"],yaml:`apiVersion: v1
kind: Service
metadata:
  name: my-service
spec:
  type: LoadBalancer  # ClusterIP, NodePort, LoadBalancer
  selector:
    app: my-app       # Targets pods with this label
  ports:
  - protocol: TCP
    port: 80          # Service port
    targetPort: 8080  # Container port`,types:[{name:"ClusterIP",use:"Internal only (default)",example:"Database, internal API"},{name:"NodePort",use:"External access via node",example:"Dev/test environments"},{name:"LoadBalancer",use:"Cloud load balancer",example:"Production web apps"},{name:"ExternalName",use:"DNS alias",example:"External database"}],useCases:["Expose deployments to cluster","Load balance across replicas","Service discovery via DNS","External traffic routing"]},deployments:{name:"Deployments",icon:"ðŸš€",description:"Declarative updates for Pods and ReplicaSets",keyPoints:["Desired state management","Rolling updates built-in","Rollback capability","Self-healing","Scaling up/down"],yaml:`apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-deployment
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1       # Extra pods during update
      maxUnavailable: 0 # Zero-downtime
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
      - name: app
        image: my-app:v2
        resources:
          requests:
            cpu: 100m
            memory: 128Mi
          limits:
            cpu: 200m
            memory: 256Mi`,strategies:[{name:"RollingUpdate",desc:"Gradual replacement (default)",downtime:"Zero",use:"Production"},{name:"Recreate",desc:"Delete all, then create",downtime:"Brief",use:"Dev/test"},{name:"Blue-Green",desc:"Two full environments",downtime:"Zero",use:"Critical apps"},{name:"Canary",desc:"Gradual traffic shift",downtime:"Zero",use:"Risk reduction"}],useCases:["Stateless applications","Web servers, APIs","Microservices","Background workers"]},configmaps:{name:"ConfigMaps",icon:"âš™ï¸",description:"Store non-sensitive configuration data",keyPoints:["Key-value pairs","Environment variables","Config files as volumes","Hot-reload possible","Separate config from code"],yaml:`apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
data:
  database_url: "postgres://db:5432/mydb"
  log_level: "info"
  feature_flags: |
    feature_a: true
    feature_b: false
---
# Using in Pod
apiVersion: v1
kind: Pod
metadata:
  name: my-app
spec:
  containers:
  - name: app
    image: my-app:latest
    envFrom:
    - configMapRef:
        name: app-config
    # OR mount as file
    volumeMounts:
    - name: config
      mountPath: /etc/config
  volumes:
  - name: config
    configMap:
      name: app-config`,useCases:["Application configuration","Feature flags","Environment-specific settings","Config file injection"],bestPractices:["Use descriptive names","Version your configs","Don't store secrets here","Limit to 1MB per ConfigMap"]},secrets:{name:"Secrets",icon:"ðŸ”",description:"Store sensitive data (passwords, tokens, keys)",keyPoints:["Base64 encoded (not encrypted by default)","Access control via RBAC","Can mount as files or env vars","Encrypted at rest (optional)","Rotatable without redeployment"],yaml:`apiVersion: v1
kind: Secret
metadata:
  name: db-secret
type: Opaque
data:
  username: YWRtaW4=          # base64 of "admin"
  password: cGFzc3dvcmQxMjM=  # base64 of "password123"
---
# Using in Pod
apiVersion: v1
kind: Pod
metadata:
  name: my-app
spec:
  containers:
  - name: app
    image: my-app:latest
    env:
    - name: DB_USERNAME
      valueFrom:
        secretKeyRef:
          name: db-secret
          key: username
    - name: DB_PASSWORD
      valueFrom:
        secretKeyRef:
          name: db-secret
          key: password`,types:[{name:"Opaque",use:"Arbitrary data (default)"},{name:"kubernetes.io/tls",use:"TLS certificates"},{name:"kubernetes.io/dockerconfigjson",use:"Docker registry auth"},{name:"kubernetes.io/basic-auth",use:"Basic authentication"}],securityTips:["Enable encryption at rest","Use external secret managers (Vault)","Limit RBAC access","Rotate secrets regularly","Never commit secrets to git","Use sealed secrets or SOPS"]},ingress:{name:"Ingress",icon:"ðŸŒ",description:"HTTP/HTTPS routing to services",keyPoints:["Single entry point","Host-based routing","Path-based routing","TLS termination","Load balancing"],yaml:`apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: my-ingress
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
    cert-manager.io/cluster-issuer: "letsencrypt"
spec:
  ingressClassName: nginx
  tls:
  - hosts:
    - myapp.example.com
    secretName: tls-secret
  rules:
  - host: myapp.example.com
    http:
      paths:
      - path: /api
        pathType: Prefix
        backend:
          service:
            name: api-service
            port:
              number: 8080
      - path: /
        pathType: Prefix
        backend:
          service:
            name: frontend-service
            port:
              number: 80`,controllers:[{name:"NGINX Ingress",use:"Most popular",features:"Rate limiting, auth"},{name:"Traefik",use:"Cloud native",features:"Auto-discovery, middleware"},{name:"HAProxy",use:"High performance",features:"Advanced LB"},{name:"Contour",use:"Envoy-based",features:"Modern, extensible"}],useCases:["Single IP for multiple services","SSL/TLS termination","Name-based virtual hosting","Load balancing"]},servicemesh:{name:"Service Mesh",icon:"ðŸ•¸ï¸",description:"Infrastructure layer for service-to-service communication",keyPoints:["Sidecar proxy pattern","Traffic management","Security (mTLS)","Observability built-in","Policy enforcement"],architecture:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Service Mesh                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Service â”‚        â”‚ Service â”‚    â”‚
â”‚  â”‚    A    â”‚        â”‚    B    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â”‚
â”‚       â”‚                  â”‚          â”‚
â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Envoy  â”‚â—„â”€â”€â”€â”€â”€â”€â–ºâ”‚  Envoy  â”‚    â”‚
â”‚  â”‚  Proxy  â”‚  mTLS  â”‚  Proxy  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â”‚
â”‚       â”‚                  â”‚          â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                  â–¼                  â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚         â”‚ Control Plane  â”‚          â”‚
â”‚         â”‚ (Istiod, etc.) â”‚          â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,features:[{name:"Traffic Management",desc:"Canary, A/B testing, circuit breaking",example:"Route 10% to v2"},{name:"Security",desc:"mTLS, authentication, authorization",example:"Encrypt all traffic"},{name:"Observability",desc:"Metrics, logs, traces",example:"Distributed tracing"},{name:"Resilience",desc:"Retries, timeouts, rate limiting",example:"Auto-retry failed"}],tools:[{name:"Istio",pros:"Feature-rich, mature",cons:"Complex, resource heavy",use:"Enterprise"},{name:"Linkerd",pros:"Lightweight, simple",cons:"Fewer features",use:"Getting started"},{name:"Consul",pros:"Multi-cloud, multi-runtime",cons:"Steeper learning",use:"Hybrid cloud"}],whenToUse:["Microservices with many services (>10)","Need for mTLS everywhere","Complex traffic patterns","Observability requirements","Policy enforcement needed"],whenNotToUse:["Small number of services (<5)","Monolithic applications","Simple architectures","Limited resources","Learning Kubernetes basics"]}},d={statefulset:{name:"StatefulSet",description:"For stateful applications requiring stable identity",characteristics:["Stable network identity","Stable persistent storage","Ordered deployment/scaling","Ordered rolling updates","Pod name includes ordinal (pod-0, pod-1)"],useCases:["Databases (MySQL, PostgreSQL, MongoDB)","Message queues (Kafka, RabbitMQ)","Distributed systems (Zookeeper, etcd)","Stateful caches (Redis with persistence)"],yaml:`apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: mysql
spec:
  serviceName: mysql
  replicas: 3
  selector:
    matchLabels:
      app: mysql
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
      - name: mysql
        image: mysql:8.0
        volumeMounts:
        - name: data
          mountPath: /var/lib/mysql
  volumeClaimTemplates:
  - metadata:
      name: data
    spec:
      accessModes: ["ReadWriteOnce"]
      resources:
        requests:
          storage: 10Gi`,example:"MySQL replica set: mysql-0 (master), mysql-1, mysql-2 (replicas)"},deployment:{name:"Deployment",description:"For stateless applications",characteristics:["No stable identity","Random pod names","Can scale up/down freely","Rolling updates easy","Pods are interchangeable"],useCases:["Web servers (Nginx, Apache)","Stateless APIs","Background workers","Microservices"],yaml:`apiVersion: apps/v1
kind: Deployment
metadata:
  name: webapp
spec:
  replicas: 5
  selector:
    matchLabels:
      app: webapp
  template:
    metadata:
      labels:
        app: webapp
    spec:
      containers:
      - name: webapp
        image: nginx:latest
        ports:
        - containerPort: 80`,example:"Web app: webapp-abc123, webapp-def456 (random suffixes)"}},i=[{aspect:"Identity",statefulset:"Stable (pod-0, pod-1)",deployment:"Random (pod-abc123)"},{aspect:"Storage",statefulset:"Persistent per pod",deployment:"Shared or ephemeral"},{aspect:"Scaling",statefulset:"Ordered (0â†’1â†’2)",deployment:"Parallel"},{aspect:"Updates",statefulset:"Ordered (2â†’1â†’0)",deployment:"Rolling parallel"},{aspect:"DNS",statefulset:"pod-0.service",deployment:"service (any pod)"},{aspect:"Use Case",statefulset:"Databases, queues",deployment:"Web apps, APIs"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Kubernetes Deep Dive"}),e.jsx("p",{className:"text-muted-foreground",children:"Master Kubernetes core concepts: Pods, Services, Deployments, ConfigMaps, Secrets, Ingress, and Service Mesh"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Select Concept to Explore:"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.keys(r).map(n=>e.jsxs("button",{onClick:()=>l(n),className:`p-3 rounded-lg border-2 transition-all ${s===n?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-gray-200 dark:border-gray-700 hover:border-blue-300"}`,children:[e.jsx("div",{className:"text-2xl mb-1",children:r[n].icon}),e.jsx("div",{className:"font-medium text-sm",children:r[n].name})]},n))})]}),e.jsxs("div",{className:"p-6 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"text-4xl",children:r[s].icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-xl font-bold mb-2",children:r[s].name}),e.jsx("p",{className:"text-muted-foreground",children:r[s].description})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Key Points:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:r[s].keyPoints.map((n,m)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ“"}),e.jsx("span",{children:n})]},m))})]}),r[s].yaml&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"YAML Example:"}),e.jsx("pre",{className:"bg-gray-400 p-4 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:r[s].yaml})})]}),r[s].types&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Types:"}),e.jsx("div",{className:"space-y-2",children:r[s].types.map((n,m)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded border",children:[e.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:n.name})," - ",e.jsx("span",{children:n.use}),n.example&&e.jsxs("span",{className:"text-sm text-muted-foreground",children:[" ","(e.g., ",n.example,")"]})]},m))})]}),r[s].strategies&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Deployment Strategies:"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left",children:"Strategy"}),e.jsx("th",{className:"border p-2 text-left",children:"Description"}),e.jsx("th",{className:"border p-2 text-left",children:"Downtime"}),e.jsx("th",{className:"border p-2 text-left",children:"Use Case"})]})}),e.jsx("tbody",{children:r[s].strategies.map((n,m)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-2 font-medium",children:n.name}),e.jsx("td",{className:"border p-2",children:n.desc}),e.jsx("td",{className:"border p-2",children:n.downtime}),e.jsx("td",{className:"border p-2",children:n.use})]},m))})]})})]}),r[s].controllers&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Popular Ingress Controllers:"}),e.jsx("div",{className:"space-y-2",children:r[s].controllers.map((n,m)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded border",children:[e.jsx("div",{className:"font-medium text-blue-600 dark:text-blue-400",children:n.name}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Use: "}),n.use," | ",e.jsxs("span",{className:"text-muted-foreground",children:["Features:"," "]}),n.features]})]},m))})]}),r[s].architecture&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Architecture:"}),e.jsx("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto text-sm",children:r[s].architecture})]}),r[s].features&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Key Features:"}),e.jsx("div",{className:"space-y-2",children:r[s].features.map((n,m)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded border",children:[e.jsx("div",{className:"font-medium",children:n.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:n.desc}),e.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:["Example: ",n.example]})]},m))})]}),r[s].tools&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Popular Tools:"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[e.jsx("th",{className:"border p-2 text-left",children:"Tool"}),e.jsx("th",{className:"border p-2 text-left",children:"Pros"}),e.jsx("th",{className:"border p-2 text-left",children:"Cons"}),e.jsx("th",{className:"border p-2 text-left",children:"Best For"})]})}),e.jsx("tbody",{children:r[s].tools.map((n,m)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-2 font-medium",children:n.name}),e.jsx("td",{className:"border p-2",children:n.pros}),e.jsx("td",{className:"border p-2",children:n.cons}),e.jsx("td",{className:"border p-2",children:n.use})]},m))})]})})]}),r[s].whenToUse&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2 text-green-600 dark:text-green-400",children:"âœ“ When to Use:"}),e.jsx("ul",{className:"space-y-1",children:r[s].whenToUse.map((n,m)=>e.jsxs("li",{className:"text-sm",children:["â€¢ ",n]},m))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2 text-red-600 dark:text-red-400",children:"âœ— When NOT to Use:"}),e.jsx("ul",{className:"space-y-1",children:r[s].whenNotToUse.map((n,m)=>e.jsxs("li",{className:"text-sm",children:["â€¢ ",n]},m))})]})]}),r[s].useCases&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Common Use Cases:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:r[s].useCases.map((n,m)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"â†’"}),e.jsx("span",{children:n})]},m))})]}),r[s].antiPatterns&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2 text-red-600 dark:text-red-400",children:"Anti-Patterns:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:r[s].antiPatterns.map((n,m)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 dark:text-red-400",children:"âœ—"}),e.jsx("span",{children:n})]},m))})]}),r[s].bestPractices&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Best Practices:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:r[s].bestPractices.map((n,m)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ“"}),e.jsx("span",{children:n})]},m))})]}),r[s].securityTips&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Security Best Practices:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:r[s].securityTips.map((n,m)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:"ðŸ”’"}),e.jsx("span",{children:n})]},m))})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-4",children:"StatefulSet vs Deployment Comparison"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Understanding when to use StatefulSets vs Deployments is crucial for architecting Kubernetes applications"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{onClick:()=>o("statefulset"),className:`px-4 py-2 rounded-lg font-medium transition-all ${t==="statefulset"?"bg-purple-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:"StatefulSet"}),e.jsx("button",{onClick:()=>o("deployment"),className:`px-4 py-2 rounded-lg font-medium transition-all ${t==="deployment"?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:"Deployment"})]}),e.jsxs("div",{className:" from-purple-50 to-blue-50 dark:from-purple-950 dark:to-blue-950 p-6 rounded-lg border border-purple-200 dark:border-purple-800 mb-4",children:[e.jsx("h5",{className:"text-lg font-bold mb-2",children:d[t].name}),e.jsx("p",{className:"text-muted-foreground mb-4",children:d[t].description}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold mb-2",children:"Characteristics:"}),e.jsx("div",{className:"grid gap-2",children:d[t].characteristics.map((n,m)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ“"}),e.jsx("span",{children:n})]},m))})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold mb-2",children:"Use Cases:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:d[t].useCases.map((n,m)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border",children:n},m))})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold mb-2",children:"Example:"}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-3 rounded",children:e.jsx("code",{className:"text-sm",children:d[t].example})})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold mb-2",children:"YAML Configuration:"}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:d[t].yaml})})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-3",children:"Side-by-Side Comparison:"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[e.jsx("th",{className:"border p-3 text-left",children:"Aspect"}),e.jsx("th",{className:"border p-3 text-left",children:"StatefulSet"}),e.jsx("th",{className:"border p-3 text-left",children:"Deployment"})]})}),e.jsx("tbody",{children:i.map((n,m)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-3 font-medium",children:n.aspect}),e.jsx("td",{className:"border p-3",children:n.statefulset}),e.jsx("td",{className:"border p-3",children:n.deployment})]},m))})]})})]})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950 p-6 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[e.jsx("h4",{className:"text-lg font-bold mb-3",children:"ðŸ’¡ Interview Tips"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:`Q: "What's the difference between a Pod and a Container?"`}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," A Pod is a Kubernetes abstraction that can contain one or more containers. Containers in the same Pod share network namespace (same IP) and can share volumes. Most Pods run a single container, but sidecar patterns use multiple containers (e.g., app + logging agent)."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:'Q: "When would you use StatefulSets instead of Deployments?"'}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," Use StatefulSets when you need stable pod identity and persistent storage per pod. Classic examples: databases (MySQL, PostgreSQL), distributed systems (Kafka, Zookeeper), caches with persistence (Redis). Use Deployments for stateless apps where pods are interchangeable."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:'Q: "How does Service Discovery work in Kubernetes?"'}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," Kubernetes has built-in DNS service discovery. Each Service gets a DNS name (service-name.namespace.svc.cluster.local). Pods can use this name to connect. Kubernetes also supports environment variables, but DNS is preferred. For external services, you can use ExternalName Service type."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:`Q: "What's the purpose of a Service Mesh?"`}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," Service Mesh adds sidecar proxies (like Envoy) to every pod to handle service-to-service communication. It provides mTLS encryption, traffic management (canary, circuit breaking), observability (traces, metrics), and policy enforcementâ€”all without changing application code. Trade-off: Adds complexity and resource overhead."]})]})]})]})]})},Ta=()=>{const[s,l]=x.useState("overview"),[t,o]=x.useState("consul"),a={overview:{name:"Service Discovery Overview",icon:"ðŸ”",description:"How services find and communicate with each other in distributed systems",architecture:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Service Discovery Flow             â”‚
â”‚                                          â”‚
â”‚  1. Service Registration                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚  â”‚Service Aâ”‚â”€â”€registerâ”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚   Service   â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚  Registry   â”‚ â”‚
â”‚  â”‚Service Bâ”‚â”€â”€registerâ”€â”€â–ºâ”‚             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚ (Consul/    â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚  etcd/DNS)  â”‚ â”‚
â”‚  â”‚Service Câ”‚â”€â”€registerâ”€â”€â–ºâ”‚             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                  â–²       â”‚
â”‚  2. Service Discovery            â”‚       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚       â”‚
â”‚  â”‚ Client  â”‚â”€â”€query servicesâ”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚       â”‚                                  â”‚
â”‚       â””â”€â”€call serviceâ”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚                         â”‚Service Aâ”‚      â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,keyPoints:["Services register on startup","Central registry tracks all services","Clients query registry to find services","Health checks ensure availability","Automatic deregistration on failure"],benefits:["Dynamic service locations","Automatic failover","Load balancing","No hard-coded endpoints","Scale services independently"],challenges:["Registry is single point of failure (need HA)","Network latency for lookups","Consistency vs availability trade-offs","TTL and caching complexity"]},clientSide:{name:"Client-Side Discovery",icon:"ðŸ‘¤",description:"Client queries service registry directly and handles load balancing",architecture:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Client-Side Discovery Pattern        â”‚
â”‚                                        â”‚
â”‚  Step 1: Query Registry                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Client â”‚â”€â”€1â”€â”€â”€â”€â–ºâ”‚   Service   â”‚    â”‚
â”‚  â”‚        â”‚â—„â”€â”€2â”€â”€â”€â”€â”‚  Registry   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚       â”‚ (gets list: A1, A2, A3)       â”‚
â”‚       â”‚                                â”‚
â”‚  Step 2: Client-Side Load Balancing    â”‚
â”‚       â”‚                                â”‚
â”‚       â”œâ”€â”€3aâ”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚       â”‚       â”‚Service A1â”‚             â”‚
â”‚       â”œâ”€â”€3bâ”€â”€â–ºâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚
â”‚       â”‚       â”‚Service A2â”‚             â”‚
â”‚       â””â”€â”€3câ”€â”€â–ºâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚
â”‚               â”‚Service A3â”‚             â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                        â”‚
â”‚  Client decides which instance to call â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,keyPoints:["Client queries registry directly","Client maintains service instance list","Client implements load balancing logic","Direct connection to service instances","Examples: Netflix Eureka + Ribbon"],pros:["Fewer network hops","Client controls load balancing strategy","No proxy/LB bottleneck","Better performance"],cons:["Client must implement discovery logic","Couples client to registry","Different languages = duplicate logic","Complex client code"],useCases:["Microservices within same platform","Performance-critical applications","Homogeneous tech stack","Netflix-style architectures"],example:`// Netflix Ribbon (Client-Side LB)
@LoadBalanced
@Bean
public RestTemplate restTemplate() {
    return new RestTemplate();
}

// Client code
String url = "http://user-service/api/users/123";
User user = restTemplate.getForObject(url, User.class);
// Ribbon resolves "user-service" and load balances`},serverSide:{name:"Server-Side Discovery",icon:"ðŸ–¥ï¸",description:"Load balancer/router queries registry and routes requests",architecture:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Server-Side Discovery Pattern        â”‚
â”‚                                        â”‚
â”‚  Step 1: Client calls LB               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚  â”‚ Client â”‚â”€â”€1â”€â”€â”€â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ Load Balancer â”‚  â”‚
â”‚                     â”‚   /  Router   â”‚  â”‚
â”‚  Step 2: LB queries â”‚   (Nginx/     â”‚  â”‚
â”‚         registry    â”‚    Traefik)   â”‚  â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚          â”‚
â”‚                         2   â”‚          â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                    â”‚    Service     â”‚  â”‚
â”‚                    â”‚   Registry     â”‚  â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚          â”‚
â”‚  Step 3: LB routes      3a  â”‚ 3b  â”‚3c  â”‚
â”‚         to instances        â”‚     â”‚    â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”    â”‚
â”‚                     â”‚  Service A1 â”‚    â”‚
â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚                     â”‚  Service A2 â”‚    â”‚
â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚                     â”‚  Service A3 â”‚    â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                        â”‚
â”‚  Client only knows LB, not services    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,keyPoints:["Client calls load balancer/router","LB queries registry for service instances","LB handles routing and load balancing","Client unaware of service instances","Examples: Kubernetes Service, AWS ALB"],pros:["Simpler client code","Centralized load balancing","Language agnostic","Easier to manage routing rules"],cons:["Extra network hop (LB)","LB can be bottleneck","LB is single point of failure","Less control for client"],useCases:["Kubernetes deployments","Polyglot environments","Public-facing APIs","Cloud-native applications"],example:`# Kubernetes Service (Server-Side Discovery)
apiVersion: v1
kind: Service
metadata:
  name: user-service
spec:
  selector:
    app: user-service
  ports:
  - port: 80
    targetPort: 8080
  type: LoadBalancer

# Client just calls: http://user-service/api/users
# Kubernetes DNS + Service handles discovery & LB`}},c={consul:{name:"HashiCorp Consul",icon:"ðŸ”·",description:"Full-featured service mesh with service discovery, health checking, and KV store",features:["Service registry with health checks","Multi-datacenter support","Service mesh capabilities (Connect)","Key-value store","DNS and HTTP interfaces"],healthChecks:["HTTP endpoint checks","TCP connection checks","Script execution","TTL-based checks","Docker health checks"],pros:["Rich feature set","Multi-DC out of box","Strong consistency (Raft)","Service mesh included","Great UI"],cons:["Complex to operate","Resource intensive","Steep learning curve","Overkill for simple use cases"],example:`# Register service with Consul
{
  "service": {
    "name": "user-service",
    "tags": ["v1", "production"],
    "address": "10.0.1.5",
    "port": 8080,
    "check": {
      "http": "http://10.0.1.5:8080/health",
      "interval": "10s",
      "timeout": "1s"
    }
  }
}

# Query service
curl http://localhost:8500/v1/catalog/service/user-service`,useCases:["Multi-cloud deployments","Complex microservices","Service mesh needs","Configuration management"]},etcd:{name:"CoreOS etcd",icon:"ðŸ“¦",description:"Distributed key-value store for configuration and service discovery",features:["Consistent key-value store","Watch for changes","TTL for keys","Transactional operations","Used by Kubernetes"],healthChecks:["Application-level heartbeats","TTL-based expiration","Watch for key changes","Leader election for monitoring"],pros:["Simple and reliable","Battle-tested (K8s uses it)","Strong consistency","Easy to understand","Lightweight"],cons:["Limited to key-value","No built-in health checks","Requires custom logic","No native service mesh"],example:`# Register service in etcd
etcdctl put /services/user-service/instance1 '{"host":"10.0.1.5","port":8080}' --lease=123

# Watch for service changes
etcdctl watch --prefix /services/user-service

# Query all instances
etcdctl get --prefix /services/user-service`,useCases:["Kubernetes clusters","Simple service discovery","Configuration storage","Distributed coordination"]},kubernetes:{name:"Kubernetes DNS",icon:"â˜¸ï¸",description:"Built-in service discovery via DNS and environment variables",features:["Automatic DNS records","Service-based discovery","Namespace isolation","Headless services","No external dependencies"],healthChecks:["Liveness probes (restart)","Readiness probes (traffic)","Startup probes (slow apps)","HTTP, TCP, exec probes"],pros:["Built into Kubernetes","Zero configuration","Native integration","Free","Simple to use"],cons:["Kubernetes-only","Basic features","No multi-cluster by default","Limited observability"],example:`# Service creates DNS record automatically
apiVersion: v1
kind: Service
metadata:
  name: user-service
  namespace: production
spec:
  selector:
    app: user-service
  ports:
  - port: 80

# Access via DNS:
# - user-service (same namespace)
# - user-service.production (cross-namespace)
# - user-service.production.svc.cluster.local (FQDN)`,useCases:["Kubernetes-native apps","Simple deployments","Getting started","No external dependencies"]},eureka:{name:"Netflix Eureka",icon:"ðŸŽ¬",description:"REST-based service registry for resilient mid-tier load balancing",features:["Client-side discovery","Self-preservation mode","Region/zone awareness","Peer-to-peer replication","Fast failover"],healthChecks:["Heartbeat mechanism","Renewal lease","Custom health indicators","Spring Boot Actuator integration"],pros:["Battle-tested at Netflix","AP over CP (availability)","Works well with Ribbon","Spring Cloud integration","Resilient to network partitions"],cons:["Java-centric","Eventually consistent","Self-preservation can be confusing","Netflix moving to other solutions"],example:`# application.yml
eureka:
  client:
    serviceUrl:
      defaultZone: http://localhost:8761/eureka/
  instance:
    leaseRenewalIntervalInSeconds: 10
    leaseExpirationDurationInSeconds: 30

# Register automatically with @EnableEurekaClient
@SpringBootApplication
@EnableEurekaClient
public class UserServiceApplication { }

# Query: GET http://eureka-server:8761/eureka/apps`,useCases:["Spring Boot microservices","Netflix OSS stack","Client-side load balancing","Java ecosystems"]}},r=[{type:"Active Health Checks",description:"Registry actively polls services",methods:["HTTP GET /health","TCP connection test","Ping","gRPC health check"],pros:["Catch failures quickly","Configurable intervals","Centralized monitoring"],cons:["Additional network traffic","Can overwhelm services","False positives"],example:"Consul checks every 10s: GET /health, expects 200 OK"},{type:"Passive Health Checks",description:"Detect failures through request failures",methods:["Circuit breaker pattern","Error rate tracking","Response time monitoring"],pros:["No extra requests","Real user experience","Production traffic"],cons:["Slower detection","Requires client logic","Complex implementation"],example:"After 5 consecutive failures, mark service unhealthy"},{type:"Heartbeat Mechanism",description:"Services send periodic signals",methods:["TTL renewal","Lease extension","Keep-alive messages"],pros:["Service controls timing","Low overhead","Simple protocol"],cons:["Network delays","Missed heartbeats","Clock skew issues"],example:"Service renews 30s TTL every 10s"}],d=[{aspect:"Consistency",consul:"Strong (CP)",etcd:"Strong (CP)",kubernetes:"Strong (CP)",eureka:"Eventual (AP)"},{aspect:"Health Checks",consul:"Built-in",etcd:"Manual",kubernetes:"Built-in",eureka:"Heartbeat"},{aspect:"Multi-DC",consul:"Native",etcd:"External",kubernetes:"Federation",eureka:"Region/Zone"},{aspect:"Language",consul:"Agnostic",etcd:"Agnostic",kubernetes:"Agnostic",eureka:"Java-focused"},{aspect:"Complexity",consul:"High",etcd:"Medium",kubernetes:"Low (if K8s)",eureka:"Medium"},{aspect:"Service Mesh",consul:"Yes",etcd:"No",kubernetes:"Via Istio",eureka:"No"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Service Discovery"}),e.jsx("p",{className:"text-muted-foreground",children:"Learn how services find and communicate with each other in distributed systems"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Discovery Patterns:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.keys(a).map(i=>e.jsxs("button",{onClick:()=>l(i),className:`p-4 rounded-lg border-2 transition-all text-left ${s===i?"border-green-500 bg-green-50 dark:bg-green-950":"border-gray-200 dark:border-gray-700 hover:border-green-300"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:a[i].icon}),e.jsx("div",{className:"font-medium",children:a[i].name})]},i))})]}),e.jsxs("div",{className:"from-green-50 to-teal-50 dark:from-green-950 dark:to-teal-950 p-6 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"text-4xl",children:a[s].icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-xl font-bold mb-2",children:a[s].name}),e.jsx("p",{className:"text-muted-foreground",children:a[s].description})]})]}),e.jsxs("div",{className:"space-y-4",children:[a[s].architecture&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Architecture:"}),e.jsx("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto text-sm",children:a[s].architecture})]}),a[s].keyPoints&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Key Points:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:a[s].keyPoints.map((i,n)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"â†’"}),e.jsx("span",{children:i})]},n))})]}),a[s].pros&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2 text-green-600 dark:text-green-400",children:"âœ“ Pros:"}),e.jsx("ul",{className:"space-y-1",children:a[s].pros.map((i,n)=>e.jsxs("li",{className:"text-sm flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"+"}),e.jsx("span",{children:i})]},n))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2 text-red-600 dark:text-red-400",children:"âœ— Cons:"}),e.jsx("ul",{className:"space-y-1",children:a[s].cons.map((i,n)=>e.jsxs("li",{className:"text-sm flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 dark:text-red-400",children:"-"}),e.jsx("span",{children:i})]},n))})]})]}),a[s].useCases&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Use Cases:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:a[s].useCases.map((i,n)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border",children:i},n))})]}),a[s].example&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Code Example:"}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:a[s].example})})]}),a[s].benefits&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2 text-green-600 dark:text-green-400",children:"Benefits:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:a[s].benefits.map((i,n)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ“"}),e.jsx("span",{children:i})]},n))})]}),a[s].challenges&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2 text-orange-600 dark:text-orange-400",children:"Challenges:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:a[s].challenges.map((i,n)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:"âš "}),e.jsx("span",{children:i})]},n))})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-4",children:"Service Discovery Tools"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Compare popular service discovery tools and choose the right one for your needs"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4",children:Object.keys(c).map(i=>e.jsxs("button",{onClick:()=>o(i),className:`p-3 rounded-lg border-2 transition-all ${t===i?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-gray-200 dark:border-gray-700 hover:border-blue-300"}`,children:[e.jsx("div",{className:"text-2xl mb-1",children:c[i].icon}),e.jsx("div",{className:"font-medium text-sm",children:c[i].name})]},i))}),e.jsxs("div",{className:" from-blue-50 to-cyan-50 dark:from-blue-950 dark:to-cyan-950 p-6 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"text-4xl",children:c[t].icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"text-lg font-bold mb-2",children:c[t].name}),e.jsx("p",{className:"text-muted-foreground",children:c[t].description})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold mb-2",children:"Features:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:c[t].features.map((i,n)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"â†’"}),e.jsx("span",{children:i})]},n))})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold mb-2",children:"Health Check Methods:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:c[t].healthChecks.map((i,n)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border",children:i},n))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold mb-2 text-green-600 dark:text-green-400",children:"âœ“ Pros:"}),e.jsx("ul",{className:"space-y-1",children:c[t].pros.map((i,n)=>e.jsxs("li",{className:"text-sm",children:["â€¢ ",i]},n))})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold mb-2 text-red-600 dark:text-red-400",children:"âœ— Cons:"}),e.jsx("ul",{className:"space-y-1",children:c[t].cons.map((i,n)=>e.jsxs("li",{className:"text-sm",children:["â€¢ ",i]},n))})]})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold mb-2",children:"Example Usage:"}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:c[t].example})})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold mb-2",children:"Best For:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:c[t].useCases.map((i,n)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border",children:i},n))})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"font-semibold mb-3",children:"Tool Comparison Matrix:"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[e.jsx("th",{className:"border p-3 text-left",children:"Aspect"}),e.jsx("th",{className:"border p-3 text-left",children:"Consul"}),e.jsx("th",{className:"border p-3 text-left",children:"etcd"}),e.jsx("th",{className:"border p-3 text-left",children:"Kubernetes"}),e.jsx("th",{className:"border p-3 text-left",children:"Eureka"})]})}),e.jsx("tbody",{children:d.map((i,n)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-3 font-medium",children:i.aspect}),e.jsx("td",{className:"border p-3",children:i.consul}),e.jsx("td",{className:"border p-3",children:i.etcd}),e.jsx("td",{className:"border p-3",children:i.kubernetes}),e.jsx("td",{className:"border p-3",children:i.eureka})]},n))})]})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-4",children:"Health Check Patterns"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Different approaches to monitoring service health and availability"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:r.map((i,n)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border",children:[e.jsx("h5",{className:"font-bold mb-2",children:i.type}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:i.description}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold text-sm mb-1",children:"Methods:"}),e.jsx("ul",{className:"space-y-1",children:i.methods.map((m,p)=>e.jsxs("li",{className:"text-xs",children:["â€¢ ",m]},p))})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold text-sm mb-1 text-green-600 dark:text-green-400",children:"Pros:"}),e.jsx("ul",{className:"space-y-1",children:i.pros.map((m,p)=>e.jsxs("li",{className:"text-xs",children:["+ ",m]},p))})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold text-sm mb-1 text-red-600 dark:text-red-400",children:"Cons:"}),e.jsx("ul",{className:"space-y-1",children:i.cons.map((m,p)=>e.jsxs("li",{className:"text-xs",children:["- ",m]},p))})]}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-900 p-2 rounded",children:e.jsx("p",{className:"text-xs font-mono",children:i.example})})]})]},n))})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950 p-6 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[e.jsx("h4",{className:"text-lg font-bold mb-3",children:"ðŸ’¡ Interview Tips"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:`Q: "What's the difference between client-side and server-side service discovery?"`}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," Client-side discovery: Client queries registry directly and handles load balancing (e.g., Netflix Eureka + Ribbon). Fewer hops but complex client. Server-side: Load balancer queries registry and routes requests (e.g., Kubernetes Service). Simpler client but extra hop. Choose based on control vs simplicity trade-off."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:'Q: "How do you handle service registry failures?"'}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," Use highly available registry (3-5 nodes with Raft consensus). Cache service list on clients for temporary outages. Implement fallback to last-known-good state. Monitor registry health. Consider eventual consistency (AP) vs strong consistency (CP) based on CAP theorem trade-offs."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:`Q: "What's the purpose of health checks in service discovery?"`}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," Health checks ensure only healthy instances receive traffic. Active checks poll services (HTTP /health), passive checks detect failures via circuit breakers, heartbeats let services self-report. Critical for automatic failover. Balance check frequency (faster detection) with overhead (network traffic, load)."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:'Q: "How does Kubernetes service discovery work?"'}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," Kubernetes creates DNS records for every Service (servicename.namespace.svc.cluster.local). Pods can use DNS names to find services. kube-proxy watches API server for service/endpoint changes and updates iptables/IPVS rules for load balancing. Completely automaticâ€”zero configuration needed. Server-side discovery pattern."]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-6 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"text-lg font-bold mb-3",children:"ðŸ“‹ Decision Guide: Choosing a Service Discovery Tool"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border",children:[e.jsx("p",{className:"font-medium text-green-600 dark:text-green-400",children:"Choose Kubernetes DNS if:"}),e.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[e.jsx("li",{children:"â€¢ You're already using Kubernetes"}),e.jsx("li",{children:"â€¢ Simple deployments within single cluster"}),e.jsx("li",{children:"â€¢ Want zero configuration"}),e.jsx("li",{children:"â€¢ Don't need multi-cluster/multi-cloud"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border",children:[e.jsx("p",{className:"font-medium text-blue-600 dark:text-blue-400",children:"Choose Consul if:"}),e.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[e.jsx("li",{children:"â€¢ Multi-datacenter deployments"}),e.jsx("li",{children:"â€¢ Need service mesh capabilities"}),e.jsx("li",{children:"â€¢ Polyglot environment"}),e.jsx("li",{children:"â€¢ Want comprehensive feature set"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border",children:[e.jsx("p",{className:"font-medium text-purple-600 dark:text-purple-400",children:"Choose etcd if:"}),e.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[e.jsx("li",{children:"â€¢ Need reliable key-value store"}),e.jsx("li",{children:"â€¢ Building custom discovery logic"}),e.jsx("li",{children:"â€¢ Strong consistency required"}),e.jsx("li",{children:"â€¢ Kubernetes-adjacent tooling"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border",children:[e.jsx("p",{className:"font-medium text-orange-600 dark:text-orange-400",children:"Choose Eureka if:"}),e.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[e.jsx("li",{children:"â€¢ Spring Boot microservices"}),e.jsx("li",{children:"â€¢ Netflix OSS stack"}),e.jsx("li",{children:"â€¢ Client-side load balancing (Ribbon)"}),e.jsx("li",{children:"â€¢ Availability over consistency"})]})]})]})]})]})},Ra=()=>{const[s,l]=x.useState("logging"),[t,o]=x.useState("multiLanguage"),a={logging:{name:"Logging Sidecar",icon:"ðŸ“",description:"Separate logging concerns from application code",diagram:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Pod                     â”‚
â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Application â”‚  â”‚  Logging   â”‚ â”‚
â”‚  â”‚ Container   â”‚  â”‚  Sidecar   â”‚ â”‚
â”‚  â”‚             â”‚  â”‚            â”‚ â”‚
â”‚  â”‚ writes logs â”‚  â”‚ Fluentd/   â”‚ â”‚
â”‚  â”‚ to stdout/  â”‚  â”‚ Filebeat   â”‚ â”‚
â”‚  â”‚ shared vol  â”œâ”€â–ºâ”‚            â”‚ â”‚
â”‚  â”‚             â”‚  â”‚ forwards   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ to ELK/    â”‚ â”‚
â”‚                   â”‚ CloudWatch â”‚ â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ Log Storage  â”‚
                   â”‚ (ELK, etc.)  â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,tools:[{name:"Fluentd",desc:"Unified logging layer",features:"Plugins, buffers, filters"},{name:"Filebeat",desc:"Lightweight log shipper",features:"Low resource, reliable"},{name:"Logstash",desc:"Data processing pipeline",features:"Transform, enrich"},{name:"Vector",desc:"Modern observability",features:"Fast, lightweight"}],keyFeatures:["Log aggregation from multiple sources","Format transformation (JSON, syslog)","Buffering for resilience","Multi-destination forwarding","Filtering and routing"],benefits:["Application doesn't handle log shipping","Language-agnostic solution","Centralized log configuration","Easy to update logging logic","Reduce application complexity"],example:`# Docker Compose with Logging Sidecar
version: '3'
services:
  app:
    image: my-app:latest
    volumes:
      - logs:/var/log/app
  
  fluentd:
    image: fluent/fluentd:latest
    volumes:
      - logs:/var/log/app:ro
      - ./fluent.conf:/fluentd/etc/fluent.conf
    environment:
      - ELASTICSEARCH_HOST=elasticsearch
      - ELASTICSEARCH_PORT=9200

volumes:
  logs:

# Kubernetes Pod with Logging Sidecar
apiVersion: v1
kind: Pod
metadata:
  name: app-with-logging
spec:
  containers:
  - name: app
    image: my-app:latest
    volumeMounts:
    - name: logs
      mountPath: /var/log/app
  
  - name: fluentd
    image: fluent/fluentd:latest
    volumeMounts:
    - name: logs
      mountPath: /var/log/app
      readOnly: true
    env:
    - name: FLUENT_ELASTICSEARCH_HOST
      value: "elasticsearch.logging"
  
  volumes:
  - name: logs
    emptyDir: {}`,useCases:["Microservices with diverse tech stacks","Legacy apps without log shipping","Centralized log management","Compliance and audit requirements"]},monitoring:{name:"Monitoring Sidecar",icon:"ðŸ“Š",description:"Collect and export metrics without instrumenting application",diagram:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Pod                     â”‚
â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Application â”‚  â”‚ Monitoring â”‚ â”‚
â”‚  â”‚ Container   â”‚  â”‚  Sidecar   â”‚ â”‚
â”‚  â”‚             â”‚  â”‚            â”‚ â”‚
â”‚  â”‚ exposes     â”‚  â”‚ Prometheus â”‚ â”‚
â”‚  â”‚ metrics on  â”‚  â”‚ Exporter / â”‚ â”‚
â”‚  â”‚ :8080/      â”œâ”€â–ºâ”‚ StatsD     â”‚ â”‚
â”‚  â”‚  metrics    â”‚  â”‚            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ scrapes &  â”‚ â”‚
â”‚                   â”‚ exports    â”‚ â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  Monitoring  â”‚
                   â”‚ (Prometheus) â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,tools:[{name:"Prometheus Exporters",desc:"Expose metrics for scraping",features:"JMX, Node, Custom"},{name:"StatsD",desc:"Metrics aggregation",features:"UDP, low overhead"},{name:"Telegraf",desc:"Plugin-driven agent",features:"200+ plugins"},{name:"OpenTelemetry Collector",desc:"Vendor-agnostic",features:"Traces, metrics, logs"}],keyFeatures:["Metric collection and aggregation","Protocol translation (StatsD â†’ Prometheus)","Metric enrichment (labels, tags)","Local caching and batching","Health check endpoints"],benefits:["No code changes to application","Consistent monitoring across services","Easy to swap monitoring backends","Resource usage isolation","Upgrade monitoring without app redeployment"],example:`# Kubernetes Pod with Monitoring Sidecar
apiVersion: v1
kind: Pod
metadata:
  name: app-with-monitoring
  annotations:
    prometheus.io/scrape: "true"
    prometheus.io/port: "9090"
spec:
  containers:
  - name: app
    image: my-app:latest
    ports:
    - containerPort: 8080
  
  - name: prometheus-exporter
    image: prom/jmx-exporter:latest
    ports:
    - containerPort: 9090
      name: metrics
    volumeMounts:
    - name: config
      mountPath: /etc/jmx-exporter
  
  volumes:
  - name: config
    configMap:
      name: jmx-exporter-config

---
# Telegraf Sidecar with StatsD
apiVersion: v1
kind: Pod
metadata:
  name: app-with-telegraf
spec:
  containers:
  - name: app
    image: my-app:latest
    env:
    - name: STATSD_HOST
      value: "localhost"
    - name: STATSD_PORT
      value: "8125"
  
  - name: telegraf
    image: telegraf:latest
    ports:
    - containerPort: 8125
      protocol: UDP
    volumeMounts:
    - name: telegraf-config
      mountPath: /etc/telegraf
  
  volumes:
  - name: telegraf-config
    configMap:
      name: telegraf-config`,useCases:["Legacy apps without built-in metrics","Standardize monitoring across polyglot stack","JVM applications (JMX exporter)","Protocol translation needs"]},proxy:{name:"Proxy Sidecar (Envoy)",icon:"ðŸ”€",description:"Handle network communication, retries, circuit breaking",diagram:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Pod A                    â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   App    â”‚â—„â”€â”€â–ºâ”‚ Envoy Proxy  â”‚ â”‚
â”‚  â”‚Container â”‚    â”‚   Sidecar    â”‚â”€â”¼â”€â”
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚                                    â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ mTLS, retries, circuit breaking,
â”‚ observability, traffic management
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Pod B                    â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Envoy Proxy  â”‚â—„â”€â”¤   App    â”‚   â”‚
â”‚  â”‚   Sidecar    â”‚  â”‚Container â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,tools:[{name:"Envoy",desc:"Cloud-native proxy",features:"Advanced LB, observability"},{name:"Linkerd Proxy",desc:"Lightweight Rust proxy",features:"Fast, simple"},{name:"NGINX",desc:"Traditional proxy",features:"Battle-tested"},{name:"Traefik",desc:"Modern HTTP proxy",features:"Auto-discovery"}],keyFeatures:["Service-to-service communication","Load balancing (round-robin, least-conn)","Circuit breaking and retries","mTLS encryption automatic","Traffic shaping (rate limiting, timeouts)","Observability (metrics, traces, logs)"],benefits:["Zero code changes for mTLS","Consistent retry/timeout policies","Traffic visibility without instrumentation","Canary deployments easy","Circuit breaking prevents cascading failures"],example:`# Istio Sidecar Injection (automatic)
apiVersion: v1
kind: Pod
metadata:
  name: my-app
  labels:
    app: my-app
  annotations:
    sidecar.istio.io/inject: "true"
spec:
  containers:
  - name: app
    image: my-app:latest
# Istio automatically injects Envoy sidecar

---
# Manual Envoy Sidecar
apiVersion: v1
kind: Pod
metadata:
  name: app-with-envoy
spec:
  containers:
  - name: app
    image: my-app:latest
    ports:
    - containerPort: 8080
  
  - name: envoy
    image: envoyproxy/envoy:v1.24
    ports:
    - containerPort: 15001  # Envoy admin
    - containerPort: 15000  # Egress
    volumeMounts:
    - name: envoy-config
      mountPath: /etc/envoy
    command:
    - /usr/local/bin/envoy
    - -c
    - /etc/envoy/envoy.yaml
  
  volumes:
  - name: envoy-config
    configMap:
      name: envoy-config`,useCases:["Service mesh implementations (Istio, Linkerd)","mTLS between services","Advanced traffic management","Distributed tracing","Zero-trust security"],serviceMeshIntegration:["Istio uses Envoy as data plane","Linkerd uses custom Rust proxy","Consul Connect uses built-in proxy","All provide control plane for config"]},adapter:{name:"Adapter Sidecar",icon:"ðŸ”Œ",description:"Adapt interface or protocol for external communication",diagram:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Pod                      â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   App    â”‚    â”‚   Adapter    â”‚ â”‚
â”‚  â”‚(gRPC API)â”‚â—„â”€â”€â–ºâ”‚   Sidecar    â”‚â”€â”¼â”€â”€â–º REST API
â”‚  â”‚          â”‚    â”‚ (gRPCâ†’REST)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Use Cases:
â€¢ Protocol translation (gRPC â†” REST)
â€¢ API versioning (v1 â†’ v2 adapter)
â€¢ Legacy system integration
â€¢ Format conversion (XML â†” JSON)`,keyFeatures:["Protocol translation","API versioning and compatibility","Message format transformation","Authentication/authorization injection","Rate limiting and throttling"],benefits:["Keep application simple","Support multiple protocols","Backwards compatibility","Easy to update adapters","Reusable across services"],example:`# gRPC to REST Adapter Sidecar
apiVersion: v1
kind: Pod
metadata:
  name: app-with-adapter
spec:
  containers:
  - name: app
    image: my-grpc-app:latest
    ports:
    - containerPort: 50051
      name: grpc
  
  - name: grpc-rest-adapter
    image: grpc-gateway:latest
    ports:
    - containerPort: 8080
      name: http
    env:
    - name: GRPC_BACKEND
      value: "localhost:50051"
    - name: HTTP_PORT
      value: "8080"`,useCases:["Expose gRPC service as REST API","Legacy protocol support","API versioning","Third-party integration"]}},c={multiLanguage:{name:"Multi-Language Teams",description:"Different teams use different languages/frameworks",problem:"How to provide consistent logging/monitoring across Java, Python, Go, Node.js services?",solution:"Use logging and monitoring sidecars. Each app logs to stdout, sidecar handles shipping.",benefits:["No need for language-specific logging libraries","Consistent log format across all services","Central configuration management","Easy to onboard new languages"],architecture:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Java Service      â”‚  â”‚  Python Service    â”‚  â”‚   Go Service       â”‚
â”‚  + Fluentd Sidecar â”‚  â”‚  + Fluentd Sidecar â”‚  â”‚  + Fluentd Sidecar â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                       â”‚                        â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  Elasticsearch  â”‚
                          â”‚   (Centralized) â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`},legacy:{name:"Legacy Application Modernization",description:"Adding cloud-native features to legacy apps without changing code",problem:"Legacy Java app has no metrics, no distributed tracing, no mTLS",solution:"Add sidecars: JMX exporter for metrics, Envoy for mTLS and tracing",benefits:["No legacy code changes required","Get modern observability","Secure communication (mTLS)","Gradual migration path"],architecture:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Legacy Java App Pod                â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚  Legacy App    â”‚ (unchanged)     â”‚
â”‚  â”‚  (2010 code)   â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚           â”‚                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  JMX Exporter  â”‚  â”‚   Envoy   â”‚ â”‚
â”‚  â”‚   (metrics)    â”‚  â”‚  (mTLS +  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  tracing) â”‚ â”‚
â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`},compliance:{name:"Compliance & Security",description:"Enforce security policies without modifying applications",problem:"Need mTLS, audit logs, and encryption for all services. 50+ microservices.",solution:"Service mesh with Envoy sidecars automatically handles mTLS and audit logging",benefits:["Zero code changes across 50+ services","Automatic mTLS certificate rotation","Centralized policy enforcement","Complete audit trail"],architecture:`
All services get Envoy sidecar via service mesh:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     mTLS      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Service A  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Service B  â”‚
â”‚ + Envoy    â”‚   encrypted    â”‚ + Envoy    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚                             â”‚
       â”‚ Audit Logs                  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ Control Planeâ”‚
          â”‚ (Istio/etc.) â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`},development:{name:"Development vs Production",description:"Different sidecar configurations for different environments",problem:"Need verbose logging in dev, but minimal in production",solution:"Configure sidecar via ConfigMap/environment, change per environment",benefits:["Same application image everywhere","Environment-specific sidecar configs","Easy A/B testing of sidecar versions","Simplified deployment pipeline"],architecture:`
Development:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App + Verbose Fluentd Sidecar  â”‚
â”‚ (debug level, all logs)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Production:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App + Optimized Fluentd        â”‚
â”‚ (error level only, buffered)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Same app image, different sidecar config!`}},r=[{category:"When to Use",items:["Cross-cutting concerns (logging, monitoring, security)","Language-agnostic capabilities needed","Legacy apps without modern features","Consistent policies across services","Service mesh requirements","Polyglot microservices architecture"]},{category:"Pros",items:["Separation of concerns","Language-agnostic","Reusable across services","Independent deployment/upgrade","No application code changes","Easier testing (mock sidecar)"]},{category:"Cons",items:["Resource overhead (extra container)","Increased complexity","Container orchestration required","Network latency (localhost usually negligible)","Debugging can be harder","Version compatibility management"]}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Sidecar Pattern"}),e.jsx("p",{className:"text-muted-foreground",children:"Learn how sidecar containers extend application capabilities without modifying code"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Sidecar Types:"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.keys(a).map(d=>e.jsxs("button",{onClick:()=>l(d),className:`p-4 rounded-lg border-2 transition-all text-left ${s===d?"border-purple-500 bg-purple-50 dark:bg-purple-950":"border-gray-200 dark:border-gray-700 hover:border-purple-300"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:a[d].icon}),e.jsx("div",{className:"font-medium text-sm",children:a[d].name})]},d))})]}),e.jsxs("div",{className:"from-purple-50 to-pink-50 dark:from-purple-950 dark:to-pink-950 p-6 rounded-lg border border-purple-200 dark:border-purple-800",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"text-4xl",children:a[s].icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-xl font-bold mb-2",children:a[s].name}),e.jsx("p",{className:"text-muted-foreground",children:a[s].description})]})]}),e.jsxs("div",{className:"space-y-4",children:[a[s].diagram&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Architecture:"}),e.jsx("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto text-sm",children:a[s].diagram})]}),a[s].tools&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Popular Tools:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:a[s].tools.map((d,i)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded border",children:[e.jsx("div",{className:"font-medium text-purple-600 dark:text-purple-400",children:d.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:d.desc}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:d.features})]},i))})]}),a[s].keyFeatures&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Key Features:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:a[s].keyFeatures.map((d,i)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"â†’"}),e.jsx("span",{children:d})]},i))})]}),a[s].benefits&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2 text-green-600 dark:text-green-400",children:"Benefits:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:a[s].benefits.map((d,i)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ“"}),e.jsx("span",{children:d})]},i))})]}),a[s].example&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Implementation Example:"}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:a[s].example})})]}),a[s].serviceMeshIntegration&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Service Mesh Integration:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:a[s].serviceMeshIntegration.map((d,i)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border",children:d},i))})]}),a[s].useCases&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Use Cases:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:a[s].useCases.map((d,i)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border",children:d},i))})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-4",children:"Real-World Scenarios"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"See how sidecar pattern solves practical problems in production environments"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4",children:Object.keys(c).map(d=>e.jsx("button",{onClick:()=>o(d),className:`p-3 rounded-lg border-2 transition-all text-left ${t===d?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-gray-200 dark:border-gray-700 hover:border-blue-300"}`,children:e.jsx("div",{className:"font-medium text-sm",children:c[d].name})},d))}),e.jsxs("div",{className:" from-blue-50 to-cyan-50 dark:from-blue-950 dark:to-cyan-950 p-6 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("h5",{className:"text-lg font-bold mb-2",children:c[t].name}),e.jsx("p",{className:"text-muted-foreground mb-4",children:c[t].description}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border",children:[e.jsx("h6",{className:"font-semibold mb-2 text-red-600 dark:text-red-400",children:"Problem:"}),e.jsx("p",{children:c[t].problem})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border",children:[e.jsx("h6",{className:"font-semibold mb-2 text-green-600 dark:text-green-400",children:"Solution:"}),e.jsx("p",{children:c[t].solution})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold mb-2",children:"Benefits:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:c[t].benefits.map((d,i)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ“"}),e.jsx("span",{children:d})]},i))})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold mb-2",children:"Architecture:"}),e.jsx("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto text-sm",children:c[t].architecture})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-4",children:"Decision Framework"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:r.map((d,i)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border",children:[e.jsxs("h5",{className:`font-bold mb-3 ${d.category==="Pros"?"text-green-600 dark:text-green-400":d.category==="Cons"?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400"}`,children:[d.category==="Pros"&&"âœ“ ",d.category==="Cons"&&"âœ— ",d.category==="When to Use"&&"ðŸŽ¯ ",d.category]}),e.jsx("ul",{className:"space-y-2",children:d.items.map((n,m)=>e.jsxs("li",{className:"text-sm",children:[d.category==="Pros"&&e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"+ "}),d.category==="Cons"&&e.jsx("span",{className:"text-red-600 dark:text-red-400",children:"- "}),d.category==="When to Use"&&e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"â€¢ "}),n]},m))})]},i))})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950 p-6 rounded-lg border border-orange-200 dark:border-orange-800",children:[e.jsx("h4",{className:"text-lg font-bold mb-3",children:"âš ï¸ Resource Considerations"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Memory Overhead:"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Each sidecar adds 50-200MB RAM. With 100 pods Ã— 2 sidecars = 10-40GB cluster overhead. Use lightweight sidecars (Linkerd proxy ~10MB vs Envoy ~50MB)."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"CPU Usage:"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Proxies use 0.1-0.5 CPU per pod. Logging sidecars minimal unless high throughput. Set resource limits to prevent sidecar from starving main container."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Network Latency:"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Localhost communication is fast (~0.1ms), but proxy adds 1-3ms. Usually negligible, but consider for latency-sensitive apps (high-frequency trading, gaming)."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Deployment Complexity:"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Requires container orchestration (Kubernetes). More moving parts = more things to monitor. Use service mesh for automatic sidecar injection (Istio, Linkerd)."})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950 p-6 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[e.jsx("h4",{className:"text-lg font-bold mb-3",children:"ðŸ’¡ Interview Tips"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:'Q: "What is the sidecar pattern and why use it?"'}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," Sidecar pattern deploys additional containers alongside main application container in same pod. Use it for cross-cutting concerns (logging, monitoring, security) without modifying app code. Benefits: separation of concerns, language-agnostic, reusable. Trade-off: resource overhead and complexity."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:'Q: "Explain a real-world use case for sidecars"'}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," Legacy Java app from 2010 has no metrics or distributed tracing. Instead of rewriting code, add JMX exporter sidecar for metrics and Envoy sidecar for mTLS and tracing. Zero code changes, get modern observability and security. Perfect for gradual modernization."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:`Q: "What's the difference between sidecar and service mesh?"`}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," Service mesh uses sidecar patternâ€”it deploys proxy sidecars (Envoy) to every pod. Sidecar is the pattern, service mesh is the implementation at scale with central control plane (Istio, Linkerd). You can use sidecars without full service mesh for simpler use cases."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:'Q: "How do you handle resource overhead from sidecars?"'}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("strong",{children:"A:"})," Set resource requests/limits on sidecars. Use lightweight options (Linkerd proxy vs Envoy). Share sidecars where possible (one Fluentd per node via DaemonSet). Monitor resource usage. Consider sidecarless alternatives for simple cases (agent on host, no per-pod sidecar)."]})]})]})]})]})},Ze=s=>{const l=Number(s);return Number.isNaN(l)?0:Math.max(0,Math.min(100,l))},ms=s=>`${Math.round(s)}ms`,Ea=()=>{const[s,l]=x.useState("canary"),[t,o]=x.useState(30),[a,c]=x.useState(10),[r,d]=x.useState(.2),[i,n]=x.useState(1),[m,p]=x.useState(180),[g,h]=x.useState(320),u=x.useMemo(()=>s==="rolling"?Ze(t):s==="blue-green"?a>=50?100:0:Ze(a),[s,t,a]),C=100-u,S=x.useMemo(()=>{const D=C/100*r+u/100*i,ee=C/100*m+u/100*g;return{totalErrorPct:D,totalP95:ee}},[C,u,r,i,m,g]),V=x.useMemo(()=>{const w=S.totalErrorPct>1,H=S.totalP95>300;return w||H?{label:"Rollback / stop rollout",tone:"bg-red-50 border-red-200 text-red-800",reason:`Budget exceeded: ${w?"error rate":""}${w&&H?" + ":""}${H?"p95 latency":""}.`}:u===100?{label:"Promote to 100%",tone:"bg-green-50 border-green-200 text-green-800",reason:"Within budget at full traffic."}:{label:"Continue gradually",tone:"bg-amber-50 border-amber-200 text-amber-800",reason:"Within budget so far â€” increase slowly and watch telemetry."}},[S.totalErrorPct,S.totalP95,u]);return e.jsxs("div",{className:"bg-white border-2 border-indigo-200 rounded-2xl p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg  from-indigo-500 to-purple-600 flex items-center justify-center text-white text-xl",children:"ðŸš¦"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Deployment Strategy Simulator"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Compare rolling vs blue/green vs canary"})]})]})}),e.jsx("div",{className:"text-xs font-semibold text-indigo-600 bg-indigo-50 py-1.5 px-3 rounded-full",children:"Interactive"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide",children:"Strategy"}),e.jsx("div",{className:"mt-2 grid grid-cols-3 gap-2",children:[{id:"rolling",label:"Rolling"},{id:"blue-green",label:"Blue/Green"},{id:"canary",label:"Canary"}].map(D=>e.jsx("button",{type:"button",onClick:()=>l(D.id),className:`text-xs font-semibold rounded-lg px-2 py-2 border transition-colors ${s===D.id?"bg-white border-indigo-300 text-indigo-700":"bg-white/60 border-slate-200 text-slate-700 hover:border-slate-300"}`,children:D.label},D.id))})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide",children:"Traffic to new version (%)"}),s==="rolling"?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"range",min:0,max:100,step:5,value:t,onChange:D=>o(Number(D.target.value)),className:"w-full mt-2 accent-indigo-600"}),e.jsxs("div",{className:"text-sm font-bold text-indigo-700 mt-2",children:[Ze(t),"% (rollout progress)"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"range",min:0,max:100,step:5,value:a,onChange:D=>c(Number(D.target.value)),className:"w-full mt-2 accent-indigo-600"}),e.jsx("div",{className:"text-sm font-bold text-indigo-700 mt-2",children:s==="blue-green"?`${a>=50?100:0}% (switch)`:`${Ze(a)}%`})]}),e.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Effective split: ",C,"% old / ",u,"% new"]})]}),e.jsxs("div",{className:`rounded-lg p-3 border ${V.tone}`,children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide",children:"Recommendation"}),e.jsx("div",{className:"text-lg font-extrabold mt-1",children:V.label}),e.jsx("div",{className:"text-xs mt-1",children:V.reason})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide mb-3",children:"Version health inputs"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Old error rate (%)"}),e.jsxs("span",{className:"text-xs font-bold text-slate-800",children:[r.toFixed(1),"%"]})]}),e.jsx("input",{type:"range",min:0,max:5,step:.1,value:r,onChange:D=>d(Number(D.target.value)),className:"w-full mt-2 accent-slate-600"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"New error rate (%)"}),e.jsxs("span",{className:"text-xs font-bold text-slate-800",children:[i.toFixed(1),"%"]})]}),e.jsx("input",{type:"range",min:0,max:5,step:.1,value:i,onChange:D=>n(Number(D.target.value)),className:"w-full mt-2 accent-indigo-600"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Old p95"}),e.jsx("span",{className:"text-xs font-bold text-slate-800",children:ms(m)})]}),e.jsx("input",{type:"range",min:50,max:800,step:10,value:m,onChange:D=>p(Number(D.target.value)),className:"w-full mt-2 accent-slate-600"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"New p95"}),e.jsx("span",{className:"text-xs font-bold text-slate-800",children:ms(g)})]}),e.jsx("input",{type:"range",min:50,max:800,step:10,value:g,onChange:D=>h(Number(D.target.value)),className:"w-full mt-2 accent-indigo-600"})]})]}),e.jsx("div",{className:"text-xs text-slate-500",children:"Heuristic budgets (for the demo): error â‰¤ 1.0%, p95 â‰¤ 300ms"})]})]}),e.jsxs("div",{className:"border border-indigo-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs font-semibold text-indigo-700 uppercase tracking-wide mb-3",children:"What users experience"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-white/70 border border-indigo-100 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-xs font-semibold text-indigo-700 uppercase tracking-wide mb-1",children:"Overall error rate"}),e.jsxs("div",{className:"text-2xl font-extrabold text-indigo-900",children:[S.totalErrorPct.toFixed(2),"%"]})]}),e.jsxs("div",{className:"bg-white/70 border border-indigo-100 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-xs font-semibold text-indigo-700 uppercase tracking-wide mb-1",children:"Overall p95"}),e.jsx("div",{className:"text-2xl font-extrabold text-indigo-900",children:ms(S.totalP95)})]})]}),e.jsxs("div",{className:"bg-white/60 border border-indigo-100 rounded-xl p-4",children:[e.jsx("div",{className:"text-sm font-bold text-slate-900 mb-2",children:"How to read this"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[e.jsx("li",{children:"â€¢ Canary reduces blast radius by limiting new traffic."}),e.jsx("li",{children:"â€¢ Blue/green is fast to rollback but the cutover is abrupt."}),e.jsx("li",{children:"â€¢ Rolling depends heavily on readiness + safe surge/unavailable limits."})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:[e.jsx("div",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide mb-1",children:"Rolling"}),e.jsx("div",{className:"text-sm text-slate-700",children:"Gradually replace pods/instances. Requires strong probes and rollout tuning."})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:[e.jsx("div",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide mb-1",children:"Blue/Green"}),e.jsx("div",{className:"text-sm text-slate-700",children:"Maintain two environments. Flip traffic. Costs extra capacity."})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:[e.jsx("div",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide mb-1",children:"Canary"}),e.jsx("div",{className:"text-sm text-slate-700",children:"Shift a small % first. Needs observability + rollback automation."})]})]})]})};function Ia(){const s=le();return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"relative gradient-overlay py-20 md:py-28 overflow-hidden",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-indigo-50 border border-indigo-100 mb-6",children:e.jsx("span",{className:"text-sm font-medium text-indigo-700",children:"Module 4"})}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6",children:["Compute & ",e.jsx("span",{className:"text-gradient",children:"Runtime Models"})]}),e.jsx("p",{className:"text-lg md:text-xl text-slate-600 mb-8 mx-auto",children:"Learn how to choose between containers, serverless, and Kubernetes â€” and how to deploy safely using rolling, blue/green, and canary strategies."}),e.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:e.jsx("button",{onClick:()=>s("/"),className:"btn-secondary",children:"Back to Home"})})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-7xl",children:[e.jsxs("section",{className:"mb-16",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"text-sm font-bold text-indigo-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-600 text-white flex items-center justify-center text-sm",children:"01"}),"RUNTIME CHOICES"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4",children:"Understanding compute models"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-4xl mb-6",children:"Before choosing a platform, decide what you want to scale: a whole VM, a container/pod, a request-driven instance, or a single function invocation. Each model offers different trade-offs between control, operational overhead, cost, and scalability."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-7 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ–¥ï¸"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"VM / Instance"}),e.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-4",children:"Maximum control. Great for legacy stacks, special networking needs, or custom kernels."}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Full OS control"}),e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Legacy app support"}),e.jsx("div",{className:"text-xs font-semibold text-red-700 bg-red-50 px-3 py-1 rounded",children:"âœ— Manual patching"}),e.jsx("div",{className:"text-xs font-semibold text-red-700 bg-red-50 px-3 py-1 rounded",children:"âœ— Slow boot times"})]}),e.jsxs("div",{className:"text-xs text-slate-500 border-t pt-3",children:[e.jsx("strong",{children:"Use when:"})," Running databases, stateful apps, or legacy systems that need specific OS configurations."]})]}),e.jsxs("div",{className:"bg-white border-2 border-indigo-200 rounded-2xl p-7 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ“¦"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Container / Pod"}),e.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-4",children:"Portable packaging with predictable runtime. Ideal for web services and background workers."}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Fast startup"}),e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Portable"}),e.jsx("div",{className:"text-xs font-semibold text-red-700 bg-red-50 px-3 py-1 rounded",children:"âœ— Orchestration complexity"}),e.jsx("div",{className:"text-xs font-semibold text-red-700 bg-red-50 px-3 py-1 rounded",children:"âœ— Learning curve"})]}),e.jsxs("div",{className:"text-xs text-slate-500 border-t pt-3",children:[e.jsx("strong",{children:"Use when:"})," Building microservices, APIs, or batch jobs that need portability and fast scaling."]})]}),e.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-2xl p-7 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"âš¡"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Serverless"}),e.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-4",children:"Pay-per-use and fast iteration. Great for event-driven workloads and simpler HTTP APIs."}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Zero ops"}),e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Auto-scaling"}),e.jsx("div",{className:"text-xs font-semibold text-red-700 bg-red-50 px-3 py-1 rounded",children:"âœ— Cold starts"}),e.jsx("div",{className:"text-xs font-semibold text-red-700 bg-red-50 px-3 py-1 rounded",children:"âœ— Vendor lock-in"})]}),e.jsxs("div",{className:"text-xs text-slate-500 border-t pt-3",children:[e.jsx("strong",{children:"Use when:"})," Building event handlers, simple APIs, or workloads with unpredictable traffic patterns."]})]})]}),e.jsxs("div",{className:" from-slate-50 to-blue-50 rounded-2xl p-8 border border-slate-200",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Architecture Evolution: Monolith â†’ Modular â†’ Microservices"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200",children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-3",children:"ðŸ¢ Monolith"}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Single deployable unit with all features bundled together. Simple to develop and deploy initially."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("div",{className:"font-semibold text-slate-900",children:"When to use:"}),e.jsxs("ul",{className:"space-y-1 text-slate-600",children:[e.jsx("li",{children:"â€¢ Small teams (2-5 developers)"}),e.jsx("li",{children:"â€¢ Early-stage products (MVP)"}),e.jsx("li",{children:"â€¢ Simple domain models"}),e.jsx("li",{children:"â€¢ Low traffic (<10K RPS)"})]}),e.jsx("div",{className:"font-semibold text-slate-900 mt-3",children:"Watch out:"}),e.jsxs("ul",{className:"space-y-1 text-slate-600",children:[e.jsx("li",{children:"â€¢ Tight coupling limits changes"}),e.jsx("li",{children:"â€¢ Single failure point"}),e.jsx("li",{children:"â€¢ Scaling requires entire app"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-indigo-200",children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-3",children:"ðŸ§© Modular Monolith"}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Single deployment with clear internal module boundaries. Best of both worlds for many teams."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("div",{className:"font-semibold text-slate-900",children:"When to use:"}),e.jsxs("ul",{className:"space-y-1 text-slate-600",children:[e.jsx("li",{children:"â€¢ Growing teams (5-20 devs)"}),e.jsx("li",{children:"â€¢ Mature products"}),e.jsx("li",{children:"â€¢ Need code boundaries"}),e.jsx("li",{children:"â€¢ Want simpler ops"})]}),e.jsx("div",{className:"font-semibold text-slate-900 mt-3",children:"Benefits:"}),e.jsxs("ul",{className:"space-y-1 text-slate-600",children:[e.jsx("li",{children:"â€¢ Clear boundaries, simple deploy"}),e.jsx("li",{children:"â€¢ Easy refactoring"}),e.jsx("li",{children:"â€¢ Can extract modules later"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-purple-200",children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-3",children:"ðŸ”— Microservices"}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Independently deployable services. High operational overhead but enables team autonomy."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("div",{className:"font-semibold text-slate-900",children:"When to use:"}),e.jsxs("ul",{className:"space-y-1 text-slate-600",children:[e.jsx("li",{children:"â€¢ Large teams (20+ devs)"}),e.jsx("li",{children:"â€¢ Multiple products/domains"}),e.jsx("li",{children:"â€¢ Independent scaling needs"}),e.jsx("li",{children:"â€¢ Strong DevOps culture"})]}),e.jsx("div",{className:"font-semibold text-slate-900 mt-3",children:"Challenges:"}),e.jsxs("ul",{className:"space-y-1 text-slate-600",children:[e.jsx("li",{children:"â€¢ Distributed tracing needed"}),e.jsx("li",{children:"â€¢ Network latency"}),e.jsx("li",{children:"â€¢ Complex deployment orchestration"})]})]})]})]}),e.jsx("div",{className:"mt-6 bg-amber-50 border border-amber-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’¡"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-amber-900 mb-2",children:"Golden Rule: Start with a monolith"}),e.jsx("p",{className:"text-sm text-amber-800",children:"Most systems should start as a well-structured monolith and only extract services when team size, deployment frequency, or scaling requirements justify the operational complexity. Premature microservices can slow down development by 3-5x due to cross-service changes, testing overhead, and debugging difficulty."})]})]})})]})]}),e.jsxs("section",{className:"mb-16",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"text-sm font-bold text-blue-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-blue-600 text-white flex items-center justify-center text-sm",children:"02"}),"CONTAINERS & K8S"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4",children:"Orchestrate safely"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-4xl",children:"Kubernetes gives you declarative rollouts, autoscaling, and self-healing â€” but it only works well when probes, resource requests, and disruption settings are tuned."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:" from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-4",children:"Core primitives"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ Deployment / ReplicaSet: stateless rollouts and replica management"}),e.jsx("li",{children:"â€¢ Service / Ingress: stable routing and traffic entry points"}),e.jsx("li",{children:"â€¢ ConfigMaps / Secrets: configuration and credentials"}),e.jsx("li",{children:"â€¢ StatefulSet: stable identities for stateful workloads"})]})]}),e.jsxs("div",{className:" from-emerald-50 to-teal-50 border-2 border-emerald-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-emerald-900 mb-4",children:"Scaling + disruptions"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ HPA scales pods based on CPU/memory/custom metrics"}),e.jsx("li",{children:"â€¢ VPA rightsizes requests/limits (use carefully with HPA)"}),e.jsx("li",{children:"â€¢ PDBs limit voluntary evictions during node drains"}),e.jsx("li",{children:"â€¢ Readiness/startup probes prevent scaling on â€œwarmingâ€ pods"})]})]})]})]}),e.jsxs("section",{id:"deployment-sim",className:"mb-16",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"text-sm font-bold text-purple-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-purple-600 text-white flex items-center justify-center text-sm",children:"03"}),"INTERACTIVE"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4",children:"Deployment strategy simulator"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-4xl",children:"Play with traffic shifting and see how error rate and latency combine across versions."})]}),e.jsx(Ea,{})]}),e.jsxs("section",{className:"mb-16",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"text-sm font-bold text-rose-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-rose-600 text-white flex items-center justify-center text-sm",children:"04"}),"DEPLOYMENT STRATEGIES"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4",children:"Safe production rollouts"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-4xl mb-6",children:"Choosing the right deployment strategy can mean the difference between a smooth release and a production outage. Let's explore each approach in depth."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-2xl p-7 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ”„"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Rolling Deployment"}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Gradually replaces old pods with new ones. Default Kubernetes strategy."}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"text-xs font-bold text-slate-900",children:"Pros:"}),e.jsxs("ul",{className:"text-xs text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Zero downtime (if configured right)"}),e.jsx("li",{children:"â€¢ Resource efficient (no extra capacity)"}),e.jsx("li",{children:"â€¢ Built into Kubernetes"})]}),e.jsx("div",{className:"text-xs font-bold text-slate-900 mt-3",children:"Cons:"}),e.jsxs("ul",{className:"text-xs text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Both versions run simultaneously"}),e.jsx("li",{children:"â€¢ Rollback slower (gradual)"}),e.jsx("li",{children:"â€¢ Requires careful probe tuning"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-xs",children:[e.jsx("strong",{children:"Best for:"})," Stateless apps with backward-compatible changes. Set"," ",e.jsx("code",{className:"bg-white px-1.5 rounded",children:"maxUnavailable: 0"})," ","for zero downtime."]})]}),e.jsxs("div",{className:"bg-white border-2 border-green-200 rounded-2xl p-7 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ”µðŸŸ¢"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Blue/Green"}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Run two identical environments. Switch traffic instantly."}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"text-xs font-bold text-slate-900",children:"Pros:"}),e.jsxs("ul",{className:"text-xs text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Instant rollback (flip switch)"}),e.jsx("li",{children:"â€¢ Test in production-like environment"}),e.jsx("li",{children:"â€¢ Clean cutover"})]}),e.jsx("div",{className:"text-xs font-bold text-slate-900 mt-3",children:"Cons:"}),e.jsxs("ul",{className:"text-xs text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Requires 2x capacity"}),e.jsx("li",{children:"â€¢ Abrupt switchover"}),e.jsx("li",{children:"â€¢ Database migrations tricky"})]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 text-xs",children:[e.jsx("strong",{children:"Best for:"})," Critical services where instant rollback is worth the cost. Use external load balancer for traffic switching."]})]}),e.jsxs("div",{className:"bg-white border-2 border-amber-200 rounded-2xl p-7 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ•Šï¸"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Canary"}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Route small % of traffic to new version. Gradually increase if healthy."}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"text-xs font-bold text-slate-900",children:"Pros:"}),e.jsxs("ul",{className:"text-xs text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Minimizes blast radius"}),e.jsx("li",{children:"â€¢ Real production validation"}),e.jsx("li",{children:"â€¢ Gradual confidence building"})]}),e.jsx("div",{className:"text-xs font-bold text-slate-900 mt-3",children:"Cons:"}),e.jsxs("ul",{className:"text-xs text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Needs advanced routing (service mesh)"}),e.jsx("li",{children:"â€¢ Requires strong observability"}),e.jsx("li",{children:"â€¢ Manual or automated promotion logic"})]})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 text-xs",children:[e.jsx("strong",{children:"Best for:"})," High-risk changes. Start with 1-5%, monitor metrics, gradually increase to 100% over hours/days."]})]})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Advanced Deployment Patterns"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:" from-purple-50 to-pink-50 border-2 border-purple-200 rounded-2xl p-7",children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-3",children:"ðŸš© Feature Flags"}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Deploy code but enable features selectively. Decouple deploy from release."}),e.jsxs("div",{className:"space-y-3 text-xs",children:[e.jsxs("div",{className:"bg-white rounded p-3 border border-purple-200",children:[e.jsx("strong",{children:"Benefits:"}),e.jsxs("ul",{className:"mt-1 space-y-1",children:[e.jsx("li",{children:"â€¢ Test in production without user impact"}),e.jsx("li",{children:"â€¢ A/B test new features"}),e.jsx("li",{children:"â€¢ Kill switches for problematic features"}),e.jsx("li",{children:"â€¢ Gradual rollout by user segment"})]})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded p-3",children:[e.jsx("strong",{children:"Tools:"})," LaunchDarkly, Split.io, Unleash, or roll your own with database toggle."]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-3",children:[e.jsx("strong",{children:"Warning:"})," Flag technical debt accumulates. Clean up old flags regularly!"]})]})]}),e.jsxs("div",{className:" from-cyan-50 to-blue-50 border-2 border-cyan-200 rounded-2xl p-7",children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-3",children:"ðŸŽ¯ Shadow/Dark Launching"}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Route production traffic to new version but don't return responses to users."}),e.jsxs("div",{className:"space-y-3 text-xs",children:[e.jsxs("div",{className:"bg-white rounded p-3 border border-cyan-200",children:[e.jsx("strong",{children:"How it works:"}),e.jsxs("ul",{className:"mt-1 space-y-1",children:[e.jsx("li",{children:"â€¢ Fork traffic to canary (async)"}),e.jsx("li",{children:"â€¢ Users only see responses from stable version"}),e.jsx("li",{children:"â€¢ Monitor canary for errors/performance"}),e.jsx("li",{children:"â€¢ No user impact if canary fails"})]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded p-3",children:[e.jsx("strong",{children:"Perfect for:"})," Testing algorithm changes, database migrations, or new code paths with real load."]})]})]})]})]}),e.jsxs("div",{className:" from-red-50 to-rose-50 border-2 border-red-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-red-900 mb-6",children:"ðŸš¨ Rollback & Incident Response"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4",children:"Rollback Checklist"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-red-300",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"1. Detect Issues Fast"}),e.jsxs("ul",{className:"text-xs text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Automated alerts on error rate spikes"}),e.jsx("li",{children:"â€¢ Latency p95/p99 thresholds"}),e.jsx("li",{children:"â€¢ Business metric canaries (conversion rate)"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-red-300",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"2. Rollback Process"}),e.jsxs("ul",{className:"text-xs text-slate-700 space-y-1",children:[e.jsxs("li",{children:["â€¢ Kubernetes:"," ",e.jsx("code",{className:"bg-slate-100 px-1.5 rounded",children:"kubectl rollout undo deployment/my-app"})]}),e.jsx("li",{children:"â€¢ Blue/Green: flip load balancer back"}),e.jsx("li",{children:"â€¢ Canary: shift traffic back to stable"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-red-300",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"3. Post-Incident"}),e.jsxs("ul",{className:"text-xs text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Root cause analysis (RCA)"}),e.jsx("li",{children:"â€¢ Add tests to prevent regression"}),e.jsx("li",{children:"â€¢ Improve monitoring/alerts"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4",children:"Prevention Techniques"}),e.jsxs("div",{className:"space-y-3 text-xs",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-red-300",children:[e.jsx("strong",{className:"text-slate-900",children:"Automated Rollback"}),e.jsx("p",{className:"text-slate-700 mt-2",children:"Use Flagger, Argo Rollouts, or custom scripts to automatically rollback when metrics degrade."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-red-300",children:[e.jsx("strong",{className:"text-slate-900",children:"Progressive Delivery"}),e.jsx("p",{className:"text-slate-700 mt-2",children:"1% â†’ 5% â†’ 10% â†’ 25% â†’ 50% â†’ 100% with bake time between each stage. Any alert = halt + rollback."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-red-300",children:[e.jsx("strong",{className:"text-slate-900",children:"Circuit Breakers"}),e.jsx("p",{className:"text-slate-700 mt-2",children:"Automatically stop routing to failing services. Prevents cascading failures."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-red-300",children:[e.jsx("strong",{className:"text-slate-900",children:"Database Migrations"}),e.jsx("p",{className:"text-slate-700 mt-2",children:"Always backward-compatible. Deploy schema changes separately from code changes."})]})]})]})]}),e.jsx("div",{className:"bg-white border border-red-300 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“Š"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"Deployment Success Metrics"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"MTTR (Mean Time To Recovery):"})," Target <5 min with automated rollback."]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Change Failure Rate:"})," % of deploys causing incidents. Target <5%."]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Deploy Frequency:"})," How often you can safely ship. High performers: 10-100x/day."]})]})]})]})})]})]}),e.jsxs("section",{className:"mb-16",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"text-sm font-bold text-amber-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-amber-600 text-white flex items-center justify-center text-sm",children:"05"}),"SERVERLESS & MANAGED RUNTIMES"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4",children:"When to go serverless"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-4xl mb-6",children:"For many teams, serverless or managed container platforms are the sweet spot: you keep container portability while delegating infra ops, traffic management, and autoscaling to the provider."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-2xl p-7 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"âš¡"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Functions (FaaS)"}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Lambda, Cloud Functions, Azure Functions. Code runs per-request."}),e.jsxs("div",{className:"space-y-2 text-xs mb-4",children:[e.jsx("div",{className:"font-bold text-slate-900",children:"Best for:"}),e.jsxs("ul",{className:"space-y-1 text-slate-700",children:[e.jsx("li",{children:"â€¢ Event-driven: S3 upload triggers processing"}),e.jsx("li",{children:"â€¢ Scheduled jobs: daily ETL, cleanup"}),e.jsx("li",{children:"â€¢ Low-traffic APIs (sporadic usage)"}),e.jsx("li",{children:"â€¢ Webhooks and integrations"})]}),e.jsx("div",{className:"font-bold text-slate-900 mt-3",children:"Watch out:"}),e.jsxs("ul",{className:"space-y-1 text-slate-700",children:[e.jsx("li",{children:"â€¢ Cold starts: 100ms - 3s"}),e.jsx("li",{children:"â€¢ 15 min timeout (Lambda)"}),e.jsx("li",{children:"â€¢ Vendor lock-in (different APIs)"})]})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded p-3 text-xs",children:[e.jsx("strong",{children:"Cost model:"})," Pay per request + GB-second. First 1M requests/month often free."]})]}),e.jsxs("div",{className:"bg-white border-2 border-amber-200 rounded-2xl p-7 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ“¦"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Container Serverless"}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Cloud Run, App Runner, Container Apps. Bring your own container."}),e.jsxs("div",{className:"space-y-2 text-xs mb-4",children:[e.jsx("div",{className:"font-bold text-slate-900",children:"Best for:"}),e.jsxs("ul",{className:"space-y-1 text-slate-700",children:[e.jsx("li",{children:"â€¢ HTTP APIs and web services"}),e.jsx("li",{children:"â€¢ Background workers (queue consumers)"}),e.jsx("li",{children:"â€¢ Services needing custom dependencies"}),e.jsx("li",{children:"â€¢ Microservices without K8s complexity"})]}),e.jsx("div",{className:"font-bold text-slate-900 mt-3",children:"Benefits:"}),e.jsxs("ul",{className:"space-y-1 text-slate-700",children:[e.jsx("li",{children:"â€¢ Fast cold starts (<500ms)"}),e.jsx("li",{children:"â€¢ Built-in traffic splitting"}),e.jsx("li",{children:"â€¢ Scale to zero"})]})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded p-3 text-xs",children:[e.jsx("strong",{children:"Sweet spot:"})," Most web apps and APIs. Portable containers + zero ops."]})]}),e.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-2xl p-7 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"â˜¸ï¸"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Managed Kubernetes"}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"GKE, EKS, AKS. Full K8s control with managed control plane."}),e.jsxs("div",{className:"space-y-2 text-xs mb-4",children:[e.jsx("div",{className:"font-bold text-slate-900",children:"Best for:"}),e.jsxs("ul",{className:"space-y-1 text-slate-700",children:[e.jsx("li",{children:"â€¢ Multi-workload platforms"}),e.jsx("li",{children:"â€¢ Complex stateful apps"}),e.jsx("li",{children:"â€¢ Custom networking needs"}),e.jsx("li",{children:"â€¢ Organizations already on K8s"})]}),e.jsx("div",{className:"font-bold text-slate-900 mt-3",children:"Trade-offs:"}),e.jsxs("ul",{className:"space-y-1 text-slate-700",children:[e.jsx("li",{children:"â€¢ Higher learning curve"}),e.jsx("li",{children:"â€¢ More operational overhead"}),e.jsx("li",{children:"â€¢ Need 24/7 on-call"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 text-xs",children:[e.jsx("strong",{children:"When to choose:"})," 10+ services or need advanced K8s features (custom CRDs, operators)."]})]})]}),e.jsxs("div",{className:"border-2 border-slate-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"ðŸ§Š Cold Start Optimization"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4",children:"What Causes Cold Starts?"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("strong",{children:"1. Container/Runtime Initialization"}),e.jsx("p",{className:"text-xs text-slate-700 mt-1",children:"Platform provisions compute, downloads image, starts runtime. 500ms - 3s."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("strong",{children:"2. Code Loading"}),e.jsx("p",{className:"text-xs text-slate-700 mt-1",children:"Import dependencies, parse code. Node.js/Python faster than Java/C#."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("strong",{children:"3. App Initialization"}),e.jsx("p",{className:"text-xs text-slate-700 mt-1",children:"DB connections, config loading, cache warming. Your code runs here."})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4",children:"Mitigation Strategies"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[e.jsx("strong",{children:"Provisioned Concurrency"}),e.jsx("p",{className:"text-slate-700 mt-1",children:"Keep N instances warm 24/7. Costs more but guarantees fast response. Use for latency-sensitive endpoints."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[e.jsx("strong",{children:"Smaller Dependencies"}),e.jsx("p",{className:"text-slate-700 mt-1",children:"Trim unused libraries. Use tree-shaking. Smaller bundle = faster load."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[e.jsx("strong",{children:"Lazy Loading"}),e.jsx("p",{className:"text-slate-700 mt-1",children:"Import heavy dependencies only when needed. Initialize connections after first request."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[e.jsx("strong",{children:"Keep-Alive Pings"}),e.jsx("p",{className:"text-slate-700 mt-1",children:"CloudWatch Events/Scheduler to ping every 5 min. Prevents instance shutdown during low traffic."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[e.jsx("strong",{children:"Connection Pooling"}),e.jsx("p",{className:"text-slate-700 mt-1",children:"Reuse DB connections across invocations. Store outside handler function (Lambda) or use global state."})]})]})]})]})]})]}),e.jsxs("section",{className:"mb-16",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"text-sm font-bold text-indigo-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-600 text-white flex items-center justify-center text-sm",children:"06"}),"OBSERVABILITY"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4",children:"Monitor what matters"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-4xl mb-6",children:"You can't improve what you don't measure. Build observability into your deployment pipeline from day one."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[e.jsxs("div",{className:" from-blue-50 to-cyan-50 border-2 border-blue-200 rounded-2xl p-7",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ“Š"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Metrics"}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Time-series data: CPU, memory, request rate, latency percentiles."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"bg-white rounded p-3 border border-blue-200",children:[e.jsx("strong",{children:"Golden Signals (SRE):"}),e.jsxs("ul",{className:"mt-1 space-y-1",children:[e.jsx("li",{children:"â€¢ Latency (p50, p95, p99)"}),e.jsx("li",{children:"â€¢ Traffic (requests/sec)"}),e.jsx("li",{children:"â€¢ Errors (% of requests)"}),e.jsx("li",{children:"â€¢ Saturation (resource usage)"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[e.jsx("strong",{children:"Tools:"})," Prometheus, Datadog, Grafana, CloudWatch"]})]})]}),e.jsxs("div",{className:" from-purple-50 to-pink-50 border-2 border-purple-200 rounded-2xl p-7",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ“"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Logs"}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Discrete events: errors, debug info, audit trail."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"bg-white rounded p-3 border border-purple-200",children:[e.jsx("strong",{children:"Best Practices:"}),e.jsxs("ul",{className:"mt-1 space-y-1",children:[e.jsx("li",{children:"â€¢ Structured logging (JSON)"}),e.jsx("li",{children:"â€¢ Include request ID"}),e.jsx("li",{children:"â€¢ Log levels (DEBUG â†’ ERROR)"}),e.jsx("li",{children:"â€¢ Centralized aggregation"})]})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded p-3",children:[e.jsx("strong",{children:"Tools:"})," ELK Stack, Loki, CloudWatch Logs, Splunk"]})]})]}),e.jsxs("div",{className:" from-emerald-50 to-teal-50 border-2 border-emerald-200 rounded-2xl p-7",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ”"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Traces"}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Request journey across services. Shows latency breakdown."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"bg-white rounded p-3 border border-emerald-200",children:[e.jsx("strong",{children:"What You Get:"}),e.jsxs("ul",{className:"mt-1 space-y-1",children:[e.jsx("li",{children:"â€¢ End-to-end request flow"}),e.jsx("li",{children:"â€¢ Latency per service/operation"}),e.jsx("li",{children:"â€¢ Dependency visualization"}),e.jsx("li",{children:"â€¢ Error attribution"})]})]}),e.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded p-3",children:[e.jsx("strong",{children:"Tools:"})," Jaeger, Zipkin, AWS X-Ray, OpenTelemetry"]})]})]})]}),e.jsxs("div",{className:" from-amber-50 to-orange-50 border-2 border-amber-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-amber-900 mb-6",children:"ðŸš¨ Alerting Strategy"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4",children:"Alert on Symptoms, Not Causes"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[e.jsx("strong",{className:"text-green-700",children:'âœ“ Good: "Error rate > 1%"'}),e.jsx("p",{className:"text-xs text-slate-700 mt-1",children:"Users are impacted. This is what matters."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[e.jsx("strong",{className:"text-green-700",children:'âœ“ Good: "p95 latency > 500ms"'}),e.jsx("p",{className:"text-xs text-slate-700 mt-1",children:"UX is degraded. Actionable signal."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-red-200",children:[e.jsx("strong",{className:"text-red-700",children:'âœ— Bad: "CPU > 80%"'}),e.jsx("p",{className:"text-xs text-slate-700 mt-1",children:"May not impact users. Use as info/dashboard metric."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-red-200",children:[e.jsx("strong",{className:"text-red-700",children:'âœ— Bad: "Disk > 90%"'}),e.jsx("p",{className:"text-xs text-slate-700 mt-1",children:"Alert when requests start failing, not disk usage alone."})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4",children:"Alert Severity Levels"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"bg-red-100 border border-red-300 rounded-lg p-4",children:[e.jsx("strong",{className:"text-red-900",children:"ðŸ”´ P0 (Page immediately)"}),e.jsx("p",{className:"text-slate-800 mt-1",children:"Service down, data loss risk, security breach. Wake someone up."}),e.jsxs("p",{className:"text-slate-700 mt-2",children:[e.jsx("strong",{children:"Example:"})," Error rate > 5% for 5 min"]})]}),e.jsxs("div",{className:"bg-orange-100 border border-orange-300 rounded-lg p-4",children:[e.jsx("strong",{className:"text-orange-900",children:"ðŸŸ  P1 (Alert, no page)"}),e.jsx("p",{className:"text-slate-800 mt-1",children:"Degraded performance, partial outage. Address in business hours."}),e.jsxs("p",{className:"text-slate-700 mt-2",children:[e.jsx("strong",{children:"Example:"})," p95 latency 2x baseline"]})]}),e.jsxs("div",{className:"bg-yellow-100 border border-yellow-300 rounded-lg p-4",children:[e.jsx("strong",{className:"text-yellow-900",children:"ðŸŸ¡ P2 (Ticket/dashboard)"}),e.jsx("p",{className:"text-slate-800 mt-1",children:"Early warning, not yet impacting users. Monitor and plan fix."}),e.jsxs("p",{className:"text-slate-700 mt-2",children:[e.jsx("strong",{children:"Example:"})," Disk 85% full"]})]})]})]})]}),e.jsx("div",{className:"mt-6 bg-white border border-amber-300 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’¡"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"On-Call Best Practice"}),e.jsx("p",{className:"text-sm text-slate-700",children:"If an alert fires and no action is taken, either the alert threshold is wrong or the issue isn't important enough to alert. Review and adjust alerts monthly. Target: <2 pages/week per person. More = alert fatigue."})]})]})})]})]}),e.jsxs("section",{className:"mb-16",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"text-sm font-bold text-blue-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-blue-600 text-white flex items-center justify-center text-sm",children:"07"}),"KUBERNETES DEEP DIVE"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4",children:"Master Kubernetes concepts"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-4xl",children:"Understand the core building blocks of Kubernetes: Pods, Services, Deployments, ConfigMaps, Secrets, Ingress, Service Mesh, and when to use StatefulSets."})]}),e.jsx(Pa,{})]}),e.jsxs("section",{className:"mb-16",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"text-sm font-bold text-green-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-green-600 text-white flex items-center justify-center text-sm",children:"08"}),"SERVICE DISCOVERY"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4",children:"How services find each other"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-4xl",children:"Learn how distributed systems discover and communicate with services using client-side vs server-side patterns, and explore tools like Consul, etcd, and Kubernetes DNS."})]}),e.jsx(Ta,{})]}),e.jsxs("section",{className:"mb-16",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"text-sm font-bold text-purple-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-purple-600 text-white flex items-center justify-center text-sm",children:"09"}),"SIDECAR PATTERN"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4",children:"Extend apps without code changes"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-4xl",children:"Discover how sidecar containers add logging, monitoring, and proxy capabilities to applications without modifying their code."})]}),e.jsx(Ra,{})]}),e.jsxs("section",{className:"mb-16",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"text-sm font-bold text-orange-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-orange-600 text-white flex items-center justify-center text-sm",children:"10"}),"AMBASSADOR PATTERN"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4",children:"Simplify external API calls"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-4xl",children:"Learn how ambassador sidecars handle outbound connections with rate limiting, authentication, retries, and service versioningâ€”and how they differ from Service Mesh and API Gateway."})]}),e.jsx(Aa,{})]}),e.jsx("section",{className:"py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{onClick:()=>s("/data-architecture"),className:"btn-secondary",children:"â† Previous: Data Architecture"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>s("/"),className:"btn-tertiary",children:"Home"}),e.jsx("button",{onClick:()=>s("/apis-integration"),className:"btn-primary",children:"Next: APIs Integration â†’"})]})]})})]})]})}const Da=()=>{const[s,l]=x.useState("acid"),[t,o]=x.useState("banking"),a={acid:{name:"ACID",fullForm:"Atomicity, Consistency, Isolation, Durability",icon:he,color:"blue",description:"Strong consistency model prioritizing data correctness",principles:[{letter:"A",name:"Atomicity",description:"All or nothing - transactions either complete fully or not at all",example:"Bank transfer: Both debit and credit must succeed, or both fail",implementation:"Transaction logs, rollback mechanisms"},{letter:"C",name:"Consistency",description:"Data remains valid according to all rules and constraints",example:"Account balance never goes negative (if rule enforced)",implementation:"Constraints, triggers, validation rules"},{letter:"I",name:"Isolation",description:"Concurrent transactions don't interfere with each other",example:"Two people buying last ticket see consistent state",implementation:"Locking, MVCC, isolation levels"},{letter:"D",name:"Durability",description:"Once committed, data survives crashes and failures",example:"Order confirmed = guaranteed saved even if server crashes",implementation:"Write-ahead logging, replication"}],databases:["PostgreSQL","MySQL","Oracle","SQL Server","CockroachDB"],pros:["Data integrity guaranteed","Predictable behavior","Easier to reason about","No data loss risk","Strong guarantees"],cons:["Lower throughput","Higher latency","Complex distributed coordination","Scaling challenges","Availability trade-offs"]},base:{name:"BASE",fullForm:"Basically Available, Soft state, Eventually consistent",icon:z,color:"purple",description:"Flexible consistency model prioritizing availability and performance",principles:[{letter:"BA",name:"Basically Available",description:"System remains operational even if some parts fail",example:"Facebook News Feed: Shows cached data if real-time update fails",implementation:"Replication, partitioning, graceful degradation"},{letter:"S",name:"Soft State",description:"State may change over time without input (as data propagates)",example:"View counts, like counts may be approximate and update async",implementation:"Asynchronous replication, eventual propagation"},{letter:"E",name:"Eventually Consistent",description:"Given enough time, all replicas will converge to same value",example:"Twitter follower count updates within seconds, not instantly",implementation:"Conflict resolution, vector clocks, CRDTs"}],databases:["Cassandra","DynamoDB","MongoDB","Riak","Couchbase"],pros:["High availability","Better performance","Easier to scale","Lower latency","Partition tolerance"],cons:["Data may be stale","Conflict resolution needed","Harder to reason about","Temporary inconsistency","Application complexity"]}},c={banking:{name:"Banking / Financial Services",recommended:"acid",icon:"ðŸ¦",requirements:["Money transfers must be exact","Account balances must be accurate","No duplicate transactions","Regulatory compliance required"],why:"Financial accuracy is non-negotiable. A single penny lost or duplicate transaction can have legal consequences. ACID guarantees are essential.",databases:"PostgreSQL, CockroachDB, Oracle",consequence:"Using BASE here = Wrong account balances, regulatory violations, lost customer trust"},social:{name:"Social Media Feed",recommended:"base",icon:"ðŸ“±",requirements:["Handle millions of concurrent users","Low latency is critical","Slight staleness acceptable","High availability needed"],why:"Users prefer fast, available service over perfect consistency. Seeing a like count of 99 instead of 100 for a few seconds is acceptable.",databases:"Cassandra, DynamoDB, MongoDB",consequence:"Using ACID here = Slow feeds, poor scaling, frequent downtime during peak hours"},ecommerce:{name:"E-commerce Inventory",recommended:"hybrid",icon:"ðŸ›’",requirements:["Inventory count must be accurate","But product catalog can be eventually consistent","High traffic during sales","Payment processing needs ACID"],why:"Hybrid approach: Use ACID for inventory/payments, BASE for product catalog/recommendations. Best of both worlds.",databases:"PostgreSQL (payments) + Redis (catalog cache) + Elasticsearch (search)",consequence:"Pure ACID = Can't scale during Black Friday. Pure BASE = Overselling products"},analytics:{name:"Analytics Dashboard",recommended:"base",icon:"ðŸ“Š",requirements:["Handle massive data volume","Approximate counts acceptable","Query speed more important than accuracy","Historical data, not real-time decisions"],why:'Analytics often deals with approximate data. Knowing you have "~10 million users" vs "exactly 10,234,567" rarely matters.',databases:"ClickHouse, BigQuery, Redshift",consequence:"Using ACID here = Expensive, slow queries, can't handle big data scale"},iot:{name:"IoT Sensor Data",recommended:"base",icon:"ðŸ“¡",requirements:["Millions of writes per second","Occasional data loss acceptable","Real-time not critical","Historical trends matter more"],why:"Losing a few temperature readings from millions is acceptable. Availability and write throughput are critical.",databases:"InfluxDB, TimescaleDB, Cassandra",consequence:"Using ACID here = Can't handle IoT write volume, expensive at scale"}},r=a[s],d=c[t];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"ACID vs BASE: The Fundamental Trade-off"}),e.jsx("p",{className:"text-gray-600",children:"Choose between strong consistency (ACID) or high availability (BASE)"})]}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs("button",{onClick:()=>l("acid"),className:`flex items-center gap-3 px-6 py-4 rounded-lg border-2 transition-all ${s==="acid"?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200 hover:border-blue-300"}`,children:[e.jsx(he,{className:`w-6 h-6 ${s==="acid"?"text-blue-600":"text-gray-400"}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold text-lg",children:"ACID"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Strong Consistency"})]})]}),e.jsxs("button",{onClick:()=>l("base"),className:`flex items-center gap-3 px-6 py-4 rounded-lg border-2 transition-all ${s==="base"?"border-purple-500 bg-purple-50 shadow-lg":"border-gray-200 hover:border-purple-300"}`,children:[e.jsx(z,{className:`w-6 h-6 ${s==="base"?"text-purple-600":"text-gray-400"}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold text-lg",children:"BASE"}),e.jsx("div",{className:"text-sm text-gray-600",children:"High Availability"})]})]})]}),e.jsxs("div",{className:`p-6 rounded-lg border-2 ${s==="acid"?"border-blue-200 bg-blue-50":"border-purple-200 bg-purple-50"}`,children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s==="acid"?e.jsx(he,{className:"w-12 h-12 text-blue-600"}):e.jsx(z,{className:"w-12 h-12 text-purple-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold",children:r.fullForm}),e.jsx("p",{className:"text-gray-700",children:r.description})]})]}),e.jsx("div",{className:"space-y-4 mb-6",children:r.principles.map((i,n)=>e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white ${s==="acid"?"bg-blue-600":"bg-purple-600"}`,children:i.letter}),e.jsx("h5",{className:"font-bold text-lg",children:i.name})]}),e.jsx("p",{className:"text-gray-700 mb-2",children:i.description}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded border-l-4 border-gray-300",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Example:"}),e.jsx("div",{className:"text-sm text-gray-800",children:i.example})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Implementation:"})," ",i.implementation]})]},n))}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-4",children:[e.jsxs("h5",{className:"font-bold mb-2 flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5"}),"Common Databases"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.databases.map((i,n)=>e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${s==="acid"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:i},n))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("h5",{className:"font-bold mb-3 flex items-center gap-2 text-green-700",children:[e.jsx(N,{className:"w-5 h-5"}),"Advantages"]}),e.jsx("ul",{className:"space-y-2",children:r.pros.map((i,n)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(N,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:i})]},n))})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("h5",{className:"font-bold mb-3 flex items-center gap-2 text-red-700",children:[e.jsx(F,{className:"w-5 h-5"}),"Disadvantages"]}),e.jsx("ul",{className:"space-y-2",children:r.cons.map((i,n)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(F,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:i})]},n))})]})]})]}),e.jsxs("div",{className:"border-t-2 border-gray-200 pt-8",children:[e.jsx("h4",{className:"text-xl font-bold mb-4 text-center",children:"Real-World Decision Making"}),e.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Choose a scenario to see which model fits best"}),e.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-5 gap-3 mb-6",children:Object.entries(c).map(([i,n])=>e.jsxs("button",{onClick:()=>o(i),className:`p-4 rounded-lg border-2 transition-all text-center ${t===i?"border-indigo-500 bg-indigo-50 shadow-md":"border-gray-200 hover:border-indigo-300"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:n.icon}),e.jsx("div",{className:"text-sm font-semibold",children:n.name})]},i))}),e.jsxs("div",{className:" from-indigo-50 to-blue-50 p-6 rounded-lg border-2 border-indigo-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h5",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx("span",{className:"text-3xl",children:d.icon}),d.name]}),e.jsx("div",{className:`px-4 py-2 rounded-full font-bold text-sm ${d.recommended==="acid"?"bg-blue-600 text-white":d.recommended==="base"?"bg-purple-600 text-white":" from-blue-600 to-purple-600 text-white"}`,children:d.recommended==="acid"?"â†’ Use ACID":d.recommended==="base"?"â†’ Use BASE":"â†’ Use HYBRID"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4",children:[e.jsx("h6",{className:"font-bold mb-2 text-gray-700",children:"Requirements:"}),e.jsx("ul",{className:"space-y-1",children:d.requirements.map((i,n)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(te,{className:"w-4 h-4 text-indigo-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:i})]},n))})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4",children:[e.jsxs("h6",{className:"font-bold mb-2 flex items-center gap-2 text-gray-700",children:[e.jsx(ce,{className:"w-5 h-5 text-amber-500"}),"Why This Choice?"]}),e.jsx("p",{className:"text-sm text-gray-700",children:d.why})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4",children:[e.jsx("h6",{className:"font-bold mb-2 text-gray-700",children:"Recommended Databases:"}),e.jsx("p",{className:"text-sm text-gray-800 font-mono",children:d.databases})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-400",children:[e.jsxs("h6",{className:"font-bold mb-2 text-red-700 flex items-center gap-2",children:[e.jsx(F,{className:"w-5 h-5"}),"Wrong Choice Consequence:"]}),e.jsx("p",{className:"text-sm text-red-800",children:d.consequence})]})]})]}),e.jsxs("div",{className:" from-slate-50 to-gray-50 p-6 rounded-lg border-2 border-gray-200",children:[e.jsxs("h4",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(Fe,{className:"w-6 h-6 text-gray-700"}),"Quick Decision Framework"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border-2 border-blue-200",children:[e.jsx("h5",{className:"font-bold text-blue-900 mb-3",children:"Choose ACID when:"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Data accuracy is critical (money, inventory, votes)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Regulatory compliance required"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Transactions span multiple tables/operations"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Can tolerate some latency for correctness"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Moderate scale (millions, not billions of ops)"})]})]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border-2 border-purple-200",children:[e.jsx("h5",{className:"font-bold text-purple-900 mb-3",children:"Choose BASE when:"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"High availability is more important than perfect accuracy"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Need to scale to massive volumes"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Low latency is critical"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Temporary inconsistency is acceptable"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Distributed across multiple regions/data centers"})]})]})]})]}),e.jsxs("div",{className:"mt-4  from-blue-50 to-purple-50 p-4 rounded-lg border-2 border-indigo-200",children:[e.jsx("h5",{className:"font-bold text-indigo-900 mb-2",children:"ðŸ’¡ Pro Tip: Hybrid Approach"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Many modern systems use BOTH! Use ACID for critical data (payments, inventory) and BASE for non-critical data (likes, views, cache). This is called ",e.jsx("span",{className:"font-bold",children:"Polyglot Persistence"}),"."]}),e.jsx("p",{className:"text-sm text-gray-700 mt-2",children:"Example: Uber uses PostgreSQL (ACID) for trip/payment data, Cassandra (BASE) for location tracking."})]})]}),e.jsxs("div",{className:"bg-amber-50 p-6 rounded-lg border-2 border-amber-200",children:[e.jsxs("h4",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(ce,{className:"w-6 h-6 text-amber-600"}),"Interview Tips"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-bold text-gray-800 mb-2",children:'Q: "Why not just use ACID everywhere?"'}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"})," ACID requires coordination between nodes, which limits horizontal scalability. At massive scale (billions of operations), ACID becomes too slow and expensive. Also, strict ACID violates the Availability promise of CAP theorem during network partitions."]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-bold text-gray-800 mb-2",children:'Q: "How does eventual consistency work in practice?"'}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"})," Updates propagate asynchronously to replicas. During this window (usually milliseconds to seconds), different nodes may return different values. The system uses conflict resolution strategies (last-write-wins, vector clocks, CRDTs) to converge to a consistent state."]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-bold text-gray-800 mb-2",children:'Q: "Can you have strong consistency in a distributed system?"'}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"})," Yes, but with trade-offs. Google Spanner uses atomic clocks and TrueTime API for external consistency across regions. CockroachDB provides serializable isolation. But both sacrifice some availability and add latency for coordination."]})]})]})]})]})},La=()=>{const[s,l]=x.useState("btree"),[t,o]=x.useState("oltp"),[a,c]=x.useState(!1),r={btree:{name:"B-Tree Index",icon:"ðŸŒ³",color:"blue",description:"Balanced tree structure with sorted keys",structure:"Multi-level tree where each node contains multiple keys and pointers",timeComplexity:{search:"O(log n)",insert:"O(log n)",delete:"O(log n)",rangeScan:"O(log n + k)"},characteristics:["Keeps data sorted","Efficient for range queries","Good for equality searches","Self-balancing","Cache-friendly"],bestFor:["Primary keys and unique constraints","Range queries (BETWEEN, <, >, etc.)","ORDER BY operations",'Prefix searches (LIKE "abc%")',"Foreign key lookups"],notGoodFor:["High write volume (requires rebalancing)","Full-text search",'Suffix searches (LIKE "%abc")',"Very large keys"],databases:["PostgreSQL (default)","MySQL/InnoDB (default)","Oracle","SQL Server"],example:`CREATE INDEX idx_user_email ON users(email);
-- B-Tree automatically created
-- Good for: WHERE email = 'user@example.com'
-- Good for: WHERE email LIKE 'user%'
-- Good for: ORDER BY email`},lsm:{name:"LSM Tree (Log-Structured Merge)",icon:"ðŸ“š",color:"green",description:"Write-optimized structure with multiple sorted levels",structure:"Writes go to memory (MemTable), then flush to disk SSTables, periodic compaction",timeComplexity:{search:"O(log n) but slower",insert:"O(1) amortized",delete:"O(1) amortized",rangeScan:"O(log n + k)"},characteristics:["Optimized for writes","Append-only writes","Background compaction","Higher read amplification","Better write throughput"],bestFor:["Write-heavy workloads","Time-series data","Log aggregation","IoT sensor data","High ingestion rate"],notGoodFor:["Read-heavy workloads","Point queries (slower than B-Tree)","Low latency reads","Frequent updates to same key"],databases:["Cassandra","RocksDB","LevelDB","ScyllaDB","HBase"],example:`-- Cassandra Example
CREATE TABLE sensor_data (
  sensor_id uuid,
  timestamp timestamp,
  value double,
  PRIMARY KEY (sensor_id, timestamp)
) WITH COMPACTION = {'class': 'TimeWindowCompactionStrategy'};
-- LSM tree handles millions of writes/sec`},hash:{name:"Hash Index",icon:"ðŸ”‘",color:"purple",description:"Hash function maps keys to bucket locations",structure:"Key â†’ Hash Function â†’ Bucket â†’ Value pointer",timeComplexity:{search:"O(1) average",insert:"O(1) average",delete:"O(1) average",rangeScan:"Not supported"},characteristics:["Fastest for exact matches","Constant time lookups","No ordering preserved","Cannot do range scans","Memory efficient"],bestFor:["Exact equality lookups","Cache key lookups","Session ID lookups","Hash partitioning","In-memory indexes"],notGoodFor:["Range queries (completely unusable)","ORDER BY operations","Prefix searches","MIN/MAX operations","Inequality comparisons"],databases:["PostgreSQL (HASH)","MySQL Memory Engine","Redis","Memcached"],example:`CREATE INDEX idx_user_id_hash ON users USING HASH (user_id);
-- Perfect for: WHERE user_id = 123
-- Cannot do: WHERE user_id > 100
-- Cannot do: ORDER BY user_id`}},d={oltp:{name:"OLTP Workload",icon:"âš¡",description:"Online Transaction Processing - frequent small transactions",characteristics:["Many concurrent users","Short, simple queries","Mix of reads and writes","Low latency required","Point lookups and range scans"],recommended:"btree",why:"B-Tree provides balanced read/write performance and supports all query types needed",example:"E-commerce order processing, banking transactions, user authentication"},analytics:{name:"Analytics Workload",icon:"ðŸ“Š",description:"Complex queries scanning large amounts of data",characteristics:["Few concurrent queries","Complex aggregations","Read-heavy","Can tolerate higher latency","Full table scans common"],recommended:"btree",why:"B-Tree helps with sorting and range scans. Consider columnar storage instead of row-based.",example:"Business intelligence dashboards, data warehousing, reporting"},timeseries:{name:"Time-Series Data",icon:"ðŸ“ˆ",description:"High volume of timestamped data points",characteristics:["Extremely write-heavy","Time-ordered data","Batch inserts","Range queries by time","Old data rarely updated"],recommended:"lsm",why:"LSM Tree handles massive write throughput better. Time-based compaction is efficient.",example:"IoT sensors, application logs, metrics monitoring, stock prices"},cache:{name:"Cache Lookups",icon:"ðŸš€",description:"Fast exact-match key-value lookups",characteristics:["Extremely read-heavy","Simple key lookups","No range queries","Sub-millisecond latency","In-memory data"],recommended:"hash",why:"Hash index provides O(1) lookups, perfect for cache. No need for ordering.",example:"Session storage, API rate limiting, user preferences, CDN cache"}},i=[{name:"Primary Index",description:"Built on the primary key, determines physical row order",icon:"ðŸ”‘",color:"blue",example:"CREATE TABLE users (id INT PRIMARY KEY, ...)",characteristics:["Automatically created","Unique by definition","Usually a clustered index","One per table","Fast for ID lookups"]},{name:"Secondary Index",description:"Additional indexes on non-primary columns",icon:"ðŸ”–",color:"green",example:"CREATE INDEX idx_email ON users(email)",characteristics:["Multiple allowed per table","Points to primary key","Adds write overhead","Speeds up queries","Requires maintenance"]},{name:"Composite Index",description:"Index on multiple columns together",icon:"ðŸ”—",color:"purple",example:"CREATE INDEX idx_name_age ON users(last_name, first_name, age)",characteristics:["Left-to-right matching","Column order matters","Can serve multiple queries","Larger storage cost","Prefix optimization"]},{name:"Unique Index",description:"Enforces uniqueness constraint",icon:"âœ¨",color:"amber",example:"CREATE UNIQUE INDEX idx_username ON users(username)",characteristics:["Prevents duplicates","Slightly slower inserts","Same as regular index","Enforced at write time","Good for constraints"]},{name:"Covering Index",description:"Contains all columns needed by a query",icon:"ðŸ“¦",color:"teal",example:"CREATE INDEX idx_user_info ON users(email, name, status)",characteristics:["No table lookup needed","Fastest query performance","Higher storage cost","Index-only scan","Reduces I/O"]},{name:"Partial Index",description:"Index only a subset of rows",icon:"ðŸŽ¯",color:"red",example:'CREATE INDEX idx_active ON users(email) WHERE status = "active"',characteristics:["Smaller index size","Faster for subset","Conditional indexing","Less maintenance","Query must match condition"]}],n=[{operation:"Point Query (WHERE id = 123)",btree:{time:"0.1ms",rating:"excellent"},lsm:{time:"0.3ms",rating:"good"},hash:{time:"0.05ms",rating:"excellent"}},{operation:"Range Query (WHERE age BETWEEN 25 AND 35)",btree:{time:"2ms",rating:"excellent"},lsm:{time:"5ms",rating:"good"},hash:{time:"N/A",rating:"bad"}},{operation:"ORDER BY (ORDER BY created_at DESC)",btree:{time:"1ms",rating:"excellent"},lsm:{time:"3ms",rating:"good"},hash:{time:"N/A",rating:"bad"}},{operation:"Bulk Insert (1000 rows)",btree:{time:"50ms",rating:"good"},lsm:{time:"10ms",rating:"excellent"},hash:{time:"15ms",rating:"excellent"}},{operation:"Update Random Row",btree:{time:"0.5ms",rating:"good"},lsm:{time:"0.2ms",rating:"excellent"},hash:{time:"0.3ms",rating:"excellent"}},{operation:'Prefix Search (LIKE "abc%")',btree:{time:"3ms",rating:"good"},lsm:{time:"8ms",rating:"fair"},hash:{time:"N/A",rating:"bad"}}],m=r[s],p=d[t],g=h=>{switch(h){case"excellent":return"text-green-600 bg-green-50";case"good":return"text-blue-600 bg-blue-50";case"fair":return"text-amber-600 bg-amber-50";case"bad":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Database Indexing Deep Dive"}),e.jsx("p",{className:"text-gray-600",children:"Understanding B-Tree, LSM Tree, and Hash indexes for optimal performance"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:Object.entries(r).map(([h,u])=>e.jsxs("button",{onClick:()=>l(h),className:`p-4 rounded-lg border-2 transition-all ${s===h?`border-${u.color}-500 bg-${u.color}-50 shadow-lg`:"border-gray-200 hover:border-gray-400"}`,children:[e.jsx("div",{className:"text-4xl mb-2",children:u.icon}),e.jsx("div",{className:"font-bold text-lg",children:u.name}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:u.description})]},h))}),e.jsxs("div",{className:`p-6 rounded-lg border-2 ${s==="btree"?"border-blue-200 bg-blue-50":s==="lsm"?"border-green-200 bg-green-50":"border-purple-200 bg-purple-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-5xl",children:m.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold",children:m.name}),e.jsx("p",{className:"text-gray-700",children:m.description})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4 border border-gray-200",children:[e.jsxs("h5",{className:"font-bold mb-2 flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5"}),"Internal Structure"]}),e.jsx("p",{className:"text-sm text-gray-700",children:m.structure})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4 border border-gray-200",children:[e.jsx("h5",{className:"font-bold mb-3",children:"Time Complexity"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(m.timeComplexity).map(([h,u])=>e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:h}),e.jsx("div",{className:"font-mono font-bold text-sm",children:u})]},h))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("h5",{className:"font-bold mb-3 flex items-center gap-2 text-green-700",children:[e.jsx(N,{className:"w-5 h-5"}),"Best For"]}),e.jsx("ul",{className:"space-y-2",children:m.bestFor.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(N,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:h})]},u))})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("h5",{className:"font-bold mb-3 flex items-center gap-2 text-red-700",children:[e.jsx(F,{className:"w-5 h-5"}),"Not Good For"]}),e.jsx("ul",{className:"space-y-2",children:m.notGoodFor.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(F,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:h})]},u))})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4 border border-gray-200",children:[e.jsx("h5",{className:"font-bold mb-2",children:"Used By"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.databases.map((h,u)=>e.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-sm",children:h},u))})]}),e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-bold mb-2 text-white",children:"Example Usage"}),e.jsx("pre",{className:"text-green-400 text-sm font-mono whitespace-pre-wrap",children:m.example})]})]}),e.jsxs("div",{className:" from-slate-50 to-gray-50 p-6 rounded-lg border-2 border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(z,{className:"w-6 h-6 text-amber-500"}),"Performance Comparison"]}),e.jsx("button",{onClick:()=>c(!a),className:`px-4 py-2 rounded-lg font-semibold transition-all ${a?"bg-amber-500 text-white":"bg-white border-2 border-amber-500 text-amber-600 hover:bg-amber-50"}`,children:a?"Hide Demo":"Show Demo"})]}),a&&e.jsx("div",{className:"bg-white rounded-lg overflow-hidden border border-gray-200",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Operation"}),e.jsx("th",{className:"px-4 py-3 text-center font-bold",children:"B-Tree"}),e.jsx("th",{className:"px-4 py-3 text-center font-bold",children:"LSM Tree"}),e.jsx("th",{className:"px-4 py-3 text-center font-bold",children:"Hash"})]})}),e.jsx("tbody",{children:n.map((h,u)=>e.jsxs("tr",{className:"border-t border-gray-200",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-sm",children:h.operation}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-semibold ${g(h.btree.rating)}`,children:h.btree.time})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-semibold ${g(h.lsm.rating)}`,children:h.lsm.time})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-semibold ${g(h.hash.rating)}`,children:h.hash.time})})]},u))})]})})]}),e.jsxs("div",{className:"border-t-2 border-gray-200 pt-8",children:[e.jsx("h4",{className:"text-xl font-bold mb-6 text-center",children:"Index Types & Categories"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((h,u)=>e.jsxs("div",{className:"bg-white p-5 rounded-lg border-2 border-gray-200 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("span",{className:"text-3xl",children:h.icon}),e.jsx("h5",{className:"font-bold text-lg",children:h.name})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:h.description}),e.jsx("div",{className:"bg-gray-900 p-3 rounded mb-3",children:e.jsx("code",{className:"text-green-400 text-xs",children:h.example})}),e.jsx("ul",{className:"space-y-1",children:h.characteristics.map((C,S)=>e.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-600",children:[e.jsx("span",{className:"text-blue-500 mt-0.5",children:"â€¢"}),e.jsx("span",{children:C})]},S))})]},u))})]}),e.jsxs("div",{className:"border-t-2 border-gray-200 pt-8",children:[e.jsx("h4",{className:"text-xl font-bold mb-4 text-center",children:"Choose the Right Index for Your Workload"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:Object.entries(d).map(([h,u])=>e.jsxs("button",{onClick:()=>o(h),className:`p-4 rounded-lg border-2 transition-all ${t===h?"border-indigo-500 bg-indigo-50 shadow-md":"border-gray-200 hover:border-indigo-300"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:u.icon}),e.jsx("div",{className:"font-bold text-sm",children:u.name})]},h))}),e.jsxs("div",{className:" from-indigo-50 to-blue-50 p-6 rounded-lg border-2 border-indigo-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-4xl",children:p.icon}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-xl font-bold",children:p.name}),e.jsx("p",{className:"text-gray-700",children:p.description})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4",children:[e.jsx("h6",{className:"font-bold mb-2",children:"Workload Characteristics:"}),e.jsx("ul",{className:"space-y-1",children:p.characteristics.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(N,{className:"w-4 h-4 text-indigo-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:h})]},u))})]}),e.jsxs("div",{className:" from-green-50 to-emerald-50 p-4 rounded-lg border-2 border-green-200 mb-4",children:[e.jsxs("h6",{className:"font-bold mb-2 text-green-800 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"Recommended: ",r[p.recommended].name]}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:p.why}),e.jsxs("p",{className:"text-xs text-gray-600 italic",children:["Example: ",p.example]})]})]})]}),e.jsxs("div",{className:"bg-amber-50 p-6 rounded-lg border-2 border-amber-200",children:[e.jsxs("h4",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(Ie,{className:"w-6 h-6 text-amber-600"}),"Indexing Best Practices"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg space-y-3",children:[e.jsxs("h5",{className:"font-bold text-green-700 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"DO"]}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 font-bold",children:"âœ“"}),e.jsx("span",{children:"Index columns used in WHERE, JOIN, ORDER BY clauses"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 font-bold",children:"âœ“"}),e.jsx("span",{children:"Use composite indexes for multi-column queries"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 font-bold",children:"âœ“"}),e.jsx("span",{children:"Index foreign keys to speed up joins"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 font-bold",children:"âœ“"}),e.jsx("span",{children:"Use covering indexes for frequently run queries"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 font-bold",children:"âœ“"}),e.jsx("span",{children:"Monitor query execution plans regularly"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 font-bold",children:"âœ“"}),e.jsx("span",{children:"Use partial indexes for subset queries"})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg space-y-3",children:[e.jsxs("h5",{className:"font-bold text-red-700 flex items-center gap-2",children:[e.jsx(F,{className:"w-5 h-5"}),"DON'T"]}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500 font-bold",children:"âœ—"}),e.jsx("span",{children:"Over-index (every index slows writes)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500 font-bold",children:"âœ—"}),e.jsx("span",{children:"Index low-cardinality columns (gender, boolean)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500 font-bold",children:"âœ—"}),e.jsx("span",{children:"Use functions in WHERE clause (breaks index usage)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500 font-bold",children:"âœ—"}),e.jsx("span",{children:"Ignore composite index column order"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500 font-bold",children:"âœ—"}),e.jsx("span",{children:"Forget to maintain indexes (ANALYZE, VACUUM)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500 font-bold",children:"âœ—"}),e.jsx("span",{children:"Create duplicate or redundant indexes"})]})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border-2 border-blue-200",children:[e.jsx("h4",{className:"text-xl font-bold mb-4",children:"ðŸ’¡ Interview Tips"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-bold text-gray-800 mb-2",children:`Q: "Why does LIKE '%abc' not use index but LIKE 'abc%' does?"`}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"})," B-Tree stores keys in sorted order. For 'abc%', the database knows to look only at entries starting with 'abc'. For '%abc', it must scan all entries since the prefix is unknown. This is why full-text search indexes exist for suffix/substring searches."]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-bold text-gray-800 mb-2",children:`Q: "What's the difference between clustered and non-clustered index?"`}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"})," Clustered index determines the physical order of data on disk (like a phone book sorted by name). Non-clustered index is a separate structure pointing to the actual data (like an index at the back of a book). A table can have only ONE clustered index but multiple non-clustered indexes."]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-bold text-gray-800 mb-2",children:'Q: "When would you NOT want to add an index?"'}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"})," On write-heavy tables with few reads, small tables (full scan is faster), low-cardinality columns (few unique values), or when the query already uses another suitable index. Every index has a maintenance cost during INSERT/UPDATE/DELETE operations."]})]})]})]})]})},Ma=()=>{const[s,l]=x.useState("oltp"),[t,o]=x.useState("row"),[a,c]=x.useState("htap"),r={oltp:{name:"OLTP",fullName:"Online Transaction Processing",icon:z,color:"blue",tagline:"Transactional workloads - Fast, frequent, simple operations",description:"Handles day-to-day business transactions with high concurrency",characteristics:{users:"Thousands to millions of concurrent users",queries:"Short, simple queries (INSERT, UPDATE, DELETE, SELECT by ID)",data:"Current operational data (last few months)",response:"Sub-second response time required",operations:"Read + Write (mixed workload)",volume:"Many small transactions per second"},queryExamples:["SELECT * FROM orders WHERE order_id = 12345",'UPDATE users SET email = "new@example.com" WHERE user_id = 789',"INSERT INTO transactions (user_id, amount) VALUES (123, 50.00)","DELETE FROM cart WHERE user_id = 456 AND session_expired = true"],useCases:["E-commerce order processing","Banking transactions (ATM, transfers)","Airline reservation systems","Hotel bookings","Retail point-of-sale systems","User authentication and sessions"],databases:["PostgreSQL","MySQL","Oracle","SQL Server","CockroachDB","Amazon Aurora"],requirements:["ACID compliance","High availability","Low latency","Data integrity","Concurrent access","Row-level locking"]},olap:{name:"OLAP",fullName:"Online Analytical Processing",icon:ss,color:"purple",tagline:"Analytical workloads - Complex queries on large datasets",description:"Supports business intelligence and data analysis",characteristics:{users:"Few concurrent users (analysts, data scientists)",queries:"Complex aggregations (SUM, AVG, GROUP BY, JOIN)",data:"Historical data (years of records)",response:"Seconds to minutes acceptable",operations:"Read-heavy (mostly SELECT)",volume:"Few queries scanning millions/billions of rows"},queryExamples:["SELECT region, SUM(sales) FROM orders GROUP BY region",'SELECT DATE(created_at), COUNT(*) FROM users WHERE created_at > "2020-01-01" GROUP BY DATE(created_at)',"SELECT product_id, AVG(rating) FROM reviews JOIN products ON ... WHERE ... GROUP BY product_id HAVING AVG(rating) > 4.0","WITH monthly_sales AS (...) SELECT * FROM monthly_sales WHERE ..."],useCases:["Business intelligence dashboards","Sales reporting and forecasting","Customer behavior analysis","Financial reporting","Data mining and ML training","Executive decision making"],databases:["Snowflake","BigQuery","Redshift","ClickHouse","Apache Druid","Teradata"],requirements:["Fast aggregations","Columnar storage","Query optimization","Data compression","Partitioning","Parallel processing"]}},d={row:{name:"Row-Store (Row-Oriented)",icon:"ðŸ“Š",color:"blue",description:"Data stored row by row - each row contains all columns",structure:['Row 1: [id=1, name="Alice", age=25, city="NYC"]','Row 2: [id=2, name="Bob", age=30, city="LA"]','Row 3: [id=3, name="Carol", age=28, city="SF"]'],diskLayout:"Contiguous blocks contain complete rows",bestFor:"OLTP",advantages:["Fast row lookups (SELECT * WHERE id = 1)","Efficient inserts/updates (write entire row)","Good for transactional workloads","Simple to implement","No assembly needed for full row"],disadvantages:["Slow for column scans (must read all columns)","Poor compression (mixed data types)","Cache inefficient for analytics","Wasted I/O for column-specific queries"],example:"Reading user record: Fetch 1 block = get all user data âœ“",databases:["PostgreSQL","MySQL","Oracle","SQL Server"]},column:{name:"Column-Store (Column-Oriented)",icon:"ðŸ“ˆ",color:"purple",description:"Data stored column by column - each column stored separately",structure:["id column: [1, 2, 3]",'name column: ["Alice", "Bob", "Carol"]',"age column: [25, 30, 28]",'city column: ["NYC", "LA", "SF"]'],diskLayout:"Each column stored in separate blocks",bestFor:"OLAP",advantages:["Fast column scans (SELECT AVG(age))","Excellent compression (same data type)","Cache efficient for aggregations","Read only needed columns","Vectorized processing"],disadvantages:["Slow for full row reads (must join columns)","Inefficient inserts/updates (modify multiple files)","Complexity in implementation","Poor for transactional workloads"],example:"Getting average age: Read only age column, skip rest âœ“",databases:["Snowflake","BigQuery","Redshift","ClickHouse","Vertica"]}},i=[{aspect:"Purpose",oltp:"Run the business",olap:"Analyze the business"},{aspect:"Users",oltp:"Many concurrent users",olap:"Few analysts"},{aspect:"Query Type",oltp:"Simple, predefined",olap:"Complex, ad-hoc"},{aspect:"Response Time",oltp:"Milliseconds",olap:"Seconds to minutes"},{aspect:"Data Volume",oltp:"GB to TB",olap:"TB to PB"},{aspect:"Data Age",oltp:"Current (days/months)",olap:"Historical (years)"},{aspect:"Updates",oltp:"Frequent",olap:"Rare (batch loads)"},{aspect:"Normalization",oltp:"Highly normalized (3NF)",olap:"Denormalized (star/snowflake)"},{aspect:"Storage",oltp:"Row-based",olap:"Column-based"},{aspect:"Focus",oltp:"Data integrity",olap:"Query performance"}],n={htap:{name:"HTAP (Hybrid Transactional/Analytical Processing)",description:"Single database handling both OLTP and OLAP workloads",icon:"ðŸ”„",color:"teal",howItWorks:"In-memory columnar store alongside row-store, real-time analytics without ETL",examples:["SAP HANA","MemSQL","TiDB","Oracle Database In-Memory"],pros:["Real-time analytics on fresh data","No ETL delay","Unified data model","Reduced infrastructure"],cons:["Expensive licensing","Resource contention","Complex tuning","Limited scale vs pure OLAP"],useCase:"Real-time fraud detection, dynamic pricing, operational analytics"},lambda:{name:"Lambda Architecture",description:"Separate batch and speed layers combined at serving layer",icon:"âš¡",color:"amber",howItWorks:"Batch layer (OLAP) + Speed layer (OLTP) = Unified view",examples:["Hadoop + Storm","Spark Batch + Spark Streaming"],pros:["Handles both historical and real-time","Fault-tolerant","Scalable independently","Accurate batch results"],cons:["Complex architecture","Dual codebase maintenance","Eventually consistent","High operational overhead"],useCase:"IoT analytics, social media analytics, recommendation engines"},replication:{name:"Read Replica for Analytics",description:"Replicate OLTP database to separate OLAP instance",icon:"ðŸ“‹",color:"blue",howItWorks:"Master (OLTP) â†’ Async replication â†’ Replica (OLAP queries)",examples:["PostgreSQL â†’ BigQuery","MySQL â†’ Redshift","Aurora â†’ S3 â†’ Athena"],pros:["Simple architecture","No impact on OLTP performance","Use specialized OLAP database","Cost-effective"],cons:["Data lag (minutes to hours)","Duplication of storage","Manual sync setup","Schema transformation needed"],useCase:"Most common approach - daily/hourly reporting without impacting production"}},m=r[s],p=d[t],g=n[a];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"OLTP vs OLAP: Understanding Workload Types"}),e.jsx("p",{className:"text-gray-600",children:"Choose the right database architecture for transactional vs analytical workloads"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(r).map(([h,u])=>e.jsxs("button",{onClick:()=>l(h),className:`p-6 rounded-lg border-2 transition-all text-left ${s===h?`border-${u.color}-500 bg-${u.color}-50 shadow-lg`:"border-gray-200 hover:border-gray-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(u.icon,{className:`w-8 h-8 ${s===h?`text-${u.color}-600`:"text-gray-400"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-xl",children:u.name}),e.jsx("div",{className:"text-sm text-gray-600",children:u.fullName})]})]}),e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:u.tagline})]},h))}),e.jsxs("div",{className:`p-6 rounded-lg border-2 ${s==="oltp"?"border-blue-200 bg-blue-50":"border-purple-200 bg-purple-50"}`,children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx(m.icon,{className:`w-12 h-12 ${s==="oltp"?"text-blue-600":"text-purple-600"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold",children:m.fullName}),e.jsx("p",{className:"text-gray-700",children:m.description})]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-lg mb-4 border border-gray-200",children:[e.jsx("h5",{className:"font-bold text-lg mb-3",children:"Workload Characteristics"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(m.characteristics).map(([h,u])=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(te,{className:"w-5 h-5 text-indigo-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-sm text-gray-600 capitalize",children:[h,":"]}),e.jsx("div",{className:"text-sm text-gray-800",children:u})]})]},h))})]}),e.jsxs("div",{className:"bg-white p-5 rounded-lg mb-4 border border-gray-200",children:[e.jsx("h5",{className:"font-bold text-lg mb-3",children:"Typical Queries"}),e.jsx("div",{className:"space-y-2",children:m.queryExamples.map((h,u)=>e.jsx("div",{className:"bg-gray-900 p-3 rounded",children:e.jsx("code",{className:"text-green-400 text-xs",children:h})},u))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white p-5 rounded-lg border border-gray-200",children:[e.jsxs("h5",{className:"font-bold mb-3 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5 text-green-600"}),"Common Use Cases"]}),e.jsx("ul",{className:"space-y-2",children:m.useCases.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx("span",{className:"text-indigo-500",children:"â€¢"}),e.jsx("span",{children:h})]},u))})]}),e.jsxs("div",{className:"bg-white p-5 rounded-lg border border-gray-200",children:[e.jsxs("h5",{className:"font-bold mb-3 flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-blue-600"}),"Recommended Databases"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.databases.map((h,u)=>e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${s==="oltp"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:h},u))})]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-lg border border-gray-200",children:[e.jsx("h5",{className:"font-bold mb-3",children:"Key Requirements"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.requirements.map((h,u)=>e.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-sm",children:h},u))})]})]}),e.jsxs("div",{className:" from-slate-50 to-gray-50 p-6 rounded-lg border-2 border-gray-200",children:[e.jsx("h4",{className:"text-xl font-bold mb-4 text-center",children:"Side-by-Side Comparison"}),e.jsx("div",{className:"bg-white rounded-lg overflow-hidden border border-gray-200",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:" from-blue-100 to-purple-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-bold",children:"Aspect"}),e.jsx("th",{className:"px-4 py-3 text-center font-bold text-blue-700",children:"OLTP"}),e.jsx("th",{className:"px-4 py-3 text-center font-bold text-purple-700",children:"OLAP"})]})}),e.jsx("tbody",{children:i.map((h,u)=>e.jsxs("tr",{className:"border-t border-gray-200",children:[e.jsx("td",{className:"px-4 py-3 font-semibold text-sm bg-gray-50",children:h.aspect}),e.jsx("td",{className:"px-4 py-3 text-sm text-center",children:h.oltp}),e.jsx("td",{className:"px-4 py-3 text-sm text-center",children:h.olap})]},u))})]})})]}),e.jsxs("div",{className:"border-t-2 border-gray-200 pt-8",children:[e.jsx("h4",{className:"text-xl font-bold mb-4 text-center",children:"Row-Store vs Column-Store"}),e.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Physical storage layout impacts query performance"}),e.jsx("div",{className:"flex gap-4 justify-center mb-6",children:Object.entries(d).map(([h,u])=>e.jsxs("button",{onClick:()=>o(h),className:`flex items-center gap-3 px-6 py-4 rounded-lg border-2 transition-all ${t===h?`border-${u.color}-500 bg-${u.color}-50 shadow-lg`:"border-gray-200 hover:border-gray-400"}`,children:[e.jsx("span",{className:"text-3xl",children:u.icon}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold",children:u.name}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Best for ",u.bestFor]})]})]},h))}),e.jsxs("div",{className:`p-6 rounded-lg border-2 ${t==="row"?"border-blue-200 bg-blue-50":"border-purple-200 bg-purple-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-4xl",children:p.icon}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-xl font-bold",children:p.name}),e.jsx("p",{className:"text-gray-700",children:p.description})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4 border border-gray-200",children:[e.jsx("h6",{className:"font-bold mb-2",children:"Data Structure:"}),p.structure.map((h,u)=>e.jsx("div",{className:"font-mono text-sm text-gray-700 mb-1",children:h},u)),e.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:p.diskLayout})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("h6",{className:"font-bold mb-2 text-green-700 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"Advantages"]}),e.jsx("ul",{className:"space-y-1",children:p.advantages.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(N,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:h})]},u))})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("h6",{className:"font-bold mb-2 text-red-700 flex items-center gap-2",children:[e.jsx(F,{className:"w-5 h-5"}),"Disadvantages"]}),e.jsx("ul",{className:"space-y-1",children:p.disadvantages.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(F,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:h})]},u))})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4 border border-gray-200",children:[e.jsx("h6",{className:"font-bold mb-2",children:"Example:"}),e.jsx("p",{className:"text-sm text-gray-700",children:p.example})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("h6",{className:"font-bold mb-2",children:"Databases Using This:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.databases.map((h,u)=>e.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-sm",children:h},u))})]})]})]}),e.jsxs("div",{className:"border-t-2 border-gray-200 pt-8",children:[e.jsx("h4",{className:"text-xl font-bold mb-4 text-center",children:"Hybrid Approaches"}),e.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Combining OLTP and OLAP in modern architectures"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-3 mb-6",children:Object.entries(n).map(([h,u])=>e.jsxs("button",{onClick:()=>c(h),className:`p-4 rounded-lg border-2 transition-all ${a===h?"border-indigo-500 bg-indigo-50 shadow-md":"border-gray-200 hover:border-indigo-300"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:u.icon}),e.jsx("div",{className:"font-bold text-sm",children:u.name})]},h))}),e.jsxs("div",{className:" from-indigo-50 to-blue-50 p-6 rounded-lg border-2 border-indigo-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-4xl",children:g.icon}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-xl font-bold",children:g.name}),e.jsx("p",{className:"text-gray-700",children:g.description})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4",children:[e.jsx("h6",{className:"font-bold mb-2",children:"How It Works:"}),e.jsx("p",{className:"text-sm text-gray-700",children:g.howItWorks})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4",children:[e.jsx("h6",{className:"font-bold mb-2",children:"Examples:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:g.examples.map((h,u)=>e.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm",children:h},u))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("h6",{className:"font-bold mb-2 text-green-700",children:"Pros:"}),e.jsx("ul",{className:"space-y-1",children:g.pros.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(N,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:h})]},u))})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("h6",{className:"font-bold mb-2 text-red-700",children:"Cons:"}),e.jsx("ul",{className:"space-y-1",children:g.cons.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(F,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:h})]},u))})]})]}),e.jsxs("div",{className:" from-blue-50 to-purple-50 p-4 rounded-lg border-l-4 border-indigo-400",children:[e.jsx("h6",{className:"font-bold mb-2",children:"Use Case:"}),e.jsx("p",{className:"text-sm text-gray-700",children:g.useCase})]})]})]}),e.jsxs("div",{className:"bg-amber-50 p-6 rounded-lg border-2 border-amber-200",children:[e.jsx("h4",{className:"text-xl font-bold mb-4",children:"ðŸŽ¯ Decision Guide"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-blue-700 mb-2",children:"Choose OLTP when:"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsx("li",{children:"âœ“ Running business operations (orders, payments, bookings)"}),e.jsx("li",{children:"âœ“ Need millisecond response times"}),e.jsx("li",{children:"âœ“ Many concurrent users making small transactions"}),e.jsx("li",{children:"âœ“ Data integrity is critical (ACID required)"}),e.jsx("li",{children:"âœ“ Frequent inserts, updates, deletes"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-purple-700 mb-2",children:"Choose OLAP when:"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsx("li",{children:"âœ“ Running reports and dashboards"}),e.jsx("li",{children:"âœ“ Complex aggregations over large datasets"}),e.jsx("li",{children:"âœ“ Historical analysis (trend analysis, forecasting)"}),e.jsx("li",{children:"âœ“ Few concurrent users (analysts, executives)"}),e.jsx("li",{children:"âœ“ Mostly read operations, rare writes"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-teal-700 mb-2",children:"Use Hybrid (HTAP/Lambda/Replication) when:"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsx("li",{children:"âœ“ Need real-time analytics on operational data"}),e.jsx("li",{children:"âœ“ Want to avoid ETL delays"}),e.jsx("li",{children:"âœ“ Building dashboards on live data"}),e.jsx("li",{children:"âœ“ Can afford higher complexity/cost"})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border-2 border-blue-200",children:[e.jsx("h4",{className:"text-xl font-bold mb-4",children:"ðŸ’¡ Interview Tips"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-bold text-gray-800 mb-2",children:'Q: "Can I use the same database for OLTP and OLAP?"'}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"})," Technically yes, but not recommended. OLAP queries (scanning millions of rows) will slow down OLTP transactions. Common pattern: Use OLTP database for operations, replicate to OLAP database (e.g., PostgreSQL â†’ BigQuery) for analytics. This is called operational/analytical separation."]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-bold text-gray-800 mb-2",children:'Q: "Why is columnar storage better for analytics?"'}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),' Analytics queries typically aggregate specific columns (e.g., SUM(sales)). Columnar storage reads only needed columns, skipping the rest. Also, columns compress better (same data type). For "SELECT AVG(age) FROM users", columnar reads only the age column; row-store reads all columns.']})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-bold text-gray-800 mb-2",children:`Q: "What's the difference between data warehouse and data lake?"`}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"})," Data Warehouse = Structured, schema-on-write, optimized for SQL queries (OLAP). Data Lake = Raw unstructured data, schema-on-read, cheaper storage. Modern approach: Data Lakehouse combines both (e.g., Databricks Delta Lake) - structured queries on data lake storage."]})]})]})]})]})},Oa=()=>{const[s,l]=x.useState("master-slave"),[t,o]=x.useState(!1),[a,c]=x.useState("lww"),r={"master-slave":{name:"Master-Slave (Primary-Replica)",icon:"ðŸ‘‘",color:"blue",description:"Single master for writes, multiple replicas for reads",architecture:"Master (Read + Write) â†’ Async Replication â†’ Slaves (Read Only)",diagram:["Master DB âš¡","    â†“ (replicate)","Slave 1 ðŸ“–  Slave 2 ðŸ“–  Slave 3 ðŸ“–"],characteristics:["Single source of truth","All writes go to master","Reads distributed to replicas","Asynchronous replication","Eventual consistency"],useCases:["Read-heavy workloads (90% reads, 10% writes)","Geographical distribution (replicas in different regions)","Load balancing read traffic","Backup and disaster recovery","Reporting without impacting production"],advantages:["Simple to understand and implement","Read scalability (add more replicas)","Master never blocked by replica lag","Works well for read-heavy apps","Clear consistency model"],disadvantages:["Single point of failure (master)","Write bottleneck (can't scale writes)","Replication lag (stale reads)","Failover requires promotion","No write distribution"],examples:["MySQL Replication","PostgreSQL Streaming Replication","MongoDB Replica Set","Redis Replication"]},"multi-master":{name:"Multi-Master (Active-Active)",icon:"ðŸ‘‘ðŸ‘‘",color:"purple",description:"Multiple masters accepting writes simultaneously",architecture:"Master 1 âŸ· Master 2 âŸ· Master 3 (Bidirectional Replication)",diagram:["Master 1 âš¡  âŸ·  Master 2 âš¡  âŸ·  Master 3 âš¡","   â†“              â†“              â†“","Replicas      Replicas      Replicas"],characteristics:["Multiple write sources","Bidirectional replication","Conflict resolution needed","Higher availability","Complex coordination"],useCases:["Global applications (write locally)","High availability requirements","Write-heavy workloads","Zero-downtime deployments","Collaborative editing"],advantages:["Write scalability","No single point of failure","Lower write latency (write locally)","Better availability","Regional autonomy"],disadvantages:["Conflict resolution complexity","Data consistency challenges","Network partition issues","Higher operational complexity","Potential data loss in conflicts"],examples:["MySQL Group Replication","PostgreSQL BDR","Cassandra","CockroachDB","Galera Cluster"]},"read-replica":{name:"Read Replica Strategy",icon:"ðŸ“š",color:"green",description:"Dedicated replicas optimized for specific read workloads",architecture:"Master â†’ [ Analytics Replica | Cache Replica | Geo Replica ]",diagram:["Master DB âš¡ (Production)","    â†“","    â”œâ”€â†’ Analytics Replica (Heavy queries)","    â”œâ”€â†’ Cache Replica (Frequently accessed)","    â””â”€â†’ Geo Replica (Low latency reads)"],characteristics:["Purpose-built replicas","Workload segregation","Different configurations","Lag acceptable","Optimized indexes"],useCases:["Analytics on production data without impact","Search indexing (Elasticsearch sync)","Cache warming","Geographic distribution","A/B testing environments"],advantages:["Zero impact on production","Specialized optimizations","Different resource allocation","Can have different schemas/indexes","Easy to add/remove"],disadvantages:["Data staleness","Storage duplication","Sync overhead","Management complexity","Potential inconsistency"],examples:["Aurora Read Replicas","RDS Read Replicas","Cloud SQL Replicas","Atlas Read Preference"]}},d=[{scenario:"User updates profile",timeline:[{time:"T+0ms",event:"User clicks Save",location:"Client"},{time:"T+10ms",event:"Write to Master",location:"Master DB",status:"success"},{time:"T+11ms",event:"Response sent to client",location:"Client"},{time:"T+15ms",event:"User refreshes page",location:"Client"},{time:"T+20ms",event:"Read from Replica (OLD DATA)",location:"Replica DB",status:"stale"},{time:"T+150ms",event:"Replication completes",location:"Replica DB",status:"synced"}],problem:"User sees old profile data after update (Read-your-writes violation)",solutions:["Read from Master after write (session stickiness)","Use version numbers/timestamps","Wait for replication (slower UX)","Optimistic UI updates"]}],i={lww:{name:"Last Write Wins (LWW)",description:"Most recent timestamp wins",icon:"â°",example:'User A updates name to "Alice" at 10:00, User B updates to "Bob" at 10:01 â†’ Bob wins',pros:["Simple to implement","No user intervention","Fast resolution"],cons:["Data loss (first write discarded)","Clock sync issues","Not suitable for important data"],usedBy:["Cassandra","DynamoDB","Riak"]},versioning:{name:"Version Vectors / Vector Clocks",description:"Track causality to detect conflicts",icon:"ðŸ”¢",example:"Server1: [1,0,0], Server2: [0,1,0] â†’ Concurrent edits detected â†’ Merge or prompt user",pros:["Detects true conflicts","Preserves causality","No data loss"],cons:["Complex implementation","Storage overhead","Manual conflict resolution"],usedBy:["Riak","Dynamo","Voldemort"]},crdt:{name:"CRDTs (Conflict-free Replicated Data Types)",description:"Data structures that merge automatically",icon:"ðŸ”„",example:"Counter: increment operations commute (A+1+1 = 1+A+1 = 2). Set: union of adds, remove tombstones",pros:["Automatic merge","No conflicts","Mathematically proven"],cons:["Limited data types","Eventual consistency","Storage overhead (tombstones)"],usedBy:["Redis","Automerge","Yjs","Figma"]},app:{name:"Application-Level Resolution",description:"App decides how to merge conflicts",icon:"âš™ï¸",example:"Google Docs: Operational Transformation. Git: Three-way merge with conflict markers",pros:["Full control","Business logic aware","Context-specific"],cons:["Application complexity","Must handle all cases","Development overhead"],usedBy:["Google Docs","Figma","Git","Custom apps"]}},n=[{level:"Strong Consistency",description:"All nodes always see same data",guarantee:"Read-your-writes, monotonic reads",latency:"Higher (sync replication)",availability:"Lower (CAP: CP)",example:"Financial transactions, inventory"},{level:"Eventual Consistency",description:"Nodes converge over time",guarantee:"Eventually all nodes will agree",latency:"Lower (async replication)",availability:"Higher (CAP: AP)",example:"Social media likes, view counts"},{level:"Session Consistency",description:"User sees their own writes",guarantee:"Read-your-writes for same session",latency:"Medium (sticky sessions)",availability:"Medium",example:"User profile updates"},{level:"Causal Consistency",description:"Respects cause-effect relationships",guarantee:"If A causes B, all see A before B",latency:"Medium (version tracking)",availability:"Medium",example:"Comment threads, message ordering"}],m={automatic:{name:"Automatic Failover",description:"System automatically promotes replica to master",steps:["Master fails â†’ Health check timeout (5-30 seconds)","Consensus protocol elects new master (Raft/Paxos)","Replica promoted to master","DNS/Load balancer updated","Other replicas sync from new master"],downtime:"10-60 seconds",pros:["No manual intervention","Faster recovery","Works 24/7"],cons:["Risk of split-brain","Potential data loss","False positives"],examples:["MongoDB Replica Set","PostgreSQL Patroni","MySQL MHA"]},manual:{name:"Manual Failover",description:"Human operator promotes replica",steps:["Alert triggers (master down)","On-call engineer investigates","Verify master is truly down","Choose replica to promote","Execute promotion commands","Update app configuration"],downtime:"5-30 minutes",pros:["No false positives","Controlled process","Can verify data"],cons:["Slow recovery","Requires on-call","Human error risk"],examples:["Traditional MySQL","PostgreSQL without HA","Redis Sentinel (semi-auto)"]}},p=r[s],g=i[a];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Database Replication Patterns"}),e.jsx("p",{className:"text-gray-600",children:"Master-Slave, Multi-Master, Read Replicas, Conflict Resolution & Consistency"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:Object.entries(r).map(([h,u])=>e.jsxs("button",{onClick:()=>l(h),className:`p-5 rounded-lg border-2 transition-all ${s===h?`border-${u.color}-500 bg-${u.color}-50 shadow-lg`:"border-gray-200 hover:border-gray-400"}`,children:[e.jsx("div",{className:"text-4xl mb-2",children:u.icon}),e.jsx("div",{className:"font-bold text-lg",children:u.name}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:u.description})]},h))}),e.jsxs("div",{className:`p-6 rounded-lg border-2 ${s==="master-slave"?"border-blue-200 bg-blue-50":s==="multi-master"?"border-purple-200 bg-purple-50":"border-green-200 bg-green-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-5xl",children:p.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold",children:p.name}),e.jsx("p",{className:"text-gray-700",children:p.description})]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-lg mb-4 border border-gray-200",children:[e.jsxs("h5",{className:"font-bold mb-3 flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5"}),"Architecture"]}),e.jsx("p",{className:"text-sm font-mono text-gray-800 mb-3",children:p.architecture}),e.jsx("div",{className:"bg-gray-900 p-4 rounded",children:p.diagram.map((h,u)=>e.jsx("div",{className:"font-mono text-green-400 text-sm",children:h},u))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white p-5 rounded-lg border border-gray-200",children:[e.jsx("h5",{className:"font-bold mb-3",children:"Characteristics"}),e.jsx("ul",{className:"space-y-2",children:p.characteristics.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx("span",{className:"text-indigo-500",children:"â€¢"}),e.jsx("span",{children:h})]},u))})]}),e.jsxs("div",{className:"bg-white p-5 rounded-lg border border-gray-200",children:[e.jsx("h5",{className:"font-bold mb-3",children:"Use Cases"}),e.jsx("ul",{className:"space-y-2",children:p.useCases.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(N,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:h})]},u))})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white p-5 rounded-lg border border-gray-200",children:[e.jsxs("h5",{className:"font-bold mb-3 text-green-700 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"Advantages"]}),e.jsx("ul",{className:"space-y-2",children:p.advantages.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(N,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:h})]},u))})]}),e.jsxs("div",{className:"bg-white p-5 rounded-lg border border-gray-200",children:[e.jsxs("h5",{className:"font-bold mb-3 text-red-700 flex items-center gap-2",children:[e.jsx(F,{className:"w-5 h-5"}),"Disadvantages"]}),e.jsx("ul",{className:"space-y-2",children:p.disadvantages.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(F,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:h})]},u))})]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-lg border border-gray-200",children:[e.jsxs("h5",{className:"font-bold mb-3 flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5"}),"Real-World Examples"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.examples.map((h,u)=>e.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-sm",children:h},u))})]})]}),e.jsxs("div",{className:" from-amber-50 to-orange-50 p-6 rounded-lg border-2 border-amber-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(ye,{className:"w-6 h-6 text-amber-600"}),"Replication Lag & Consistency Issues"]}),e.jsx("button",{onClick:()=>o(!t),className:`px-4 py-2 rounded-lg font-semibold transition-all ${t?"bg-amber-500 text-white":"bg-white border-2 border-amber-500 text-amber-600 hover:bg-amber-50"}`,children:t?"Hide Example":"Show Example"})]}),t&&d.map((h,u)=>e.jsxs("div",{className:"bg-white p-5 rounded-lg mb-4 border border-gray-200",children:[e.jsx("h5",{className:"font-bold mb-3",children:h.scenario}),e.jsx("div",{className:"space-y-2 mb-4",children:h.timeline.map((C,S)=>e.jsxs("div",{className:`flex items-center gap-3 p-2 rounded ${C.status==="success"?"bg-green-50":C.status==="stale"?"bg-red-50":C.status==="synced"?"bg-blue-50":"bg-gray-50"}`,children:[e.jsx("span",{className:"font-mono text-xs font-semibold w-20",children:C.time}),e.jsx("span",{className:"text-sm flex-1",children:C.event}),e.jsx("span",{className:"text-xs text-gray-500",children:C.location})]},S))}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-400 mb-3",children:[e.jsx("h6",{className:"font-bold text-red-700 mb-2",children:"Problem:"}),e.jsx("p",{className:"text-sm text-red-800",children:h.problem})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-400",children:[e.jsx("h6",{className:"font-bold text-green-700 mb-2",children:"Solutions:"}),e.jsx("ul",{className:"space-y-1",children:h.solutions.map((C,S)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-green-800",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:C})]},S))})]})]},u))]}),e.jsxs("div",{className:"border-t-2 border-gray-200 pt-8",children:[e.jsx("h4",{className:"text-xl font-bold mb-4 text-center",children:"Conflict Resolution Strategies"}),e.jsx("p",{className:"text-center text-gray-600 mb-6",children:"How to handle concurrent writes in multi-master replication"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:Object.entries(i).map(([h,u])=>e.jsxs("button",{onClick:()=>c(h),className:`p-4 rounded-lg border-2 transition-all ${a===h?"border-indigo-500 bg-indigo-50 shadow-md":"border-gray-200 hover:border-indigo-300"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:u.icon}),e.jsx("div",{className:"font-bold text-sm",children:u.name})]},h))}),e.jsxs("div",{className:" from-indigo-50 to-blue-50 p-6 rounded-lg border-2 border-indigo-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-4xl",children:g.icon}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-xl font-bold",children:g.name}),e.jsx("p",{className:"text-gray-700",children:g.description})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4",children:[e.jsx("h6",{className:"font-bold mb-2",children:"Example:"}),e.jsx("p",{className:"text-sm text-gray-700",children:g.example})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("h6",{className:"font-bold mb-2 text-green-700",children:"Pros:"}),e.jsx("ul",{className:"space-y-1",children:g.pros.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(N,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:h})]},u))})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("h6",{className:"font-bold mb-2 text-red-700",children:"Cons:"}),e.jsx("ul",{className:"space-y-1",children:g.cons.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(F,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:h})]},u))})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("h6",{className:"font-bold mb-2",children:"Used By:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:g.usedBy.map((h,u)=>e.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm",children:h},u))})]})]})]}),e.jsxs("div",{className:" from-slate-50 to-gray-50 p-6 rounded-lg border-2 border-gray-200",children:[e.jsx("h4",{className:"text-xl font-bold mb-4 text-center",children:"Consistency Levels"}),e.jsx("div",{className:"space-y-3",children:n.map((h,u)=>e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"font-bold text-lg",children:h.level}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${h.availability==="Higher"?"bg-green-100 text-green-700":h.availability==="Lower"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:[h.availability," Availability"]})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:h.description}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-600",children:"Guarantee:"}),e.jsx("div",{className:"text-gray-800",children:h.guarantee})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-600",children:"Latency:"}),e.jsx("div",{className:"text-gray-800",children:h.latency})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-600",children:"CAP:"}),e.jsx("div",{className:"text-gray-800",children:h.availability})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-600",children:"Example:"}),e.jsx("div",{className:"text-gray-800",children:h.example})]})]})]},u))})]}),e.jsxs("div",{className:"border-t-2 border-gray-200 pt-8",children:[e.jsx("h4",{className:"text-xl font-bold mb-4 text-center",children:"Failover Strategies"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(m).map(([h,u])=>e.jsxs("div",{className:" from-blue-50 to-indigo-50 p-5 rounded-lg border-2 border-blue-200",children:[e.jsx("h5",{className:"text-xl font-bold mb-2",children:u.name}),e.jsx("p",{className:"text-sm text-gray-700 mb-4",children:u.description}),e.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4",children:[e.jsx("h6",{className:"font-bold mb-2 text-sm",children:"Steps:"}),e.jsx("ol",{className:"space-y-1",children:u.steps.map((C,S)=>e.jsxs("li",{className:"flex items-start gap-2 text-xs",children:[e.jsxs("span",{className:"font-bold text-indigo-600",children:[S+1,"."]}),e.jsx("span",{children:C})]},S))})]}),e.jsxs("div",{className:"bg-amber-50 p-3 rounded-lg mb-4 border-l-4 border-amber-400",children:[e.jsx("span",{className:"font-semibold text-sm",children:"Typical Downtime:"}),e.jsx("span",{className:"ml-2 text-sm font-bold text-amber-800",children:u.downtime})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[e.jsx("h6",{className:"font-bold text-xs text-green-700 mb-1",children:"Pros:"}),e.jsx("ul",{className:"space-y-1",children:u.pros.map((C,S)=>e.jsxs("li",{className:"text-xs flex items-start gap-1",children:[e.jsx("span",{className:"text-green-500",children:"âœ“"}),e.jsx("span",{children:C})]},S))})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[e.jsx("h6",{className:"font-bold text-xs text-red-700 mb-1",children:"Cons:"}),e.jsx("ul",{className:"space-y-1",children:u.cons.map((C,S)=>e.jsxs("li",{className:"text-xs flex items-start gap-1",children:[e.jsx("span",{className:"text-red-500",children:"âœ—"}),e.jsx("span",{children:C})]},S))})]})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[e.jsx("h6",{className:"font-bold text-xs mb-1",children:"Examples:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:u.examples.map((C,S)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:C},S))})]})]},h))})]}),e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border-2 border-blue-200",children:[e.jsx("h4",{className:"text-xl font-bold mb-4",children:"ðŸ’¡ Interview Tips"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-bold text-gray-800 mb-2",children:`Q: "What's the difference between synchronous and asynchronous replication?"`}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"})," Synchronous waits for replica acknowledgment before returning success (stronger consistency, higher latency, lower availability). Asynchronous returns immediately (lower latency, higher availability, but risk of data loss if master fails before replication). Trade-off between consistency and performance."]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-bold text-gray-800 mb-2",children:'Q: "How do you handle split-brain in multi-master replication?"'}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"})," Split-brain occurs when network partition causes multiple masters. Solutions: 1) Quorum-based consensus (need majority), 2) Fencing (disable minority partition), 3) Witness node (tie-breaker), 4) Application-level conflict resolution. Key: Ensure odd number of nodes for majority."]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("p",{className:"font-bold text-gray-800 mb-2",children:'Q: "When would you choose multi-master over master-slave?"'}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"})," Multi-master when: 1) Write-heavy workload, 2) Global app needing low-latency writes in multiple regions, 3) High availability is critical, 4) Can handle eventual consistency. Avoid for: Financial transactions, inventory management, or when conflicts are complex to resolve."]})]})]})]})]})};function Ba(){const s=le(),[l,t]=x.useState("cache-aside"),[o,a]=x.useState(4),c=x.useRef([]),[r,d]=x.useState("oltp"),[i,n]=x.useState("single-region"),[m,p]=x.useState("joins"),[g,h]=x.useState("user_id"),[u,C]=x.useState("uniform"),[S,V]=x.useState(1),[D,ee]=x.useState([]),[w,H]=x.useState(!1),[ae,T]=x.useState("cp"),E=x.useMemo(()=>{const y={kind:"database",category:"",why:"",watchOut:"",examples:{generic:[],gcp:[]}};if(r==="files")return{...y,kind:"storage",category:"Object Storage (Blob)",why:"Best for large files (media, backups, data lake objects) with cheap durable storage and simple retrieval.",watchOut:"Not a database: querying is limited; plan metadata storage separately (often SQL/NoSQL).",examples:{generic:["S3","Object Storage"],gcp:["Cloud Storage"]}};switch(r){case"cache":return{...y,kind:"database",category:"Cache / In-Memory KV",why:"For sub-millisecond reads, sessions, rate limiting, and hot data. This is a performance layer, not the source of truth.",watchOut:"Evictions and TTLs mean data can disappear; write-through/write-behind adds complexity.",examples:{generic:["Redis"],gcp:["Memorystore (Redis)"]}};case"search":return{...y,kind:"database",category:"Search Index",why:"For full-text search, fuzzy matching, and log/event search with inverted indexes.",watchOut:"Keep it in sync with your source-of-truth DB; indexing pipelines add operational overhead.",examples:{generic:["Elasticsearch","OpenSearch"],gcp:["(managed options vary)"]}};case"olap":return{...y,kind:"database",category:"Data Warehouse (OLAP)",why:"For large-scale analytics, scans, aggregations, and BI dashboards over lots of historical data.",watchOut:"Not ideal for per-request OLTP transactions; model data pipelines (ELT/ETL).",examples:{generic:["BigQuery","Snowflake","Redshift"],gcp:["BigQuery"]}};case"timeseries":{const M=m==="aggregations";return{...y,kind:"database",category:M?"Time-Series Database":"Wide-Column (Time-Series at scale)",why:M?"For time-window queries, rollups, and SQL-like analytics over metrics/events.":"For massive write throughput + predictable key/range access patterns (device_id + time).",watchOut:"Choose a good partition key (device/tenant) and retention policy; hot partitions are common.",examples:M?{generic:["TimescaleDB","InfluxDB"],gcp:["(often self-managed / partner)"]}:{generic:["Cassandra","Bigtable"],gcp:["Bigtable"]}}}case"widecolumn":return{...y,kind:"database",category:"Wide-Column Store",why:"For huge write throughput and horizontally scaled key/range access (often time-series, IoT, event storage).",watchOut:"You design queries first; secondary indexes/joins are limited compared to SQL.",examples:{generic:["Cassandra","HBase"],gcp:["Bigtable"]}};case"nosql":return{...y,kind:"database",category:"NoSQL Document / KV",why:i==="global"?"For globally distributed workloads needing horizontal scale and high availability.":"For flexible schemas and fast iteration with JSON-like documents.",watchOut:"Model around access patterns; cross-document joins are limited.",examples:i==="global"?{generic:["DynamoDB"],gcp:["Firestore"]}:{generic:["MongoDB"],gcp:["Firestore"]}};case"graph":return{...y,kind:"database",category:"Graph Database",why:"For relationship traversals (friends-of-friends, fraud rings, recommendations) where joins become expensive.",watchOut:"Operationally different than SQL/NoSQL; model carefully and benchmark traversals.",examples:{generic:["Neo4j"],gcp:["(often partner/self-managed)"]}};case"oltp":default:{const M=i==="global";return{...y,kind:"database",category:M?"Distributed SQL (OLTP at global scale)":"Relational SQL (OLTP)",why:M?"For strong consistency + multi-region writes/reads with SQL semantics.":"For transactions, constraints, and complex queries (joins) with strong correctness guarantees.",watchOut:M?"More expensive/complex; validate latency and transactional contention.":"Scaling writes is harder than reads; plan replicas, caching, and careful indexing.",examples:M?{generic:["CockroachDB"],gcp:["Spanner"]}:{generic:["PostgreSQL","MySQL"],gcp:["Cloud SQL"]}}}}},[r,i,m]),L=x.useMemo(()=>w?ae==="cp"?{consistency:!0,availability:!1,partitionTolerance:!0,modeLabel:"CP (favor consistency)"}:{consistency:!1,availability:!0,partitionTolerance:!0,modeLabel:"AP (favor availability)"}:{consistency:!0,availability:!0,partitionTolerance:!0,modeLabel:"No partition event"},[w,ae]);x.useEffect(()=>{const M=(oe=>{let ne=oe;return()=>(ne=(ne*1664525+1013904223)%4294967296,ne/4294967296)})(S),O=["us-east","us-west","eu-west","ap-south"],Z=Date.now(),xe=(oe,ne,We,Ge)=>({id:oe,user_id:ne,region:We,timestamp:Z-Ge}),Te=Array.from({length:240},(oe,ne)=>{if(u==="hot-keys"){const ze=M()<.8?Math.floor(M()*20):100+Math.floor(M()*980),qe=O[Math.floor(M()*O.length)],cs=Math.floor(M()*6*60*60*1e3);return xe(ne,ze,qe,cs)}if(u==="regional-skew"){const Be=M()<.7?"us-east":O[Math.floor(M()*O.length)],ze=Math.floor(M()*1e3),qe=Math.floor(M()*24*60*60*1e3);return xe(ne,ze,Be,qe)}const We=ne*37%1e3,Ge=O[ne%O.length],ds=ne%3600*1e3;return xe(ne,We,Ge,ds)});ee(Te)},[S,u]);const q=x.useMemo(()=>{const y=Array(o).fill(0),M=["us-east","us-west","eu-west","ap-south"];return D.forEach(O=>{let Z;g==="user_id"?Z=O.user_id%o:g==="region"?Z=Math.max(0,M.indexOf(O.region))%o:Z=Math.floor(O.timestamp/1e3)%o,y[Z]++}),y},[D,o,g]),Y=x.useMemo(()=>Math.max(1,...q),[q]),J=x.useMemo(()=>Math.min(...q.map(y=>y===0?1/0:y)),[q]),ge=x.useMemo(()=>{if(!isFinite(J)||J<=0)return"High";const y=Y/J;return y<=1.25?"Low":y<=2?"Medium":"High"},[Y,J]);x.useEffect(()=>{const y=new IntersectionObserver(M=>{M.forEach(O=>{O.isIntersecting&&(O.target.classList.add("opacity-100","translate-y-0"),O.target.classList.remove("opacity-0","translate-y-8"))})},{threshold:.1,rootMargin:"0px 0px -100px 0px"});return c.current.forEach(M=>{M&&y.observe(M)}),()=>y.disconnect()},[]);const Pe=[{name:"Relational (SQL)",icon:"ðŸ—„ï¸",description:"ACID transactions, complex queries, strong consistency",examples:["PostgreSQL","MySQL","SQL Server"],useCases:["Financial systems","E-commerce","Business applications"],pros:["ACID compliance","Complex joins","Mature ecosystem"],cons:["Vertical scaling","Schema rigidity","Complex migrations"]},{name:"Document",icon:"ðŸ“„",description:"Flexible schemas, nested data, horizontal scaling",examples:["MongoDB","DocumentDB","CouchDB"],useCases:["Content management","User profiles","Catalogs"],pros:["Schema flexibility","Horizontal scaling","Rich queries"],cons:["Eventual consistency","Complex aggregations"]},{name:"Key-Value",icon:"ðŸ”‘",description:"Simple lookups, high performance, distributed",examples:["Redis","DynamoDB","Riak"],useCases:["Caching","Sessions","Real-time analytics"],pros:["Ultra-fast reads","Simple operations","Horizontal scaling"],cons:["Limited querying","No complex relationships"]},{name:"Wide-Column",icon:"ðŸ“Š",description:"High write throughput, flexible columns, distributed",examples:["Cassandra","Bigtable","HBase"],useCases:["Time-series data","IoT","Analytics"],pros:["High write throughput","Flexible schemas","Fault tolerant"],cons:["Complex queries","Learning curve"]},{name:"Graph",icon:"ðŸ•¸ï¸",description:"Connected data, relationship queries, pattern matching",examples:["Neo4j","Neptune","JanusGraph"],useCases:["Social networks","Fraud detection","Recommendations"],pros:["Relationship queries","Pattern matching","Flexible schemas"],cons:["Complex setup","Limited horizontal scaling"]}],Ce=[{name:"Cache-Aside",description:"Application checks cache first, loads from DB on miss",pros:["Simple to implement","Cache failures don't break app"],cons:["Cache stampede possible","Stale data risk"],useCase:"Read-heavy applications"},{name:"Write-Through",description:"Write to cache and DB simultaneously",pros:["Strong consistency","No stale data"],cons:["Higher write latency","Cache failures affect writes"],useCase:"Strong consistency requirements"},{name:"Write-Back",description:"Write to cache first, flush to DB asynchronously",pros:["High write performance","Better throughput"],cons:["Data loss risk","Complex error handling"],useCase:"Write-heavy workloads"}];return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"relative gradient-overlay py-20 md:py-32 overflow-hidden",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-purple-50 border border-purple-100 mb-6",children:e.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Module 3"})}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6",children:["Data Architecture &"," ",e.jsx("span",{className:"text-gradient",children:"Storage Choices"})]}),e.jsx("p",{className:"text-lg md:text-xl text-slate-600 mb-8 mx-auto",children:"Master the art of choosing the right database and storage patterns. Learn when to use SQL vs NoSQL, caching strategies, sharding techniques, and compliance considerations for modern applications."}),e.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:e.jsx("button",{onClick:()=>s("/"),className:"btn-secondary",children:"Back to Home"})})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-7xl",children:[e.jsxs("section",{ref:y=>c.current[0]=y,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-purple-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-purple-600 text-white flex items-center justify-center text-sm",children:"01"}),"DATABASE SELECTION"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Choose Storage or Database (and which one)"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"The fastest way to get unstuck is to start with the workload (transactions vs analytics vs time-series vs cache vs files) and then refine based on scale and query patterns."})]}),e.jsxs("div",{className:" from-purple-50 to-pink-50 border-2 border-purple-200 rounded-2xl p-8 mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"ðŸ§­ Storage / Database Chooser"}),e.jsx("p",{className:"text-slate-700 mb-6",children:"Pick the workload first, then refine scale and query needs. The goal is a good default choice you can justify, not a perfect answer."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Primary Workload"}),e.jsxs("select",{value:r,onChange:y=>d(y.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"oltp",children:"Transactions / OLTP (orders, users, payments)"}),e.jsx("option",{value:"nosql",children:"Flexible JSON / documents (profiles, catalogs)"}),e.jsx("option",{value:"cache",children:"Cache / sessions / rate limiting"}),e.jsx("option",{value:"timeseries",children:"Time-series (metrics, IoT, events over time)"}),e.jsx("option",{value:"widecolumn",children:"Wide-column at scale (Bigtable-like)"}),e.jsx("option",{value:"olap",children:"Analytics / Warehouse (BI, dashboards, scans)"}),e.jsx("option",{value:"search",children:"Search / logs (full-text, fuzzy)"}),e.jsx("option",{value:"files",children:"Files / media / backups"}),e.jsx("option",{value:"graph",children:"Graph relationships"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Scale & Distribution"}),e.jsxs("select",{value:i,onChange:y=>n(y.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"single-region",children:"Single region / moderate scale"}),e.jsx("option",{value:"horizontal",children:"Horizontal scale in one region"}),e.jsx("option",{value:"global",children:"Multi-region / global distribution"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Query Pattern"}),e.jsxs("select",{value:m,onChange:y=>p(y.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"joins",children:"Joins + transactions + constraints"}),e.jsx("option",{value:"key",children:"Simple key lookups (get by id)"}),e.jsx("option",{value:"aggregations",children:"Aggregations / time-window queries"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-purple-200",children:[e.jsxs("h4",{className:"text-xl font-bold text-purple-900 mb-4",children:["ðŸŽ¯ Recommended: ",E.category]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-slate-900 mb-2",children:"Examples:"}),e.jsx("ul",{className:"space-y-1",children:E.examples.generic.map((y,M)=>e.jsxs("li",{className:"text-slate-700",children:["â€¢ ",y]},M))}),e.jsxs("div",{className:"mt-3 text-xs text-slate-500",children:[e.jsx("span",{className:"font-semibold",children:"GCP equivalent:"})," ",E.examples.gcp.length>0?E.examples.gcp.join(", "):"Varies / self-managed"]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-slate-900 mb-2",children:"What to watch out for:"}),e.jsx("p",{className:"text-slate-700 text-sm",children:E.watchOut})]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-purple-50 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("strong",{children:"Why:"})," ",E.why]}),e.jsxs("p",{className:"text-xs text-slate-600 mt-2",children:["Output type:"," ",e.jsx("span",{className:"font-semibold",children:E.kind})]})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Pe.map((y,M)=>e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6 hover:shadow-lg transition-all duration-300 hover:border-purple-300",children:[e.jsx("div",{className:"text-4xl mb-4",children:y.icon}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:y.name}),e.jsx("p",{className:"text-slate-600 text-sm mb-4",children:y.description}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Examples:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:y.examples.map((O,Z)=>e.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 text-xs rounded",children:O},Z))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Use Cases:"}),e.jsx("ul",{className:"space-y-1",children:y.useCases.map((O,Z)=>e.jsxs("li",{className:"text-slate-600 text-sm",children:["â€¢ ",O]},Z))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-green-700 mb-1",children:"Pros:"}),e.jsx("ul",{children:y.pros.map((O,Z)=>e.jsxs("li",{className:"text-slate-600",children:["â€¢ ",O]},Z))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-red-700 mb-1",children:"Cons:"}),e.jsx("ul",{children:y.cons.map((O,Z)=>e.jsxs("li",{className:"text-slate-600",children:["â€¢ ",O]},Z))})]})]})]},M))})]}),e.jsxs("section",{ref:y=>c.current[1]=y,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-blue-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-blue-600 text-white flex items-center justify-center text-sm",children:"02"}),"STORAGE MODELS"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Storage Models & When to Pick Them"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Each storage model is optimized for specific data structures and access patterns. Choosing the right one reduces complexity and improves performance."})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"border-2 border-green-200 rounded-2xl p-8",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"text-5xl",children:"ðŸ”‘"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-3xl font-bold text-green-900 mb-4",children:"Key-Value Stores"}),e.jsx("p",{className:"text-lg text-slate-700 leading-relaxed mb-4",children:"Simple, fast lookups with horizontal scaling. Perfect for caching, sessions, and real-time analytics where you need sub-millisecond reads."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"When to Use:"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ Session management"}),e.jsx("li",{children:"â€¢ User preferences"}),e.jsx("li",{children:"â€¢ Real-time leaderboards"}),e.jsx("li",{children:"â€¢ Rate limiting counters"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Examples:"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ Redis (in-memory)"}),e.jsx("li",{children:"â€¢ DynamoDB (distributed)"}),e.jsx("li",{children:"â€¢ Riak KV"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Trade-offs:"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ Limited querying"}),e.jsx("li",{children:"â€¢ No complex relationships"}),e.jsx("li",{children:"â€¢ Memory/disk costs"})]})]})]})]})]})}),e.jsx("div",{className:"border-2 border-blue-200 rounded-2xl p-8",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"text-5xl",children:"ðŸ“„"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-3xl font-bold text-blue-900 mb-4",children:"Document Databases"}),e.jsx("p",{className:"text-lg text-slate-700 leading-relaxed mb-4",children:"Flexible schemas with nested data structures. Ideal for content management, user profiles, and applications where data structure evolves frequently."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"When to Use:"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ Evolving schemas"}),e.jsx("li",{children:"â€¢ Nested/hierarchical data"}),e.jsx("li",{children:"â€¢ Content management"}),e.jsx("li",{children:"â€¢ Product catalogs"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Examples:"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ MongoDB"}),e.jsx("li",{children:"â€¢ DocumentDB"}),e.jsx("li",{children:"â€¢ CouchDB"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Trade-offs:"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ Complex aggregations slower"}),e.jsx("li",{children:"â€¢ Eventual consistency"}),e.jsx("li",{children:"â€¢ Schema migration challenges"})]})]})]})]})]})}),e.jsx("div",{className:"border-2 border-purple-200 rounded-2xl p-8",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"text-5xl",children:"ðŸ“Š"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-3xl font-bold text-purple-900 mb-4",children:"Wide-Column Stores"}),e.jsx("p",{className:"text-lg text-slate-700 leading-relaxed mb-4",children:"High write throughput with flexible column structures. Perfect for time-series data, IoT sensor readings, and analytical workloads requiring massive scale."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-purple-800 mb-2",children:"When to Use:"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ Time-series data"}),e.jsx("li",{children:"â€¢ IoT sensor data"}),e.jsx("li",{children:"â€¢ Analytics workloads"}),e.jsx("li",{children:"â€¢ High write volumes"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-purple-800 mb-2",children:"Examples:"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ Apache Cassandra"}),e.jsx("li",{children:"â€¢ Bigtable"}),e.jsx("li",{children:"â€¢ HBase"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-purple-800 mb-2",children:"Trade-offs:"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ Complex queries"}),e.jsx("li",{children:"â€¢ Learning curve"}),e.jsx("li",{children:"â€¢ Limited transactions"})]})]})]})]})]})}),e.jsx("div",{className:"border-2 border-orange-200 rounded-2xl p-8",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"text-5xl",children:"ðŸ•¸ï¸"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-3xl font-bold text-orange-900 mb-4",children:"Graph Databases"}),e.jsx("p",{className:"text-lg text-slate-700 leading-relaxed mb-4",children:"Designed for highly connected data and complex relationships. Excel at fraud detection, social networks, and recommendation engines where relationships matter most."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"When to Use:"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ Social networks"}),e.jsx("li",{children:"â€¢ Fraud detection"}),e.jsx("li",{children:"â€¢ Recommendation engines"}),e.jsx("li",{children:"â€¢ Knowledge graphs"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"Examples:"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ Neo4j"}),e.jsx("li",{children:"â€¢ Neptune"}),e.jsx("li",{children:"â€¢ JanusGraph"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"Trade-offs:"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ Complex setup"}),e.jsx("li",{children:"â€¢ Limited horizontal scaling"}),e.jsx("li",{children:"â€¢ Not for simple lookups"})]})]})]})]})]})}),e.jsx("div",{className:"border-2 border-teal-200 rounded-2xl p-8",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"text-5xl",children:"ðŸ“¦"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-3xl font-bold text-teal-900 mb-4",children:"Object Storage"}),e.jsx("p",{className:"text-lg text-slate-700 leading-relaxed mb-4",children:"Cheap, durable storage for large files and unstructured data. Perfect for media assets, backups, and data lakes where low cost and high durability matter more than speed."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-teal-800 mb-2",children:"When to Use:"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ Media files (images/videos)"}),e.jsx("li",{children:"â€¢ Backups and archives"}),e.jsx("li",{children:"â€¢ Data lakes"}),e.jsx("li",{children:"â€¢ Static website hosting"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-teal-800 mb-2",children:"Examples:"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ S3"}),e.jsx("li",{children:"â€¢ Cloud Storage"}),e.jsx("li",{children:"â€¢ Blob Storage"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-teal-800 mb-2",children:"Trade-offs:"}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsx("li",{children:"â€¢ Higher latency"}),e.jsx("li",{children:"â€¢ No complex queries"}),e.jsx("li",{children:"â€¢ Eventual consistency"})]})]})]})]})]})})]})]}),e.jsxs("section",{ref:y=>c.current[2]=y,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-green-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-green-600 text-white flex items-center justify-center text-sm",children:"03"}),"OPERATIONAL PATTERNS"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Replication, Sharding & Scaling Patterns"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Single-server databases become bottlenecks. Learn how to scale beyond one machine while maintaining performance and reliability."})]}),e.jsxs("div",{className:" border-2 border-green-200 rounded-2xl p-8 mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-green-900 mb-6",children:"ðŸ”„ Replication Strategies"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-green-200",children:[e.jsx("h4",{className:"text-xl font-bold text-green-800 mb-3",children:"Leader-Follower"}),e.jsx("p",{className:"text-slate-700 mb-4",children:"One primary (leader) handles writes, multiple secondaries (followers) handle reads. Simplest replication pattern for read scaling."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Consistency:"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Eventual"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Failover:"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Manual/Automated"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Use Case:"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Read-heavy apps"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-green-200",children:[e.jsx("h4",{className:"text-xl font-bold text-green-800 mb-3",children:"Multi-Leader"}),e.jsx("p",{className:"text-slate-700 mb-4",children:"Multiple nodes accept writes. Requires conflict resolution for concurrent updates. Complex but allows writes at multiple locations."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Consistency:"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Eventual (with conflicts)"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Failover:"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Automatic"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Use Case:"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Multi-region apps"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-green-200",children:[e.jsx("h4",{className:"text-xl font-bold text-green-800 mb-3",children:"Leaderless/Quorum"}),e.jsx("p",{className:"text-slate-700 mb-4",children:"All nodes are equal. Uses quorum (majority) for reads/writes. Tunable consistency with R + W > N formula."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Consistency:"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Tunable"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Failover:"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Automatic"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Use Case:"}),e.jsx("span",{className:"text-sm text-slate-600",children:"High availability"})]})]})]})]})]}),e.jsxs("div",{className:" border-2 border-blue-200 rounded-2xl p-8 mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-6",children:"ðŸ§© Sharding Calculator"}),e.jsx("p",{className:"text-slate-700 mb-6",children:"See how different shard keys affect data distribution. Poor shard key choices lead to hot shards!"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Shard Key"}),e.jsxs("select",{value:g,onChange:y=>h(y.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"user_id",children:"User ID (good distribution)"}),e.jsx("option",{value:"region",children:"Region (hot shard risk)"}),e.jsx("option",{value:"timestamp",children:"Timestamp (sequential writes)"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Data Shape"}),e.jsxs("select",{value:u,onChange:y=>C(y.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"uniform",children:"Uniform traffic"}),e.jsx("option",{value:"hot-keys",children:"Hot keys (80/20 hotspot)"}),e.jsx("option",{value:"regional-skew",children:"Regional skew (one region dominates)"})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"text-xs text-slate-600",children:["Skew estimate:"," ",e.jsx("span",{className:"font-semibold",children:ge})]}),e.jsx("button",{type:"button",onClick:()=>V(y=>y+1),className:"text-xs font-semibold px-3 py-1 rounded-md border border-blue-200 bg-white hover:bg-blue-50",children:"Regenerate sample"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Number of Shards: ",o]}),e.jsx("input",{type:"range",min:"2",max:"8",value:o,onChange:y=>a(parseInt(y.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Shard Distribution:"}),e.jsx("div",{className:"space-y-2",children:q.map((y,M)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm font-medium w-12",children:["Shard ",M,":"]}),e.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${y/Y*100}%`}})}),e.jsx("span",{className:"text-sm text-slate-600 w-8",children:y})]},M))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-blue-200",children:[e.jsx("h4",{className:"text-lg font-bold text-blue-900 mb-4",children:g==="user_id"?"âœ… Good Choice":"âš ï¸ Potential Issues"}),e.jsxs("div",{className:"space-y-3",children:[g==="user_id"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-slate-700",children:[e.jsx("strong",{children:"User ID"})," provides excellent distribution because user IDs are typically random or sequential across a large range."]}),e.jsxs("ul",{className:"space-y-1 text-slate-600",children:[e.jsx("li",{children:"â€¢ Even load distribution"}),e.jsx("li",{children:"â€¢ Scales well as users grow"}),e.jsx("li",{children:"â€¢ Easy to route queries"})]})]}),g==="region"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-slate-700",children:[e.jsx("strong",{children:"Region"})," can create hot shards if some regions have much more data than others."]}),e.jsxs("ul",{className:"space-y-1 text-slate-600",children:[e.jsx("li",{children:"â€¢ Uneven load distribution"}),e.jsx("li",{children:"â€¢ Some shards overwhelmed"}),e.jsx("li",{children:"â€¢ Difficult rebalancing"})]})]}),g==="timestamp"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-slate-700",children:[e.jsx("strong",{children:"Timestamp"})," causes all recent writes to go to the same shard (hot shard problem)."]}),e.jsxs("ul",{className:"space-y-1 text-slate-600",children:[e.jsx("li",{children:"â€¢ Sequential writes to one shard"}),e.jsx("li",{children:"â€¢ Poor read distribution"}),e.jsx("li",{children:"â€¢ Requires frequent rebalancing"})]})]})]})]})]})]})]}),e.jsxs("section",{ref:y=>c.current[3]=y,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-orange-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-orange-600 text-white flex items-center justify-center text-sm",children:"04"}),"CACHING PATTERNS"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Caching Strategies & Patterns"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Database queries are expensive. Caching reduces latency from hundreds of milliseconds to microseconds and decreases database load."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:Ce.map((y,M)=>e.jsxs("div",{className:`border-2 rounded-2xl p-6 transition-all duration-300 cursor-pointer ${l===y.name.toLowerCase().replace(" ","-")?"border-orange-400 bg-orange-50":"border-slate-200 bg-white hover:border-orange-300"}`,onClick:()=>t(y.name.toLowerCase().replace(" ","-")),children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:y.name}),e.jsx("p",{className:"text-slate-600 text-sm mb-4",children:y.description}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-700 text-sm mb-1",children:"Pros:"}),e.jsx("ul",{className:"space-y-1",children:y.pros.map((O,Z)=>e.jsxs("li",{className:"text-slate-600 text-xs",children:["â€¢ ",O]},Z))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-red-700 text-sm mb-1",children:"Cons:"}),e.jsx("ul",{className:"space-y-1",children:y.cons.map((O,Z)=>e.jsxs("li",{className:"text-slate-600 text-xs",children:["â€¢ ",O]},Z))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-700 text-sm mb-1",children:"Best For:"}),e.jsx("p",{className:"text-slate-600 text-xs",children:y.useCase})]})]})]},M))}),e.jsxs("div",{className:" border-2 border-orange-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-orange-900 mb-6",children:"ðŸ”„ Cache Pattern Simulator"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:[l==="cache-aside"&&"Cache-Aside Pattern",l==="write-through"&&"Write-Through Pattern",l==="write-back"&&"Write-Back Pattern"]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"ðŸ‘¤"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Client Request"}),e.jsx("div",{className:"text-xs text-slate-600",children:"Read user profile"})]})]}),e.jsxs("div",{className:"space-y-3",children:[l==="cache-aside"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded flex items-center justify-center text-sm",children:"ðŸ”"}),e.jsx("span",{className:"text-sm",children:"Check cache first"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded flex items-center justify-center text-sm",children:"âŒ"}),e.jsx("span",{className:"text-sm",children:"Cache miss - query database"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded flex items-center justify-center text-sm",children:"ðŸ’¾"}),e.jsx("span",{className:"text-sm",children:"Store result in cache"})]})]}),l==="write-through"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded flex items-center justify-center text-sm",children:"âœï¸"}),e.jsx("span",{className:"text-sm",children:"Write to cache"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded flex items-center justify-center text-sm",children:"ðŸ’¾"}),e.jsx("span",{className:"text-sm",children:"Write to database simultaneously"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded flex items-center justify-center text-sm",children:"âœ…"}),e.jsx("span",{className:"text-sm",children:"Strong consistency guaranteed"})]})]}),l==="write-back"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded flex items-center justify-center text-sm",children:"âœï¸"}),e.jsx("span",{className:"text-sm",children:"Write to cache immediately"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded flex items-center justify-center text-sm",children:"â°"}),e.jsx("span",{className:"text-sm",children:"Async flush to database later"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded flex items-center justify-center text-sm",children:"âš¡"}),e.jsx("span",{className:"text-sm",children:"High write performance"})]})]})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-orange-200",children:[e.jsx("h4",{className:"text-lg font-bold text-orange-900 mb-4",children:"Performance Characteristics"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:"Read Latency"}),e.jsx("span",{className:"text-sm text-slate-600",children:l==="cache-aside"?"~1ms (cache hit)":"~1ms"})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"10%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:"Write Latency"}),e.jsx("span",{className:"text-sm text-slate-600",children:l==="write-back"?"~1ms":"~10ms"})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:l==="write-back"?"10%":"50%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:"Consistency"}),e.jsx("span",{className:"text-sm text-slate-600",children:l==="write-through"?"Strong":"Eventual"})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:l==="write-through"?"90%":"60%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:"Complexity"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Low"})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"30%"}})})]})]})]})]})]})]}),e.jsxs("section",{ref:y=>c.current[4]=y,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-red-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-red-600 text-white flex items-center justify-center text-sm",children:"05"}),"CAP THEOREM"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"CAP Theorem & Consistency Trade-offs"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"In distributed systems, you can only guarantee two out of three: Consistency, Availability, and Partition Tolerance. Understanding this fundamental trade-off is crucial for choosing the right database."})]}),e.jsxs("div",{className:" border-2 border-red-200 rounded-2xl p-8 mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-red-900 mb-6",children:"âš–ï¸ CAP Theorem Visualizer"}),e.jsx("p",{className:"text-slate-700 mb-6",children:"Toggle network partitions and see how it affects consistency and availability. You can only have two of the three properties!"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-red-200",children:[e.jsx("h4",{className:"text-lg font-bold text-red-900 mb-4",children:"Network Conditions"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:y=>H(y.target.checked),className:"w-4 h-4 text-red-600 bg-slate-100 border-slate-300 rounded focus:ring-red-500"}),e.jsx("span",{className:"text-slate-700",children:"Network Partition"})]})}),w&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"When partition happens, choose:"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>T("cp"),className:`px-3 py-2 rounded-lg border text-sm font-semibold transition-colors ${ae==="cp"?"bg-green-600 text-white border-green-600":"bg-white text-slate-800 border-slate-200 hover:bg-slate-50"}`,children:"CP (Consistency)"}),e.jsx("button",{type:"button",onClick:()=>T("ap"),className:`px-3 py-2 rounded-lg border text-sm font-semibold transition-colors ${ae==="ap"?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-800 border-slate-200 hover:bg-slate-50"}`,children:"AP (Availability)"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-red-200",children:[e.jsx("h4",{className:"text-lg font-bold text-red-900 mb-4",children:"CAP Properties"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:"Consistency"}),e.jsx("div",{className:"text-sm text-slate-600",children:"All nodes see same data"})]}),e.jsx("div",{className:`w-4 h-4 rounded-full ${L.consistency?"bg-green-500":"bg-red-500"}`})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:"Availability"}),e.jsx("div",{className:"text-sm text-slate-600",children:"System responds to requests"})]}),e.jsx("div",{className:`w-4 h-4 rounded-full ${L.availability?"bg-green-500":"bg-red-500"}`})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:"Partition Tolerance"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Works despite network splits"})]}),e.jsx("div",{className:`w-4 h-4 rounded-full ${L.partitionTolerance?"bg-green-500":"bg-red-500"}`})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-red-200",children:[e.jsx("h4",{className:"text-lg font-bold text-red-900 mb-4",children:w?`Partition Present â€” ${L.modeLabel}`:"No Partition â€” CAP conflict not triggered"}),w?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-4 border-2 rounded-lg ${ae==="cp"?"border-green-300 bg-green-50":"border-green-200 bg-white"}`,children:[e.jsx("h5",{className:"font-semibold text-green-800 mb-2",children:"CP Systems (Consistency + Partition Tolerance)"}),e.jsx("p",{className:"text-sm text-slate-700 mb-2",children:"Prioritize consistency over availability. When partitions occur, some nodes become unavailable to maintain consistency."}),e.jsx("div",{className:"text-xs text-green-700 font-medium",children:"Examples: Spanner, HBase, ZooKeeper (CP-ish defaults)"})]}),e.jsxs("div",{className:`p-4 border-2 rounded-lg ${ae==="ap"?"border-blue-300 bg-blue-50":"border-blue-200 bg-white"}`,children:[e.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"AP Systems (Availability + Partition Tolerance)"}),e.jsx("p",{className:"text-sm text-slate-700 mb-2",children:"Prioritize availability over consistency. All nodes remain responsive, but data may be temporarily inconsistent."}),e.jsx("div",{className:"text-xs text-blue-700 font-medium",children:"Examples: Cassandra, DynamoDB, CouchDB"})]}),e.jsxs("div",{className:"p-4 border-2 border-gray-200 rounded-lg bg-gray-50",children:[e.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:"CA Systems (Consistency + Availability)"}),e.jsx("p",{className:"text-sm text-slate-700 mb-2",children:"Only possible without partitions. Single-node databases or tightly coupled systems."}),e.jsx("div",{className:"text-xs text-gray-700 font-medium",children:"Examples: Single MySQL instance"})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"âœ…"}),e.jsx("p",{className:"text-slate-700",children:"When there is no partition, you can run a system that is both consistent and available. The trade-off becomes real when partitions happen (and they will)."})]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:" border-2 border-blue-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-6",children:"ðŸ”’ ACID (Atomicity, Consistency, Isolation, Durability)"}),e.jsx("p",{className:"text-slate-700 mb-4",children:"Traditional relational database guarantees. Strong consistency but harder to scale."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded flex items-center justify-center text-sm font-bold text-blue-700",children:"A"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900",children:"Atomicity"}),e.jsx("div",{className:"text-sm text-slate-600",children:"All operations succeed or all fail"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded flex items-center justify-center text-sm font-bold text-blue-700",children:"C"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900",children:"Consistency"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Data remains valid after operations"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded flex items-center justify-center text-sm font-bold text-blue-700",children:"I"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900",children:"Isolation"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Concurrent operations don't interfere"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded flex items-center justify-center text-sm font-bold text-blue-700",children:"D"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900",children:"Durability"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Committed data survives failures"})]})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-100 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Best for: Financial systems, e-commerce, any system requiring strong guarantees"})})]}),e.jsxs("div",{className:"border-2 border-green-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-green-900 mb-6",children:"ðŸŒŠ BASE (Basically Available, Soft State, Eventual Consistency)"}),e.jsx("p",{className:"text-slate-700 mb-4",children:"Modern distributed system approach. Sacrifices some consistency for availability and scale."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded flex items-center justify-center text-sm font-bold text-green-700",children:"BA"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-green-900",children:"Basically Available"}),e.jsx("div",{className:"text-sm text-slate-600",children:"System works even during failures"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded flex items-center justify-center text-sm font-bold text-green-700",children:"SS"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-green-900",children:"Soft State"}),e.jsx("div",{className:"text-sm text-slate-600",children:"State can change over time"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded flex items-center justify-center text-sm font-bold text-green-700",children:"EC"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-green-900",children:"Eventual Consistency"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Data becomes consistent given time"})]})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-green-100 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800 font-medium",children:"Best for: Social media, content platforms, real-time analytics"})})]})]})]}),e.jsxs("section",{ref:y=>c.current[5]=y,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-indigo-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-600 text-white flex items-center justify-center text-sm",children:"06"}),"COMPLIANCE & SECURITY"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Data Lifecycle, Compliance & Encryption"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Regulatory requirements mandate specific data handling. Non-compliance results in fines and legal liability. Design data architecture with compliance from day one."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"from-indigo-50 to-purple-50 border-2 border-indigo-200 rounded-2xl p-6",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸ‡ªðŸ‡º"}),e.jsx("h3",{className:"text-xl font-bold text-indigo-900 mb-3",children:"GDPR"}),e.jsx("p",{className:"text-slate-700 text-sm mb-4",children:"EU General Data Protection Regulation. Protects personal data of EU residents."}),e.jsxs("ul",{className:"space-y-2 text-slate-600 text-sm",children:[e.jsx("li",{children:"â€¢ Right to access personal data"}),e.jsx("li",{children:'â€¢ Right to erasure ("right to be forgotten")'}),e.jsx("li",{children:"â€¢ Data portability"}),e.jsx("li",{children:"â€¢ Consent management"})]})]}),e.jsxs("div",{className:" from-blue-50 to-cyan-50 border-2 border-blue-200 rounded-2xl p-6",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸ¥"}),e.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-3",children:"HIPAA"}),e.jsx("p",{className:"text-slate-700 text-sm mb-4",children:"US Health Insurance Portability and Accountability Act. Protects health information."}),e.jsxs("ul",{className:"space-y-2 text-slate-600 text-sm",children:[e.jsx("li",{children:"â€¢ Protected Health Information (PHI)"}),e.jsx("li",{children:"â€¢ Business Associate Agreements"}),e.jsx("li",{children:"â€¢ Security Rule compliance"}),e.jsx("li",{children:"â€¢ Breach notification"})]})]}),e.jsxs("div",{className:" from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-6",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸ’³"}),e.jsx("h3",{className:"text-xl font-bold text-green-900 mb-3",children:"PCI DSS"}),e.jsx("p",{className:"text-slate-700 text-sm mb-4",children:"Payment Card Industry Data Security Standard. Protects cardholder data."}),e.jsxs("ul",{className:"space-y-2 text-slate-600 text-sm",children:[e.jsx("li",{children:"â€¢ Cardholder data encryption"}),e.jsx("li",{children:"â€¢ Access control"}),e.jsx("li",{children:"â€¢ Network security"}),e.jsx("li",{children:"â€¢ Regular security testing"})]})]})]}),e.jsxs("div",{className:" from-slate-50 to-gray-50 border-2 border-slate-200 rounded-2xl p-8 mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"ðŸ”„ Data Lifecycle Management"}),e.jsx("div",{className:"grid md:grid-cols-5 gap-4 mb-6",children:[{stage:"Create",desc:"Data generation/collection",color:"bg-blue-500"},{stage:"Store",desc:"Initial storage and organization",color:"bg-green-500"},{stage:"Use",desc:"Active processing and analysis",color:"bg-purple-500"},{stage:"Archive",desc:"Long-term retention",color:"bg-orange-500"},{stage:"Destroy",desc:"Secure deletion when no longer needed",color:"bg-red-500"}].map((y,M)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-16 h-16 ${y.color} rounded-full flex items-center justify-center text-white font-bold text-lg mx-auto mb-2`,children:M+1}),e.jsx("h4",{className:"font-semibold text-slate-900 mb-1",children:y.stage}),e.jsx("p",{className:"text-xs text-slate-600",children:y.desc})]},M))}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-slate-200",children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4",children:"Key Considerations:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-slate-900 mb-2",children:"Technical Controls:"}),e.jsxs("ul",{className:"space-y-1 text-slate-600 text-sm",children:[e.jsx("li",{children:"â€¢ Encryption at rest (AES-256)"}),e.jsx("li",{children:"â€¢ Encryption in transit (TLS 1.3)"}),e.jsx("li",{children:"â€¢ Access logging and monitoring"}),e.jsx("li",{children:"â€¢ Automated retention policies"}),e.jsx("li",{children:"â€¢ Secure deletion methods"})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-slate-900 mb-2",children:"Operational Controls:"}),e.jsxs("ul",{className:"space-y-1 text-slate-600 text-sm",children:[e.jsx("li",{children:"â€¢ Data classification frameworks"}),e.jsx("li",{children:"â€¢ Regular compliance audits"}),e.jsx("li",{children:"â€¢ Incident response procedures"}),e.jsx("li",{children:"â€¢ Employee training programs"}),e.jsx("li",{children:"â€¢ Third-party risk assessments"})]})]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:" from-cyan-50 to-blue-50 border-2 border-cyan-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-cyan-900 mb-6",children:"ðŸ” Encryption at Rest"}),e.jsx("p",{className:"text-slate-700 mb-4",children:"Protects data stored on disk or in backups. Should be transparent to applications."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[e.jsx("h4",{className:"font-semibold text-cyan-900 mb-2",children:"Database-Level Encryption"}),e.jsxs("ul",{className:"space-y-1 text-slate-600 text-sm",children:[e.jsx("li",{children:"â€¢ Transparent Data Encryption (TDE)"}),e.jsx("li",{children:"â€¢ Column-level encryption"}),e.jsx("li",{children:"â€¢ Key management integration"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[e.jsx("h4",{className:"font-semibold text-cyan-900 mb-2",children:"Infrastructure-Level"}),e.jsxs("ul",{className:"space-y-1 text-slate-600 text-sm",children:[e.jsx("li",{children:"â€¢ Disk encryption (LUKS, BitLocker)"}),e.jsx("li",{children:"â€¢ Cloud KMS integration"}),e.jsx("li",{children:"â€¢ Hardware Security Modules (HSM)"})]})]})]})]}),e.jsxs("div",{className:" from-emerald-50 to-green-50 border-2 border-emerald-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-emerald-900 mb-6",children:"ðŸŒ Encryption in Transit"}),e.jsx("p",{className:"text-slate-700 mb-4",children:"Protects data moving between systems. TLS is the standard for web applications."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[e.jsx("h4",{className:"font-semibold text-emerald-900 mb-2",children:"TLS/SSL Configuration"}),e.jsxs("ul",{className:"space-y-1 text-slate-600 text-sm",children:[e.jsx("li",{children:"â€¢ TLS 1.3 for best security"}),e.jsx("li",{children:"â€¢ Perfect Forward Secrecy (PFS)"}),e.jsx("li",{children:"â€¢ Certificate pinning"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[e.jsx("h4",{className:"font-semibold text-emerald-900 mb-2",children:"Database Connections"}),e.jsxs("ul",{className:"space-y-1 text-slate-600 text-sm",children:[e.jsx("li",{children:"â€¢ SSL/TLS for client connections"}),e.jsx("li",{children:"â€¢ Certificate-based authentication"}),e.jsx("li",{children:"â€¢ VPN for internal networks"})]})]})]})]})]})]}),e.jsx("section",{className:"section-base-animation",ref:y=>c.current[6]=y,children:e.jsx(Da,{})}),e.jsx("section",{className:"section-base-animation",ref:y=>c.current[7]=y,children:e.jsx(La,{})}),e.jsx("section",{className:"section-base-animation",ref:y=>c.current[8]=y,children:e.jsx(Ma,{})}),e.jsx("section",{className:"section-base-animation",ref:y=>c.current[9]=y,children:e.jsx(Oa,{})}),e.jsx("section",{className:"py-6",ref:y=>c.current[10]=y,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{onClick:()=>s("/networking"),className:"btn-secondary",children:"â† Previous: Networking"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>s("/"),className:"btn-tertiary",children:"Home"}),e.jsx("button",{onClick:()=>s("/compute-runtime"),className:"btn-primary",children:"Next: Compute Runtime â†’"})]})]})})]})]})}function qa({className:s}){const[l,t]=x.useState(99.9),[o,a]=x.useState(3),[c,r]=x.useState(99.9),d=n=>{const p=(1-n/100)*365*24*60;return p>24*60?`${(p/(24*60)).toFixed(2)} days/year`:p>60?`${(p/60).toFixed(2)} hours/year`:`${p.toFixed(2)} minutes/year`},i=x.useMemo(()=>{const n=(100-c)/100;return((1-Math.pow(n,o))*100).toFixed(3)},[o,c]);return e.jsxs("div",{className:`bg-white border-2 border-green-200 rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-shadow ${s||""}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg  from-green-500 to-green-600 flex items-center justify-center text-white text-xl",children:"âœ…"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Availability Calculator"}),e.jsx("div",{className:"text-xs text-slate-500",children:"SLOs & downtime estimates"})]})]})}),e.jsx("div",{className:"text-xs font-semibold text-green-600 bg-green-50 py-1.5 px-3 rounded-full",children:"Interactive"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-5",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide",children:"Target Availability (%)"}),e.jsx("input",{type:"range",min:90,max:100,step:.01,value:l,onChange:n=>t(Number(n.target.value)),className:"w-full mt-2 accent-green-600"}),e.jsxs("div",{className:"text-sm font-bold text-green-600 mt-2",children:[l,"% â†’ ",d(l)]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide",children:"Server Availability (%)"}),e.jsx("input",{type:"range",min:90,max:100,step:.01,value:c,onChange:n=>r(Number(n.target.value)),className:"w-full mt-2 accent-green-600"}),e.jsxs("div",{className:"text-sm font-bold text-green-600 mt-2",children:[c,"% per node"]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide",children:"Number of Nodes"}),e.jsx("input",{type:"range",min:1,max:20,step:1,value:o,onChange:n=>a(Number(n.target.value)),className:"w-full mt-2 accent-green-600"}),e.jsxs("div",{className:"text-sm font-bold text-green-600 mt-2",children:[o," nodes"]})]})]}),e.jsxs("div",{className:" from-green-50 to-emerald-100 border-2 border-green-300 rounded-xl p-5 text-center",children:[e.jsx("div",{className:"text-xs font-semibold text-green-700 uppercase tracking-wide mb-2",children:"Parallel Availability"}),e.jsxs("div",{className:"text-4xl font-extrabold text-green-900 mb-1",children:[i,"%"]}),e.jsxs("div",{className:"text-xs text-green-700",children:["with ",o," nodes @ ",c,"% each"]})]})]})}function Ua(){const[s,l]=x.useState(0),[t,o]=x.useState([]),[a,c]=x.useState(null),r=[{id:0,question:"Does your system need to handle network partitions?",info:"Network partitions are splits in the network where nodes cannot communicate. In distributed systems across datacenters, partitions WILL happen.",options:[{text:"Yes - Multi-region or multi-datacenter",next:1,reasoning:"Distributed systems across networks must handle partitions"},{text:"No - Single datacenter, reliable network",next:"CA",reasoning:"Traditional RDBMS in a single datacenter can assume no partitions"}]},{id:1,question:"During a network partition, which is more important?",info:"You can't have both consistency and availability during a partition. Choose your priority.",options:[{text:"Consistency - Data must always be correct",next:"CP",reasoning:"Banking, inventory systems need correctness over availability"},{text:"Availability - System must always respond",next:"AP",reasoning:"Social media, caching systems prioritize responsiveness"}]}],d={CA:{choice:"CA - Consistency + Availability",description:"Suitable for single-datacenter systems with reliable networks",color:"blue",databases:[{name:"PostgreSQL",type:"(Single instance or same-DC replicas)"},{name:"MySQL",type:"(Single instance or same-DC replicas)"},{name:"Oracle",type:"(Single instance)"},{name:"SQL Server",type:"(Single instance)"}],useCases:["Internal enterprise applications","Single-region services","Systems where network reliability is guaranteed","Traditional OLTP workloads"],tradeoffs:[{icon:"âœ“",text:"Strong consistency - data always correct",type:"pro"},{icon:"âœ“",text:"Simple architecture - no complex conflict resolution",type:"pro"},{icon:"âœ—",text:"Not resilient to network partitions",type:"con"},{icon:"âœ—",text:"Cannot span multiple datacenters reliably",type:"con"}],warning:"In practice, CA systems don't exist in distributed environments because network partitions are inevitable. Most 'CA' systems are actually single-node or same-datacenter deployments."},CP:{choice:"CP - Consistency + Partition Tolerance",description:"Ensures data consistency even during network failures",color:"purple",databases:[{name:"MongoDB",type:"(with majority write concern)"},{name:"HBase",type:"(strongly consistent)"},{name:"Redis",type:"(with Redis Cluster)"},{name:"Zookeeper",type:"(consensus-based)"},{name:"etcd",type:"(Raft-based)"}],useCases:["Banking and financial transactions","Inventory management systems","Booking systems (hotel, flight)","Configuration management","Leader election services"],tradeoffs:[{icon:"âœ“",text:"Strong consistency - no stale reads",type:"pro"},{icon:"âœ“",text:"Partition tolerant - handles network splits",type:"pro"},{icon:"âœ—",text:"May become unavailable during partitions",type:"con"},{icon:"âœ—",text:"Higher latency for cross-region operations",type:"con"}],warning:"CP systems may reject writes or reads during network partitions to maintain consistency. Users might see 'Service Unavailable' errors."},AP:{choice:"AP - Availability + Partition Tolerance",description:"Prioritizes system availability over immediate consistency",color:"green",databases:[{name:"Cassandra",type:"(with eventual consistency)"},{name:"DynamoDB",type:"(with eventual consistency)"},{name:"Riak",type:"(with eventual consistency)"},{name:"CouchDB",type:"(with eventual consistency)"},{name:"Cosmos DB",type:"(with eventual consistency mode)"}],useCases:["Social media feeds and timelines","Product catalogs and recommendations","User analytics and metrics","Content delivery and caching","Collaborative applications (Google Docs style)"],tradeoffs:[{icon:"âœ“",text:"Always available - responds even during partitions",type:"pro"},{icon:"âœ“",text:"Low latency - can read from nearest replica",type:"pro"},{icon:"âœ—",text:"Eventual consistency - temporary stale data",type:"con"},{icon:"âœ—",text:"Need conflict resolution mechanisms",type:"con"}],warning:"AP systems accept that users might see stale data temporarily. You need strategies to handle conflicts when the same data is updated in different locations."}},i=g=>{const h=[...t,{question:s,answer:g.text,reasoning:g.reasoning}];o(h),typeof g.next=="string"?c(g.next):l(g.next)},n=()=>{l(0),o([]),c(null)},m=r.find(g=>g.id===s),p=a?d[a]:null;return e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-3xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:" px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 backdrop-blur-sm flex items-center justify-center",children:e.jsx(Et,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"CAP Theorem Decision Tree"}),e.jsx("p",{className:"text-sm mt-1",children:"Answer questions to find the right database consistency model"})]})]})}),e.jsxs("div",{className:"p-8",children:[!a&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["Question ",s+1," of ",r.length]}),e.jsxs("span",{className:"text-sm text-slate-500",children:[t.length," answered"]})]}),e.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full  from-purple-500 to-indigo-500 transition-all duration-500",style:{width:`${(s+1)/r.length*100}%`}})})]}),a?e.jsxs("div",{children:[e.jsxs("div",{className:`bg-${p.color}-50 border-2 border-${p.color}-200 rounded-2xl p-8 mb-6`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl bg-${p.color}-500 text-white flex items-center justify-center`,children:e.jsx(N,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-2xl font-bold text-${p.color}-900`,children:p.choice}),e.jsx("p",{className:`text-${p.color}-700 mt-1`,children:p.description})]})]}),p.warning&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-6 flex items-start gap-3",children:[e.jsx(Ie,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-sm text-amber-900",children:[e.jsx("strong",{children:"Important:"})," ",p.warning]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-3",children:"Trade-offs:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:p.tradeoffs.map((g,h)=>e.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${g.type==="pro"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[e.jsx("span",{className:`text-lg ${g.type==="pro"?"text-green-600":"text-red-600"}`,children:g.icon}),e.jsx("span",{className:`text-sm ${g.type==="pro"?"text-green-800":"text-red-800"}`,children:g.text})]},h))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-3",children:"Recommended Databases:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:p.databases.map((g,h)=>e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("div",{className:"font-semibold text-slate-900",children:g.name}),e.jsx("div",{className:"text-sm text-slate-600",children:g.type})]},h))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-3",children:"Common Use Cases:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:p.useCases.map((g,h)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-${p.color}-500`}),e.jsx("span",{children:g})]},h))})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-200 mb-6",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-4",children:"How we got here:"}),e.jsx("div",{className:"space-y-3",children:t.map((g,h)=>{const u=r.find(C=>C.id===g.question);return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-100 text-purple-700 flex items-center justify-center font-bold text-sm flex-shrink-0",children:h+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 text-sm mb-1",children:u.question}),e.jsxs("div",{className:"text-sm text-slate-600",children:["âœ“ ",g.answer]}),e.jsx("div",{className:"text-xs text-slate-500 mt-1 italic",children:g.reasoning})]})]},h)})})]}),e.jsx("button",{onClick:n,className:"w-full py-3 rounded-xl  from-purple-600 to-indigo-600 text-white font-semibold hover:from-purple-700 hover:to-indigo-700 transition-all",children:"Start Over"})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-8 border border-slate-200 mb-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-600 text-white flex items-center justify-center font-bold flex-shrink-0",children:s+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-3",children:m.question}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(Ie,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-blue-800",children:m.info})]})]})]}),e.jsx("div",{className:"space-y-3",children:m.options.map((g,h)=>e.jsx("button",{onClick:()=>i(g),className:"w-full text-left p-5 rounded-xl border-2 border-slate-200 bg-white hover:border-purple-400 hover:bg-purple-50 transition-all group",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 group-hover:bg-purple-100 flex items-center justify-center font-bold text-slate-700 group-hover:text-purple-700 transition-colors",children:String.fromCharCode(65+h)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-1",children:g.text}),e.jsx("div",{className:"text-sm text-slate-600",children:g.reasoning})]}),e.jsx(N,{className:"w-5 h-5 text-slate-300 group-hover:text-purple-500 transition-colors"})]})},h))})]}),t.length>0&&e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-200",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-4",children:"Your Answers:"}),e.jsx("div",{className:"space-y-3",children:t.map((g,h)=>{const u=r.find(C=>C.id===g.question);return e.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-slate-900",children:u.question}),e.jsxs("span",{className:"text-slate-600 ml-2",children:["â†’ ",g.answer]})]})]},h)})})]})]})]})]})}function Fa({className:s}){var g,h,u,C;const[l,t]=x.useState(1e6),[o,a]=x.useState(50),[c,r]=x.useState(10),[d,i]=x.useState(90),[n,m]=x.useState(365),p=x.useMemo(()=>{const S=l*o,V=Math.round(S/86400),D=Math.round(V*2.5),w=S*c/(1024*1024),H=Math.round(w*n),ae=Math.round(V*c*1024*8/(1024*1024));return{totalRequests:S,qps:V,peakQps:D,storageGB:H,dailyDataGB:w,bandwidthMbps:ae}},[l,o,c,n]);return e.jsxs("div",{className:`bg-white border-2 border-blue-200 rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-shadow ${s||""}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg  from-blue-500 to-blue-600 flex items-center justify-center text-white text-xl",children:"ðŸ“Š"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Back-of-Envelope Capacity Planner"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Estimate QPS, storage & bandwidth"})]})]})}),e.jsx("div",{className:"text-xs font-semibold text-blue-600 bg-blue-50 py-1.5 px-3 rounded-full",children:"Interactive"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-5",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide",children:"DAU (Daily Active Users)"}),e.jsx("input",{type:"range",min:1e3,max:1e7,step:1e3,value:l,onChange:S=>t(Number(S.target.value)),className:"w-full mt-2 accent-blue-600"}),e.jsxs("div",{className:"text-sm font-bold text-blue-600 mt-2",children:[l.toLocaleString()," users"]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide",children:"Requests / user"}),e.jsx("input",{type:"range",min:1,max:500,step:1,value:o,onChange:S=>a(Number(S.target.value)),className:"w-full mt-2 accent-blue-600"}),e.jsxs("div",{className:"text-sm font-bold text-blue-600 mt-2",children:[o," requests / DAU"]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide",children:"Avg request size (KB)"}),e.jsx("input",{type:"range",min:1,max:200,step:1,value:c,onChange:S=>r(Number(S.target.value)),className:"w-full mt-2 accent-blue-600"}),e.jsxs("div",{className:"text-sm font-bold text-blue-600 mt-2",children:[c," KB"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide",children:"Retention (days)"}),e.jsx("input",{type:"range",min:1,max:3650,step:1,value:n,onChange:S=>m(Number(S.target.value)),className:"w-full mt-2 accent-blue-600"}),e.jsxs("div",{className:"text-sm font-bold text-blue-600 mt-2",children:["Keep data for ",n," days"]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide",children:"Read/Write Ratio (%)"}),e.jsx("input",{type:"range",min:0,max:100,step:1,value:d,onChange:S=>i(Number(S.target.value)),className:"w-full mt-2 accent-blue-600"}),e.jsxs("div",{className:"text-sm font-bold text-blue-600 mt-2",children:[d,"% reads, ",100-d,"% writes"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2  gap-3 mb-5",children:[e.jsxs("div",{className:" from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide mb-1",children:"QPS (avg)"}),e.jsx("div",{className:"text-2xl font-extrabold text-blue-900",children:((g=p.qps)==null?void 0:g.toLocaleString())||"--"})]}),e.jsxs("div",{className:" from-purple-50 to-purple-100 border border-purple-200 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-xs font-semibold text-purple-700 uppercase tracking-wide mb-1",children:"Peak QPS"}),e.jsx("div",{className:"text-2xl font-extrabold text-purple-900",children:((h=p.peakQps)==null?void 0:h.toLocaleString())||"--"})]}),e.jsxs("div",{className:" from-green-50 to-green-100 border border-green-200 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-xs font-semibold text-green-700 uppercase tracking-wide mb-1",children:"Daily Data (GB)"}),e.jsx("div",{className:"text-2xl font-extrabold text-green-900",children:((u=p.dailyDataGB)==null?void 0:u.toFixed(2))||"--"})]}),e.jsxs("div",{className:" from-orange-50 to-orange-100 border border-orange-200 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-xs font-semibold text-orange-700 uppercase tracking-wide mb-1",children:"Storage (GB)"}),e.jsx("div",{className:"text-2xl font-extrabold text-orange-900",children:((C=p.storageGB)==null?void 0:C.toLocaleString())||"--"})]})]})]})}function Ha(){const[s,l]=x.useState(3),[t,o]=x.useState(3),[a,c]=x.useState(20),[r,d]=x.useState(!0),[i,n]=x.useState([]),[m,p]=x.useState([]),[g,h]=x.useState(null),u=T=>{let E=0;for(let L=0;L<T.length;L++){const q=T.charCodeAt(L);E=(E<<5)-E+q,E=E&E}return Math.abs(E)%360},C={"from-blue-500 to-cyan-500":{start:"#3b82f6",end:"#06b6d4",tailwind:"from-blue-500 to-cyan-500"},"from-purple-500 to-pink-500":{start:"#a855f7",end:"#ec4899",tailwind:"from-purple-500 to-pink-500"},"from-green-500 to-emerald-500":{start:"#22c55e",end:"#10b981",tailwind:"from-green-500 to-emerald-500"},"from-orange-500 to-red-500":{start:"#f97316",end:"#ef4444",tailwind:"from-orange-500 to-red-500"},"from-yellow-500 to-amber-500":{start:"#eab308",end:"#f59e0b",tailwind:"from-yellow-500 to-amber-500"},"from-indigo-500 to-blue-500":{start:"#6366f1",end:"#3b82f6",tailwind:"from-indigo-500 to-blue-500"},"from-slate-400 to-slate-500":{start:"#94a3b8",end:"#64748b",tailwind:"from-slate-400 to-slate-500"}};x.useEffect(()=>{const T=[],E=["from-blue-500 to-cyan-500","from-purple-500 to-pink-500","from-green-500 to-emerald-500","from-orange-500 to-red-500","from-yellow-500 to-amber-500","from-indigo-500 to-blue-500"];for(let L=0;L<s;L++){const q=`Server-${L+1}`,Y=E[L%E.length];if(T.push({id:`server-${L}`,name:q,angle:u(q),isVirtual:!1,color:Y}),r)for(let J=0;J<t;J++){const ge=`${q}-vnode-${J}`;T.push({id:`vnode-${L}-${J}`,name:q,displayName:`${q} (v${J+1})`,angle:u(ge),isVirtual:!0,color:Y})}}n(T.sort((L,q)=>L.angle-q.angle))},[s,t,r]),x.useEffect(()=>{const T=[];for(let E=0;E<a;E++){const L=`key-${E}`,q=u(L);let Y=i.find(J=>J.angle>=q);Y||(Y=i[0]),T.push({id:L,name:L,angle:q,server:Y?Y.name:null,color:Y?Y.color:"from-slate-400 to-slate-500"})}p(T)},[i,a]);const V=(()=>{const T={};return m.forEach(E=>{E.server&&(T[E.server]=(T[E.server]||0)+1)}),T})(),D=(T,E)=>{const L=T*Math.PI/180;return{x:200+E*Math.cos(L-Math.PI/2),y:200+E*Math.sin(L-Math.PI/2)}},ee=()=>{s<6&&l(s+1)},w=()=>{s>1&&l(s-1)},H=()=>{c(Math.floor(Math.random()*30)+10)},ae=()=>{l(3),o(3),c(20),d(!0)};return e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-3xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 backdrop-blur-sm flex items-center justify-center",children:e.jsx(K,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Consistent Hashing Visualizer"}),e.jsx("p",{className:"text-sm mt-1",children:"See how keys are distributed across servers using a hash ring"})]})]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5 text-blue-600"}),"Servers"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:w,disabled:s<=1,className:"w-8 h-8 rounded-lg bg-red-500 text-white flex items-center justify-center hover:bg-red-600 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:e.jsx(It,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-12 h-8 rounded-lg bg-white border border-slate-200 flex items-center justify-center font-bold text-slate-900",children:s}),e.jsx("button",{onClick:ee,disabled:s>=6,className:"w-8 h-8 rounded-lg bg-green-500 text-white flex items-center justify-center hover:bg-green-600 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:e.jsx(Dt,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"text-xs text-slate-600",children:"Add or remove servers to see how keys are redistributed"})]}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"font-bold text-slate-900",children:"Virtual Nodes"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r,onChange:T=>d(T.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]}),r&&e.jsx("input",{type:"number",min:"1",max:"5",value:t,onChange:T=>o(Math.max(1,Math.min(5,parseInt(T.target.value)||1))),className:"w-16 px-2 py-1 rounded-lg border border-slate-200 text-center font-bold text-slate-900"})]})]}),e.jsx("div",{className:"text-xs text-slate-600",children:"Virtual nodes improve load distribution"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-sm font-semibold text-slate-700",children:["Keys: ",a]}),e.jsx("input",{type:"range",min:"5",max:"50",value:a,onChange:T=>c(parseInt(T.target.value)),className:"w-48 accent-purple-600"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:H,className:"px-4 py-2 rounded-lg bg-indigo-500 text-white text-sm font-semibold hover:bg-indigo-600 transition-colors flex items-center gap-2",children:[e.jsx(Gs,{className:"w-4 h-4"}),"Shuffle Keys"]}),e.jsxs("button",{onClick:ae,className:"px-4 py-2 rounded-lg bg-slate-500 text-white text-sm font-semibold hover:bg-slate-600 transition-colors flex items-center gap-2",children:[e.jsx(as,{className:"w-4 h-4"}),"Reset"]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-200",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-4 text-center",children:"Hash Ring (0Â° - 360Â°)"}),e.jsx("div",{className:"relative w-full aspect-square max-w-md mx-auto",children:e.jsxs("svg",{viewBox:"0 0 400 400",className:"w-full h-full",children:[e.jsx("circle",{cx:"200",cy:"200",r:"150",fill:"none",stroke:"#e2e8f0",strokeWidth:"2"}),i.map((T,E)=>{const L=D(T.angle,150),q=g===T.name,Y=C[T.color]||C["from-slate-400 to-slate-500"];return e.jsxs("g",{children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:`gradient-${T.id}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:Y.start}),e.jsx("stop",{offset:"100%",stopColor:Y.end})]})}),e.jsx("circle",{cx:L.x,cy:L.y,r:T.isVirtual?6:10,className:`cursor-pointer transition-all ${q?"opacity-100":"opacity-70 hover:opacity-100"}`,fill:`url(#gradient-${T.id})`,stroke:"white",strokeWidth:"2",onMouseEnter:()=>h(T.name),onMouseLeave:()=>h(null)})]},E)}),m.map((T,E)=>{const L=D(T.angle,120),q=g===T.server;return e.jsx("circle",{cx:L.x,cy:L.y,r:"3",className:`transition-all ${q?"opacity-100":"opacity-40"}`,fill:q?"#fbbf24":"#94a3b8"},E)}),e.jsxs("text",{x:"200",y:"195",textAnchor:"middle",className:"text-xs font-bold fill-slate-500",children:[m.length," keys"]}),e.jsxs("text",{x:"200",y:"210",textAnchor:"middle",className:"text-xs fill-slate-400",children:[i.length," nodes"]})]})}),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full  from-blue-500 to-cyan-500"}),e.jsx("span",{className:"text-slate-600",children:"Physical Server"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full  from-purple-500 to-pink-500"}),e.jsx("span",{className:"text-slate-600",children:"Virtual Node"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-400"}),e.jsx("span",{className:"text-slate-600",children:"Key"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-200",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-4",children:"Key Distribution"}),e.jsx("div",{className:"space-y-3",children:Object.entries(V).map(([T,E])=>{const L=(E/m.length*100).toFixed(1),q=i.find(Y=>Y.name===T&&!Y.isVirtual);return e.jsxs("div",{className:"cursor-pointer",onMouseEnter:()=>h(T),onMouseLeave:()=>h(null),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full  ${(q==null?void 0:q.color)||"from-slate-400 to-slate-500"}`}),e.jsx("span",{className:"text-sm font-semibold text-slate-900",children:T})]}),e.jsxs("div",{className:"text-sm font-bold text-slate-900",children:[E," keys (",L,"%)"]})]}),e.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full  ${(q==null?void 0:q.color)||"from-slate-400 to-slate-500"} transition-all duration-500`,style:{width:`${L}%`}})})]},T)})})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6",children:[e.jsx("h4",{className:"font-bold text-blue-900 mb-3",children:"How It Works"}),e.jsxs("ol",{className:"text-sm text-blue-800 space-y-2",children:[e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"font-bold",children:"1."}),e.jsx("span",{children:"Hash servers and keys to positions on a ring (0-360Â°)"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"font-bold",children:"2."}),e.jsx("span",{children:"Each key goes to the next server clockwise"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"font-bold",children:"3."}),e.jsx("span",{children:"Virtual nodes improve distribution balance"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"font-bold",children:"4."}),e.jsx("span",{children:"Adding/removing servers only affects adjacent keys"})]})]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-6",children:[e.jsx("h4",{className:"font-bold text-green-900 mb-3",children:"Benefits"}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{children:"âœ“"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Minimal redistribution:"})," Only ~1/N keys move when scaling"]})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{children:"âœ“"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Load balancing:"})," Virtual nodes ensure even distribution"]})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{children:"âœ“"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Fault tolerant:"})," Handles server failures gracefully"]})]})]})]})]})]})]})]})}function Wa(){const[s,l]=x.useState(null),t=(c,r)=>{navigator.clipboard.writeText(c),l(r),setTimeout(()=>l(null),2e3)},o={traffic:{title:"Traffic & Load Calculations",color:"blue",items:[{id:"qps",name:"Queries Per Second (QPS)",formula:"QPS = (DAU Ã— Requests per User) Ã· 86,400",example:"(1M users Ã— 50 requests) Ã· 86,400 = ~579 QPS",notes:"86,400 = seconds in a day"},{id:"peak-qps",name:"Peak QPS",formula:"Peak QPS = Average QPS Ã— Peak Factor",example:"579 QPS Ã— 2.5 = ~1,448 peak QPS",notes:"Peak factor is typically 2-3x, sometimes 5-10x for spiky traffic"},{id:"rps",name:"Requests Per Second",formula:"RPS = Total Daily Requests Ã· 86,400",example:"50M requests Ã· 86,400 = ~579 RPS",notes:"Same as QPS but more general term"}]},storage:{title:"Storage & Data Calculations",color:"purple",items:[{id:"total-storage",name:"Total Storage Needed",formula:"Storage = Records Ã— Size per Record Ã— Time Period",example:"1M records Ã— 1KB Ã— 365 days = 365 GB",notes:"Don't forget to add overhead for indexes and metadata (typically 20-30%)"},{id:"daily-storage",name:"Daily Storage Growth",formula:"Daily Storage = New Records per Day Ã— Size per Record",example:"100K new records Ã— 2KB = 200 MB/day",notes:"Multiply by 365 for yearly growth"},{id:"with-replication",name:"Storage with Replication",formula:"Total Storage = Base Storage Ã— Replication Factor",example:"1 TB Ã— 3 replicas = 3 TB total",notes:"Common replication factors: 2-3x for safety"}]},bandwidth:{title:"Bandwidth & Network",color:"green",items:[{id:"bandwidth-qps",name:"Bandwidth from QPS",formula:"Bandwidth (bps) = QPS Ã— Avg Request Size (bytes) Ã— 8",example:"1000 QPS Ã— 50KB Ã— 8 = 400 Mbps",notes:"Multiply by 8 to convert bytes to bits"},{id:"bandwidth-daily",name:"Daily Bandwidth",formula:"Daily Data = Daily Requests Ã— Avg Request Size",example:"50M requests Ã— 20KB = 1 TB/day",notes:"Useful for estimating CDN or cloud egress costs"},{id:"throughput",name:"Throughput",formula:"Throughput = Data Size Ã· Time",example:"100 GB Ã· 1000 seconds = 100 MB/s",notes:"Different from bandwidth - actual data transferred"}]},units:{title:"Data Unit Conversions",color:"orange",items:[{id:"byte-kb",name:"Bytes to Kilobytes",formula:"1 KB = 1,024 bytes",example:"10,240 bytes = 10 KB",notes:"Binary (1024) vs Decimal (1000) - use binary for memory/storage"},{id:"kb-mb",name:"Kilobytes to Megabytes",formula:"1 MB = 1,024 KB = 1,048,576 bytes",example:"10,240 KB = 10 MB",notes:"1 million bytes â‰ˆ 1 MB (close enough for estimates)"},{id:"mb-gb",name:"Megabytes to Gigabytes",formula:"1 GB = 1,024 MB = 1,073,741,824 bytes",example:"5,120 MB = 5 GB",notes:"1 billion bytes â‰ˆ 1 GB (for quick math)"},{id:"gb-tb",name:"Gigabytes to Terabytes",formula:"1 TB = 1,024 GB",example:"2,048 GB = 2 TB",notes:"1 trillion bytes â‰ˆ 1 TB"},{id:"tb-pb",name:"Terabytes to Petabytes",formula:"1 PB = 1,024 TB",example:"10,240 TB = 10 PB",notes:"1 quadrillion bytes â‰ˆ 1 PB"}]},time:{title:"Time Conversions",color:"indigo",items:[{id:"day-seconds",name:"Day to Seconds",formula:"1 day = 86,400 seconds",example:"24 hours Ã— 60 min Ã— 60 sec = 86,400",notes:"Most commonly used conversion in system design"},{id:"month-seconds",name:"Month to Seconds",formula:"1 month â‰ˆ 2,592,000 seconds",example:"30 days Ã— 86,400 = 2,592,000",notes:"Use 30 days for estimates"},{id:"year-seconds",name:"Year to Seconds",formula:"1 year â‰ˆ 31,536,000 seconds",example:"365 days Ã— 86,400 = 31,536,000",notes:"~31.5 million seconds"}]},availability:{title:"Availability Calculations",color:"red",items:[{id:"uptime",name:"Uptime Percentage",formula:"Uptime % = (Total Time - Downtime) Ã· Total Time Ã— 100",example:"(31,536,000 - 3,153) Ã· 31,536,000 Ã— 100 = 99.99%",notes:"4 nines = 52.56 minutes downtime/year"},{id:"parallel-availability",name:"Parallel Components",formula:"Availability = 1 - (1 - Aâ‚) Ã— (1 - Aâ‚‚) Ã— ...",example:"Two 99% systems: 1 - (0.01 Ã— 0.01) = 99.99%",notes:"Redundancy improves availability"},{id:"serial-availability",name:"Serial Components",formula:"Availability = Aâ‚ Ã— Aâ‚‚ Ã— Aâ‚ƒ Ã— ...",example:"Three 99.9% systems: 0.999Â³ = 99.7%",notes:"Chain is only as strong as weakest link"}]}},a=[{label:"1 KB",value:"1,024 bytes",color:"blue"},{label:"1 MB",value:"1,024 KB",color:"blue"},{label:"1 GB",value:"1,024 MB",color:"purple"},{label:"1 TB",value:"1,024 GB",color:"purple"},{label:"1 day",value:"86,400 sec",color:"green"},{label:"1 month",value:"2.6M sec",color:"green"},{label:"99.9%",value:"8.76h down/yr",color:"orange"},{label:"99.99%",value:"52.6m down/yr",color:"orange"}];return e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-3xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 backdrop-blur-sm flex items-center justify-center",children:e.jsx(vs,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Essential Formulas Reference"}),e.jsx("p",{className:"text-sm mt-1",children:"Common calculations for back-of-envelope estimation"})]})]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-200 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(pe,{className:"w-5 h-5 text-slate-600"}),e.jsx("h4",{className:"font-bold text-slate-900",children:"Quick Reference"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((c,r)=>e.jsxs("div",{className:`px-4 py-2 rounded-lg bg-${c.color}-100 border border-${c.color}-200`,children:[e.jsx("span",{className:`font-bold text-${c.color}-900`,children:c.label}),e.jsxs("span",{className:`text-${c.color}-700 ml-2`,children:["= ",c.value]})]},r))})]}),e.jsx("div",{className:"space-y-8",children:Object.entries(o).map(([c,r])=>e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl overflow-hidden",children:[e.jsx("div",{className:`bg-${r.color}-50 px-6 py-4 border-b border-${r.color}-200`,children:e.jsx("h4",{className:`font-bold text-${r.color}-900 text-lg`,children:r.title})}),e.jsx("div",{className:"p-6 space-y-4",children:r.items.map(d=>e.jsxs("div",{className:"bg-slate-50 rounded-xl p-5 border border-slate-200 hover:border-slate-300 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2 flex items-center gap-2",children:d.name}),e.jsx("div",{className:"bg-slate-900 rounded-lg p-3 font-mono text-sm text-green-400 mb-3",children:d.formula})]}),e.jsx("button",{onClick:()=>t(d.formula,d.id),className:`p-2 rounded-lg transition-colors ${s===d.id?"bg-green-500 text-white":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-100"}`,title:"Copy formula",children:s===d.id?e.jsx(ke,{className:"w-4 h-4"}):e.jsx(ys,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:`bg-${r.color}-50 rounded-lg p-3 border border-${r.color}-100`,children:[e.jsx("div",{className:`text-xs font-semibold text-${r.color}-900 uppercase tracking-wider mb-1`,children:"Example"}),e.jsx("div",{className:`text-sm text-${r.color}-800 font-mono`,children:d.example})]}),e.jsxs("div",{className:"bg-amber-50 rounded-lg p-3 border border-amber-100",children:[e.jsx("div",{className:"text-xs font-semibold text-amber-900 uppercase tracking-wider mb-1",children:"Notes"}),e.jsx("div",{className:"text-sm text-amber-800",children:d.notes})]})]})]},d.id))})]},c))}),e.jsxs("div",{className:"mt-8 grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6",children:[e.jsx("h4",{className:"font-bold text-blue-900 mb-4",children:"ðŸŽ¯ Estimation Tips"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[e.jsx("li",{children:"â€¢ Round to nearest power of 10 for simplicity"}),e.jsx("li",{children:"â€¢ Use 100 instead of 86,400 for ultra-quick estimates"}),e.jsx("li",{children:"â€¢ Always state your assumptions clearly"}),e.jsx("li",{children:"â€¢ Show your work - interviewers want to see your thought process"})]})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-2xl p-6",children:[e.jsx("h4",{className:"font-bold text-purple-900 mb-4",children:"ðŸ“Š Common Ratios"}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-2",children:[e.jsx("li",{children:"â€¢ Read:Write ratio â†’ Often 100:1 to 1000:1"}),e.jsx("li",{children:"â€¢ Peak:Average traffic â†’ Typically 2-3x, sometimes 5-10x"}),e.jsx("li",{children:"â€¢ Cache hit rate â†’ Target 80-95%"}),e.jsx("li",{children:"â€¢ Replication factor â†’ Usually 2-3x for durability"})]})]})]}),e.jsxs("div",{className:"mt-8 bg-slate-50 rounded-2xl p-6 border border-slate-200",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-4",children:"ðŸ“ Common Data Sizes"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-3 text-sm",children:"Text"}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Tweet: ~280 bytes (UTF-8)"}),e.jsx("li",{children:"â€¢ Email: ~75 KB average"}),e.jsx("li",{children:"â€¢ Web page: ~2 MB average"}),e.jsx("li",{children:"â€¢ eBook: ~2-5 MB"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-3 text-sm",children:"Images"}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Thumbnail: ~50 KB"}),e.jsx("li",{children:"â€¢ Photo (compressed): ~1-3 MB"}),e.jsx("li",{children:"â€¢ Photo (RAW): ~25-50 MB"}),e.jsx("li",{children:"â€¢ 4K image: ~10-20 MB"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-3 text-sm",children:"Video/Audio"}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Song (MP3): ~3-5 MB"}),e.jsx("li",{children:"â€¢ 1 min HD video: ~50-100 MB"}),e.jsx("li",{children:"â€¢ 1 hour 1080p: ~3-5 GB"}),e.jsx("li",{children:"â€¢ 1 hour 4K: ~10-20 GB"})]})]})]})]})]})]})}function Ga({className:s}){const[l,t]=x.useState("CP"),o={CA:{title:"Consistency + Availability (CA)",about:"CA means strong consistency across nodes and availability - but cannot tolerate partitions. Common in single-region SQL systems."},CP:{title:"Consistency + Partition tolerance (CP)",about:"CP sacrifices availability under network partitions to ensure strong consistency. Use for systems needing strict correctness like banking."},AP:{title:"Availability + Partition tolerance (AP)",about:"AP sacrifices strict consistency to remain available during partitions, useful for systems like social feeds that favor responsiveness."}};return e.jsxs("div",{className:`bg-white rounded-2xl border-2 border-purple-200 p-6 shadow-xl hover:shadow-2xl transition-all duration-300 ${s||""}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b-2 border-purple-100",children:[e.jsx("div",{className:"text-3xl",children:"ðŸŽ¯"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-2xl font-bold  from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"CAP Theorem â€” Interactive"}),e.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Select which two properties you prioritize and see consequences"})]})]}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("div",{className:"flex items-center gap-3 justify-center",children:["CA","CP","AP"].map(a=>e.jsx("button",{onClick:()=>t(a),className:`px-6 py-3 rounded-xl font-semibold transition-all duration-300 ${l===a?" from-purple-500 to-pink-500 shadow-lg scale-105":"bg-slate-100 text-slate-700 hover:bg-slate-200 hover:scale-102"}`,children:a},a))}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:" from-purple-50 to-pink-50 border-2 border-purple-200 rounded-xl p-5 shadow-inner",children:[e.jsx("h5",{className:"font-bold text-lg text-purple-900 mb-2",children:o[l].title}),e.jsx("p",{className:"text-sm text-slate-700 leading-relaxed mb-3",children:o[l].about}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-purple-200",children:[e.jsx("div",{className:"text-xs font-semibold text-purple-700 mb-2",children:"âš–ï¸ Trade-offs:"}),l==="CA"&&e.jsxs("ul",{className:"text-sm text-slate-700 list-disc ml-5 space-y-1",children:[e.jsx("li",{children:"Fast reads, strict data correctness."}),e.jsx("li",{children:"System unavailable if partitioned."})]}),l==="CP"&&e.jsxs("ul",{className:"text-sm text-slate-700 list-disc ml-5 space-y-1",children:[e.jsx("li",{children:"Consistent data across nodes."}),e.jsx("li",{children:"May become unavailable during partitions or leader elections."})]}),l==="AP"&&e.jsxs("ul",{className:"text-sm text-slate-700 list-disc ml-5 space-y-1",children:[e.jsx("li",{children:"Highly available during network issues."}),e.jsx("li",{children:"Accepts eventual consistency or conflict resolution mechanisms."})]})]})]})}),e.jsx("div",{className:"flex items-center justify-center mt-4",children:e.jsxs("svg",{width:"160",height:"140",viewBox:"0 0 140 120",xmlns:"http://www.w3.org/2000/svg",className:"drop-shadow-lg",children:[e.jsx("circle",{cx:"40",cy:"40",r:"36",fill:"rgba(147, 51, 234, 0.15)",stroke:"#9333ea",strokeWidth:"2.5",opacity:"0.95"}),e.jsx("circle",{cx:"100",cy:"40",r:"36",fill:"rgba(236, 72, 153, 0.15)",stroke:"#ec4899",strokeWidth:"2.5",opacity:"0.95"}),e.jsx("circle",{cx:"70",cy:"86",r:"36",fill:"rgba(168, 85, 247, 0.15)",stroke:"#a855f7",strokeWidth:"2.5",opacity:"0.95"}),e.jsx("text",{x:"20",y:"43",fontSize:"10",fontWeight:"700",fill:"#9333ea",children:"Consistency"}),e.jsx("text",{x:"103",y:"43",fontSize:"10",fontWeight:"700",fill:"#ec4899",children:"Availability"}),e.jsx("text",{x:"54",y:"94",fontSize:"10",fontWeight:"700",fill:"#a855f7",children:"Partition Tolerance"}),l==="CA"&&e.jsx("circle",{cx:"67",cy:"44",r:"16",fill:"#9333ea",opacity:"0.4"}),l==="CP"&&e.jsx("circle",{cx:"60",cy:"62",r:"16",fill:"#a855f7",opacity:"0.4"}),l==="AP"&&e.jsx("circle",{cx:"88",cy:"52",r:"16",fill:"#ec4899",opacity:"0.4"})]})})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-purple-100  from-purple-50/50 to-pink-50/50 rounded-lg p-4 text-sm text-slate-700",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold text-purple-700",children:"ðŸ¤” Why:"})," ","Understanding the CAP theorem helps you pick a database and replication strategy based on business constraints."]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold text-purple-700",children:"ðŸ’†â€â™€ï¸ How:"})," For strongly consistent systems (banking, inventory), pick CP. For globally distributed, high-availability apps (social feeds), pick AP with conflict handling."]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold text-purple-700",children:"â° When:"})," Use this during DB selection and replication strategy planning."]})]})]})}function za(){const[s,l]=x.useState("general"),t={general:{title:"General System Design Interview",duration:"45-60 minutes",phases:[{phase:"Requirements (5-10 min)",timing:"~15% of time",color:"blue",tasks:["Clarify functional requirements (what features?)","Define non-functional requirements (scale, performance, availability)","Identify constraints (budget, timeline, existing systems)","Ask about users (who, where, when?)"],questions:["How many users? Daily/Monthly active users?","Read-heavy or write-heavy workload?","What's the expected data size?","Any specific latency requirements?","Global or regional service?"]},{phase:"Estimations (5-10 min)",timing:"~15% of time",color:"purple",tasks:["Calculate QPS (queries per second)","Estimate storage requirements","Calculate bandwidth needs","Determine cache size"],formulas:["QPS = Daily Active Users Ã— Actions/User Ã· 86,400","Peak QPS = Average QPS Ã— 2-3","Storage = Data per record Ã— Records Ã— Retention period","Bandwidth = QPS Ã— Average request size"]},{phase:"High-Level Design (10-15 min)",timing:"~25% of time",color:"green",tasks:["Draw main components (boxes)","Show data flow (arrows)","Identify APIs/interfaces","Explain user journey"],components:["Load Balancer","API Gateway","Application Servers","Database(s)","Cache Layer","Message Queue","CDN (if needed)"]},{phase:"Deep Dive (15-20 min)",timing:"~35% of time",color:"orange",tasks:["Pick 2-3 areas to detail","Discuss database schema","Explain caching strategy","Cover scaling approach","Address bottlenecks"],topics:["Database: SQL vs NoSQL, sharding, replication","Caching: Cache-aside, write-through, TTL strategy","Scaling: Horizontal vs vertical, load balancing","Consistency: Strong vs eventual, CAP theorem","Reliability: Redundancy, failover, monitoring"]},{phase:"Wrap-up (5 min)",timing:"~10% of time",color:"indigo",tasks:["Discuss monitoring & alerting","Cover deployment strategy","Mention security considerations","Address potential failures"],extras:["Logging & metrics (Prometheus, Grafana)","Error handling & retries","A/B testing capability","Cost optimization"]}]},storage:{title:"Storage-Heavy System (e.g., Dropbox, S3)",duration:"45-60 minutes",focus:"File storage, metadata, sync, deduplication",keyPoints:["Separate file storage from metadata","Use object storage (S3) for files","Database for metadata & user info","Chunking for large files","Deduplication to save space","Sync mechanism for clients"]},realtime:{title:"Real-time System (e.g., Chat, Messaging)",duration:"45-60 minutes",focus:"WebSocket, message delivery, presence",keyPoints:["WebSocket for bidirectional communication","Message queue for reliability","Presence service for online status","Message persistence in database","Push notifications for offline users","Group chat considerations (fan-out)"]},video:{title:"Video Streaming (e.g., YouTube, Netflix)",duration:"45-60 minutes",focus:"CDN, encoding, adaptive bitrate",keyPoints:["Upload: transcoding pipeline","Multiple qualities (360p, 720p, 1080p)","CDN for global distribution","Adaptive bitrate streaming (HLS/DASH)","Thumbnail generation","View count & analytics"]}},o=t[s];return e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-3xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:"px-8 py-6",children:e.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 backdrop-blur-sm flex items-center justify-center",children:e.jsx(Qe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"System Design Interview Cheatsheet"}),e.jsx("p",{className:"text-sm mt-1",children:"Step-by-step template with timing guidelines"})]})]})})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Select Template Type:"}),e.jsx("div",{className:"grid md:grid-cols-4 gap-3",children:Object.entries(t).map(([a,c])=>e.jsxs("button",{onClick:()=>l(a),className:`p-4 rounded-xl border-2 text-left transition-all ${s===a?"border-indigo-500 bg-indigo-50":"border-slate-200 bg-white hover:border-slate-300"}`,children:[e.jsx("div",{className:`font-bold text-sm mb-1 ${s===a?"text-indigo-900":"text-slate-900"}`,children:c.title}),e.jsx("div",{className:"text-xs text-slate-500",children:c.duration})]},a))})]}),s==="general"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ye,{className:"w-5 h-5 text-slate-600"}),e.jsx("h4",{className:"font-bold text-slate-900",children:"Time Allocation"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.phases.map((a,c)=>e.jsxs("div",{className:`px-4 py-2 rounded-lg bg-${a.color}-100 border border-${a.color}-200`,children:[e.jsx("div",{className:`text-xs font-semibold text-${a.color}-900`,children:a.phase}),e.jsx("div",{className:`text-xs text-${a.color}-700 mt-1`,children:a.timing})]},c))})]}),o.phases.map((a,c)=>e.jsxs("div",{className:`bg-white border-2 border-${a.color}-200 rounded-2xl overflow-hidden`,children:[e.jsx("div",{className:`bg-${a.color}-50 px-6 py-4 border-b border-${a.color}-200`,children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg bg-${a.color}-500 text-white flex items-center justify-center font-bold`,children:c+1}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-bold text-${a.color}-900`,children:a.phase}),e.jsxs("div",{className:`text-sm text-${a.color}-600 flex items-center gap-2`,children:[e.jsx(ye,{className:"w-4 h-4"}),a.timing]})]})]})})}),e.jsxs("div",{className:"p-6 space-y-4",children:[a.tasks&&e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600"}),"Key Tasks"]}),e.jsx("ul",{className:"space-y-2",children:a.tasks.map((r,d)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-slate-700",children:[e.jsx("span",{className:`text-${a.color}-500 mt-0.5`,children:"â†’"}),e.jsx("span",{children:r})]},d))})]}),a.questions&&e.jsxs("div",{className:`bg-${a.color}-50 rounded-xl p-4`,children:[e.jsxs("div",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[e.jsx(Is,{className:`w-4 h-4 text-${a.color}-600`}),"Questions to Ask"]}),e.jsx("ul",{className:"space-y-2",children:a.questions.map((r,d)=>e.jsxs("li",{className:`text-sm text-${a.color}-800`,children:["â€¢ ",r]},d))})]}),a.formulas&&e.jsx("div",{className:"bg-slate-900 rounded-xl p-4 font-mono",children:a.formulas.map((r,d)=>e.jsx("div",{className:"text-sm text-green-400 mb-2 last:mb-0",children:r},d))}),a.components&&e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-3",children:"Common Components"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.components.map((r,d)=>e.jsx("span",{className:`px-3 py-1.5 rounded-lg bg-${a.color}-100 text-${a.color}-800 text-sm font-medium border border-${a.color}-200`,children:r},d))})]}),a.topics&&e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-3",children:"Deep Dive Topics"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:a.topics.map((r,d)=>e.jsx("div",{className:"bg-slate-50 rounded-lg px-4 py-3 text-sm text-slate-700 border border-slate-200",children:r},d))})]}),a.extras&&e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-3",children:"Additional Considerations"}),e.jsx("ul",{className:"space-y-2",children:a.extras.map((r,d)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-indigo-500",children:"â€¢"}),e.jsx("span",{children:r})]},d))})]})]})]},c))]}),s!=="general"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ie,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h4",{className:"font-bold text-slate-900",children:"Focus Area"})]}),e.jsx("p",{className:"text-slate-700 text-lg",children:o.focus})]}),e.jsxs("div",{className:"bg-white border-2 border-indigo-200 rounded-2xl p-6",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Key Design Points"}),e.jsx("div",{className:"space-y-3",children:o.keyPoints.map((a,c)=>e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-indigo-50 rounded-xl border border-indigo-100",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-500 text-white flex items-center justify-center font-bold text-sm flex-shrink-0",children:c+1}),e.jsx("p",{className:"text-slate-700",children:a})]},c))})]})]}),e.jsxs("div",{className:"mt-8 grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-5",children:[e.jsxs("div",{className:"font-bold text-green-900 mb-3 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"Do This"]}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[e.jsx("li",{children:"â€¢ Think out loud - explain your reasoning"}),e.jsx("li",{children:"â€¢ Ask clarifying questions early"}),e.jsx("li",{children:"â€¢ Start simple, then add complexity"}),e.jsx("li",{children:"â€¢ Discuss trade-offs explicitly"})]})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-5",children:[e.jsxs("div",{className:"font-bold text-red-900 mb-3 flex items-center gap-2",children:[e.jsx(Ie,{className:"w-5 h-5"}),"Avoid This"]}),e.jsxs("ul",{className:"text-sm text-red-800 space-y-2",children:[e.jsx("li",{children:"â€¢ Don't dive into details too early"}),e.jsx("li",{children:"â€¢ Don't be silent - communicate!"}),e.jsx("li",{children:"â€¢ Don't assume requirements"}),e.jsx("li",{children:"â€¢ Don't ignore scale constraints"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-5",children:[e.jsxs("div",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx(Is,{className:"w-5 h-5"}),"Pro Tips"]}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[e.jsx("li",{children:"â€¢ Use round numbers for calculations"}),e.jsx("li",{children:"â€¢ Draw diagrams as you talk"}),e.jsx("li",{children:"â€¢ Mention monitoring & alerts"}),e.jsx("li",{children:"â€¢ Be ready to defend your choices"})]})]})]}),e.jsxs("div",{className:"mt-8 bg-amber-50 border border-amber-200 rounded-2xl p-6",children:[e.jsxs("h4",{className:"font-bold text-amber-900 mb-4 flex items-center gap-2",children:[e.jsx(Ie,{className:"w-5 h-5"}),"Common Interview Mistakes"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-amber-900 mb-2 text-sm",children:"Communication"}),e.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[e.jsx("li",{children:"â€¢ Not clarifying ambiguous requirements"}),e.jsx("li",{children:"â€¢ Going silent for long periods"}),e.jsx("li",{children:"â€¢ Not explaining trade-offs"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-amber-900 mb-2 text-sm",children:"Technical"}),e.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[e.jsx("li",{children:"â€¢ Jumping to implementation details"}),e.jsx("li",{children:"â€¢ Ignoring scalability from the start"}),e.jsx("li",{children:"â€¢ Not considering failure scenarios"})]})]})]})]})]})]})}function _a(){const[s,l]=x.useState("log"),t=[{name:"L1 cache reference",ns:.5,icon:e.jsx(fe,{className:"w-5 h-5"}),color:"from-green-500 to-emerald-500",category:"CPU"},{name:"Branch mispredict",ns:5,icon:e.jsx(fe,{className:"w-5 h-5"}),color:"from-green-500 to-emerald-500",category:"CPU"},{name:"L2 cache reference",ns:7,icon:e.jsx(fe,{className:"w-5 h-5"}),color:"from-blue-500 to-cyan-500",category:"CPU"},{name:"Mutex lock/unlock",ns:25,icon:e.jsx(fe,{className:"w-5 h-5"}),color:"from-blue-500 to-cyan-500",category:"CPU"},{name:"Main memory reference",ns:100,icon:e.jsx(Ee,{className:"w-5 h-5"}),color:"from-indigo-500 to-purple-500",category:"Memory"},{name:"Compress 1K with Zippy",ns:3e3,icon:e.jsx(fe,{className:"w-5 h-5"}),color:"from-purple-500 to-pink-500",category:"CPU"},{name:"Send 1K over 1 Gbps network",ns:1e4,icon:e.jsx(ws,{className:"w-5 h-5"}),color:"from-orange-500 to-red-500",category:"Network"},{name:"SSD random read",ns:15e4,icon:e.jsx(Ee,{className:"w-5 h-5"}),color:"from-red-500 to-rose-500",category:"Storage"},{name:"Read 1 MB sequentially from memory",ns:25e4,icon:e.jsx(Ee,{className:"w-5 h-5"}),color:"from-rose-500 to-pink-500",category:"Memory"},{name:"Round trip within datacenter",ns:5e5,icon:e.jsx(ie,{className:"w-5 h-5"}),color:"from-amber-500 to-orange-500",category:"Network"},{name:"Read 1 MB sequentially from SSD",ns:1e6,icon:e.jsx(Ee,{className:"w-5 h-5"}),color:"from-yellow-500 to-amber-500",category:"Storage"},{name:"Disk seek",ns:1e7,icon:e.jsx(K,{className:"w-5 h-5"}),color:"from-red-600 to-rose-600",category:"Storage"},{name:"Read 1 MB sequentially from disk",ns:2e7,icon:e.jsx(K,{className:"w-5 h-5"}),color:"from-red-600 to-rose-600",category:"Storage"},{name:"Send packet CA â†’ Netherlands â†’ CA",ns:15e7,icon:e.jsx(ie,{className:"w-5 h-5"}),color:"from-purple-600 to-indigo-600",category:"Network"}],o=r=>r<1e3?`${r} ns`:r<1e6?`${(r/1e3).toFixed(1)} Î¼s`:r<1e9?`${(r/1e6).toFixed(1)} ms`:`${(r/1e9).toFixed(1)} s`,a=Math.max(...t.map(r=>r.ns)),c=r=>{if(s==="log"){const d=Math.log10(a);return Math.log10(r)/d*100}else return r/a*100};return e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-3xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 backdrop-blur-sm flex items-center justify-center",children:e.jsx(z,{className:"w-6 h-6 text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Latency Numbers Every Programmer Should Know"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Updated for modern hardware (2024) â€¢ Originally by Jeff Dean"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-lg p-1",children:[e.jsx("button",{onClick:()=>l("log"),children:"Logarithmic"}),e.jsx("button",{onClick:()=>l("linear"),children:"Linear"})]})]})}),e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6 mb-8",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(ye,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-blue-900 text-lg mb-2",children:"Why This Matters"}),e.jsxs("p",{className:"text-blue-800 leading-relaxed",children:["Understanding these numbers helps you make better architectural decisions. Memory is ~100x faster than SSD, SSD is ~10x faster than disk, and network calls can be orders of magnitude slower."," ",e.jsx("strong",{children:"Avoid unnecessary network hops and optimize data access patterns accordingly."})]})]})]})}),e.jsx("div",{className:"space-y-4 mb-8",children:t.map((r,d)=>e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg  ${r.color} flex items-center justify-center text-white`,children:r.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 text-sm",children:r.name}),e.jsx("div",{className:"text-xs text-slate-500",children:r.category})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold text-slate-900",children:o(r.ns)}),e.jsxs("div",{className:"text-xs text-slate-500 hidden group-hover:block",children:[r.ns.toLocaleString()," ns"]})]})]}),e.jsx("div",{className:"relative h-8 bg-slate-100 rounded-lg overflow-hidden",children:e.jsx("div",{className:`absolute inset-y-0 left-0  ${r.color} transition-all duration-500 flex items-center justify-end px-3`,style:{width:`${Math.max(c(r.ns),2)}%`},children:e.jsxs("span",{className:"text-xs font-semibold text-white drop-shadow opacity-0 group-hover:opacity-100 transition-opacity",children:[c(r.ns).toFixed(1),"%"]})})})]},d))}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-200",children:[e.jsxs("h4",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(ye,{className:"w-5 h-5 text-slate-600"}),"Quick Comparisons"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Memory vs Storage"}),e.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[e.jsx("li",{children:"â€¢ RAM: ~100 ns"}),e.jsx("li",{children:"â€¢ SSD: ~150,000 ns (1,500x slower)"}),e.jsx("li",{children:"â€¢ HDD: ~10,000,000 ns (100,000x slower)"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Local vs Network"}),e.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[e.jsx("li",{children:"â€¢ L1 cache: 0.5 ns"}),e.jsx("li",{children:"â€¢ Datacenter round trip: 500,000 ns"}),e.jsx("li",{children:"â€¢ Internet round trip: 150,000,000 ns"})]})]})]})]}),e.jsxs("div",{className:"mt-8 grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-5",children:[e.jsxs("div",{className:"font-bold text-green-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"âœ“"})," Do This"]}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[e.jsx("li",{children:"â€¢ Cache frequently accessed data"}),e.jsx("li",{children:"â€¢ Use in-memory databases for hot data"}),e.jsx("li",{children:"â€¢ Batch network requests"}),e.jsx("li",{children:"â€¢ Use CDNs for static content"})]})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-5",children:[e.jsxs("div",{className:"font-bold text-red-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"âœ—"})," Avoid This"]}),e.jsxs("ul",{className:"text-sm text-red-800 space-y-2",children:[e.jsx("li",{children:"â€¢ N+1 query problems"}),e.jsx("li",{children:"â€¢ Disk seeks in hot paths"}),e.jsx("li",{children:"â€¢ Chatty APIs (many small requests)"}),e.jsx("li",{children:"â€¢ Sequential network calls"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-5",children:[e.jsxs("div",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"âš¡"})," Pro Tips"]}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[e.jsx("li",{children:"â€¢ Read 1MB from memory = 1 disk seek"}),e.jsx("li",{children:"â€¢ SSD is 10-100x faster than HDD"}),e.jsx("li",{children:"â€¢ Network within datacenter is cheap"}),e.jsx("li",{children:"â€¢ Cross-region is expensive"})]})]})]})]})]})}function $a(){const[s,l]=x.useState("medium"),t={small:{title:"Small Scale",subtitle:"Startup / MVP",users:"1K - 10K DAU",color:"green",scenarios:[{name:"Blog / Personal Website",dau:5e3,requestsPerUser:10,avgRequestKB:50,writeRatio:10,metrics:null},{name:"Internal Tool",dau:1e3,requestsPerUser:50,avgRequestKB:20,writeRatio:30,metrics:null},{name:"Mobile App (Niche)",dau:1e4,requestsPerUser:30,avgRequestKB:15,writeRatio:20,metrics:null}]},medium:{title:"Medium Scale",subtitle:"Growing Startup",users:"100K - 1M DAU",color:"blue",scenarios:[{name:"Social Media App",dau:5e5,requestsPerUser:100,avgRequestKB:30,writeRatio:20,metrics:null},{name:"E-commerce Site",dau:2e5,requestsPerUser:40,avgRequestKB:100,writeRatio:15,metrics:null},{name:"SaaS Platform",dau:1e5,requestsPerUser:200,avgRequestKB:25,writeRatio:25,metrics:null}]},large:{title:"Large Scale",subtitle:"Established Company",users:"10M - 100M DAU",color:"purple",scenarios:[{name:"Video Platform",dau:5e7,requestsPerUser:50,avgRequestKB:500,writeRatio:10,metrics:null},{name:"Messaging App",dau:3e7,requestsPerUser:300,avgRequestKB:5,writeRatio:50,metrics:null},{name:"Search Engine",dau:8e7,requestsPerUser:30,avgRequestKB:50,writeRatio:5,metrics:null}]},massive:{title:"Massive Scale",subtitle:"Tech Giants",users:"1B+ DAU",color:"red",scenarios:[{name:"Social Network (Facebook)",dau:2e9,requestsPerUser:100,avgRequestKB:30,writeRatio:20,metrics:null},{name:"Video Streaming (YouTube)",dau:15e8,requestsPerUser:40,avgRequestKB:1e3,writeRatio:5,metrics:null},{name:"Messaging (WhatsApp)",dau:18e8,requestsPerUser:200,avgRequestKB:2,writeRatio:50,metrics:null}]}},o=i=>{const n=i.dau*i.requestsPerUser,m=Math.round(n/86400),p=Math.round(m*2.5),g=Math.round(m*i.writeRatio/100),h=m-g,C=n*i.avgRequestKB/(1024*1024),S=C*30,V=C*365/1024,D=Math.round(m*i.avgRequestKB*8/1024),ee=Math.round(p*i.avgRequestKB*8/1024);return{qps:m,peakQps:p,readQps:h,writeQps:g,dailyDataGB:C,monthlyDataGB:S,yearlyDataTB:V,bandwidthMbps:D,peakBandwidthMbps:ee}},a=t[s],c=a.scenarios.map(i=>({...i,metrics:o(i)})),r=i=>i>=1e6?`${(i/1e6).toFixed(2)}M`:i>=1e3?`${(i/1e3).toFixed(2)}K`:i.toFixed(2),d=i=>i>=1024?`${(i/1024).toFixed(2)} TB`:`${i.toFixed(2)} GB`;return e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-3xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:" px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 backdrop-blur-sm flex items-center justify-center",children:e.jsx(Fe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Numbers at Scale"}),e.jsx("p",{className:"text-sm mt-1",children:"Real-world system metrics across different scales"})]})]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Select Scale:"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(t).map(([i,n])=>e.jsxs("button",{onClick:()=>l(i),className:`p-4 rounded-xl border-2 text-center transition-all ${s===i?`border-${n.color}-500 bg-${n.color}-50`:"border-slate-200 bg-white hover:border-slate-300"}`,children:[e.jsx("div",{className:`font-bold text-lg mb-1 ${s===i?`text-${n.color}-900`:"text-slate-900"}`,children:n.title}),e.jsx("div",{className:"text-xs text-slate-500 mb-2",children:n.subtitle}),e.jsx("div",{className:`text-xs font-semibold ${s===i?`text-${n.color}-700`:"text-slate-600"}`,children:n.users})]},i))})]}),e.jsxs("div",{className:`bg-${a.color}-50 border border-${a.color}-200 rounded-2xl p-6 mb-8`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(we,{className:`w-6 h-6 text-${a.color}-600`}),e.jsxs("h4",{className:`font-bold text-${a.color}-900 text-lg`,children:[a.title," - Typical Characteristics"]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-slate-200",children:[e.jsx("div",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wider mb-1",children:"User Base"}),e.jsx("div",{className:`text-xl font-bold text-${a.color}-600`,children:a.users})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-slate-200",children:[e.jsx("div",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wider mb-1",children:"Infrastructure"}),e.jsxs("div",{className:"text-sm text-slate-700",children:[s==="small"&&"1-5 servers, Single DB",s==="medium"&&"10-100 servers, Replicated DB",s==="large"&&"100-1000s servers, Sharded DB",s==="massive"&&"10,000+ servers, Distributed"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-slate-200",children:[e.jsx("div",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wider mb-1",children:"Team Size"}),e.jsxs("div",{className:"text-sm text-slate-700",children:[s==="small"&&"1-5 engineers",s==="medium"&&"10-50 engineers",s==="large"&&"50-500 engineers",s==="massive"&&"500+ engineers"]})]})]})]}),e.jsx("div",{className:"space-y-6",children:c.map((i,n)=>e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h5",{className:"font-bold text-slate-900 text-lg",children:i.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"text-slate-600",children:[e.jsx("span",{className:"font-semibold",children:r(i.dau)})," ","DAU"]}),e.jsxs("div",{className:"text-slate-600",children:[e.jsx("span",{className:"font-semibold",children:i.requestsPerUser})," ","req/user"]})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ye,{className:"w-4 h-4 text-blue-600"}),e.jsx("div",{className:"text-xs font-semibold text-blue-900 uppercase tracking-wider",children:"Avg QPS"})]}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r(i.metrics.qps)}),e.jsxs("div",{className:"text-xs text-blue-700 mt-1",children:["Peak: ",r(i.metrics.peakQps)]})]}),e.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border border-green-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-green-600"}),e.jsx("div",{className:"text-xs font-semibold text-green-900 uppercase tracking-wider",children:"Read QPS"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r(i.metrics.readQps)}),e.jsxs("div",{className:"text-xs text-green-700 mt-1",children:[100-i.writeRatio,"% of traffic"]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(K,{className:"w-4 h-4 text-purple-600"}),e.jsx("div",{className:"text-xs font-semibold text-purple-900 uppercase tracking-wider",children:"Write QPS"})]}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r(i.metrics.writeQps)}),e.jsxs("div",{className:"text-xs text-purple-700 mt-1",children:[i.writeRatio,"% of traffic"]})]}),e.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(zs,{className:"w-4 h-4 text-orange-600"}),e.jsx("div",{className:"text-xs font-semibold text-orange-900 uppercase tracking-wider",children:"Bandwidth"})]}),e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:i.metrics.bandwidthMbps}),e.jsx("div",{className:"text-xs text-orange-700 mt-1",children:"Mbps (avg)"})]}),e.jsxs("div",{className:"bg-indigo-50 rounded-xl p-4 border border-indigo-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(K,{className:"w-4 h-4 text-indigo-600"}),e.jsx("div",{className:"text-xs font-semibold text-indigo-900 uppercase tracking-wider",children:"Daily Data"})]}),e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:i.metrics.dailyDataGB<1e3?i.metrics.dailyDataGB.toFixed(0):(i.metrics.dailyDataGB/1024).toFixed(1)}),e.jsxs("div",{className:"text-xs text-indigo-700 mt-1",children:[i.metrics.dailyDataGB<1e3?"GB":"TB"," per day"]})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-3 text-sm",children:"Storage Requirements"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Daily"}),e.jsx("div",{className:"font-bold text-slate-900",children:d(i.metrics.dailyDataGB)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Monthly"}),e.jsx("div",{className:"font-bold text-slate-900",children:d(i.metrics.monthlyDataGB)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Yearly"}),e.jsxs("div",{className:"font-bold text-slate-900",children:[i.metrics.yearlyDataTB.toFixed(2)," TB"]})]})]})]})]})]},n))}),e.jsxs("div",{className:"mt-8 grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6",children:[e.jsxs("h4",{className:"font-bold text-blue-900 mb-4 flex items-center gap-2",children:[e.jsx(Fe,{className:"w-5 h-5"}),"Scaling Insights"]}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[e.jsx("li",{children:"â€¢ QPS = (DAU Ã— Requests/User) Ã· 86,400 seconds"}),e.jsx("li",{children:"â€¢ Peak traffic is typically 2-3x average"}),e.jsx("li",{children:"â€¢ Read-heavy systems need caching layers"}),e.jsx("li",{children:"â€¢ Write-heavy systems need write optimization"})]})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-2xl p-6",children:[e.jsxs("h4",{className:"font-bold text-purple-900 mb-4 flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5"}),"Storage Planning"]}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-2",children:[e.jsx("li",{children:"â€¢ Plan for 2-3x growth in first year"}),e.jsx("li",{children:"â€¢ Keep 3-6 months of hot data in fast storage"}),e.jsx("li",{children:"â€¢ Archive older data to cheaper storage"}),e.jsx("li",{children:"â€¢ Factor in replication (3x for safety)"})]})]})]})]})]})}function Ka({className:s}){const[l,t]=x.useState("horizontal"),[o,a]=x.useState(3);return e.jsxs("div",{className:`bg-white rounded-2xl border-2 border-orange-200 p-6 shadow-xl hover:shadow-2xl transition-all duration-300 ${s||""}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b-2 border-orange-100",children:[e.jsx("div",{className:"text-3xl",children:"ðŸ“Š"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-2xl font-bold  from-orange-600 to-amber-600 bg-clip-text text-transparent",children:"Vertical vs Horizontal Scaling"}),e.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Visualize options and trade-offs"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center mb-6 bg-slate-50 rounded-xl p-3",children:[e.jsxs("div",{className:"flex w-full sm:w-auto gap-3",children:[e.jsx("button",{onClick:()=>t("vertical"),className:`flex-1 sm:flex-none w-full sm:w-auto px-6 py-3 rounded-xl font-semibold transition-all duration-300 ${l==="vertical"?" from-orange-500 to-amber-500 shadow-lg scale-105":"bg-white text-slate-700 hover:bg-slate-100 hover:scale-102"}`,children:"â¬†ï¸ Vertical"}),e.jsx("button",{onClick:()=>t("horizontal"),className:`flex-1 sm:flex-none w-full sm:w-auto px-6 py-3 rounded-xl font-semibold transition-all duration-300 ${l==="horizontal"?" from-orange-500 to-amber-500  shadow-lg scale-105":"bg-white text-slate-700 hover:bg-slate-100 hover:scale-102"}`,children:"âž¡ï¸ Horizontal"})]}),l==="horizontal"&&e.jsxs("div",{className:"mt-3 sm:mt-0 sm:ml-auto flex items-center gap-3 bg-white rounded-lg px-3 py-2 border border-orange-100 w-full sm:w-auto min-w-0",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700 mr-2",children:"Nodes:"}),e.jsx("input",{type:"range",min:1,max:50,value:o,onChange:c=>a(Number(c.target.value)),className:"accent-orange-500 flex-1 min-w-0"}),e.jsx("div",{className:"text-sm font-bold text-orange-600 min-w-[2rem] text-right",children:o})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-start gap-6",children:[l==="vertical"?e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-4 p-6  from-orange-50 to-amber-50 rounded-xl border-2 border-orange-200",children:[e.jsxs("div",{className:"w-48 h-48 rounded-2xl border-4 border-orange-300 flex flex-col items-center justify-center  from-orange-100 to-white shadow-lg",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ–¥ï¸"}),e.jsx("div",{className:"text-slate-900 font-bold text-lg",children:"Bigger Server"}),e.jsx("div",{className:"text-xs text-slate-600 mt-2",children:"More CPU, RAM, Network"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"â¬†ï¸ Upgrade CPU, RAM, Network"}),e.jsx("div",{className:"bg-white rounded-lg p-3 border border-orange-100 shadow-inner",children:e.jsxs("div",{className:"text-xs text-slate-600",children:[e.jsx("span",{className:"font-semibold text-orange-700",children:"âš–ï¸ Trade-offs:"})," ","Single point of failure, limited capacity growth, simpler ops"]})})]})]}):e.jsxs("div",{className:"flex-1 min-w-0 p-6  from-orange-50 to-amber-50 rounded-xl border-2 border-orange-200",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 justify-center mb-4 w-full",children:[Array.from({length:Math.min(o,12)}).map((c,r)=>e.jsxs("div",{className:"w-20 h-20 rounded-lg border-2 border-orange-300  from-white to-orange-50 flex flex-col items-center justify-center shadow-md hover:scale-105 transition-transform duration-200 shrink-0",children:[e.jsx("div",{className:"text-xl",children:"ðŸ“¦"}),e.jsxs("div",{className:"text-xs font-semibold text-slate-600",children:["S",r+1]})]},r)),o>12&&e.jsx("div",{className:"w-20 h-20 rounded-lg border-2 border-dashed border-orange-300 bg-white/50 flex items-center justify-center",children:e.jsxs("div",{className:"text-sm text-slate-500",children:["+",o-12]})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"âž¡ï¸ Distribute load across many small instances"}),e.jsx("div",{className:"bg-white rounded-lg p-3 border border-orange-100 shadow-inner",children:e.jsxs("div",{className:"text-xs text-slate-600",children:[e.jsx("span",{className:"font-semibold text-orange-700",children:"âš–ï¸ Trade-offs:"})," ","More engineering for state & coordination, better fault tolerance."]})})]})]}),e.jsxs("div",{className:"w-full lg:w-56 p-4 min-w-0 from-orange-50 to-amber-50 border-2 border-orange-200 rounded-xl shadow-inner",children:[e.jsx("div",{className:"font-bold text-orange-900 mb-3 text-base",children:"ðŸŽ¯ When to choose:"}),l==="vertical"?e.jsxs("ul",{className:"text-sm list-none space-y-2 text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-orange-500 font-bold",children:"â€¢"}),e.jsx("span",{children:"Small-scale projects"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-orange-500 font-bold",children:"â€¢"}),e.jsx("span",{children:"Stateful legacy systems"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-orange-500 font-bold",children:"â€¢"}),e.jsx("span",{children:"Fewer moving parts to manage"})]})]}):e.jsxs("ul",{className:"text-sm list-none space-y-2 text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-orange-500 font-bold",children:"â€¢"}),e.jsx("span",{children:"High throughput requirements"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-orange-500 font-bold",children:"â€¢"}),e.jsx("span",{children:"Highly-available distributed systems"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-orange-500 font-bold",children:"â€¢"}),e.jsx("span",{children:"Microservices & cloud-native apps"})]})]})]})]})]})}function Va(){const s=le(),l=x.useRef([]);return x.useEffect(()=>{const t=new IntersectionObserver(o=>{o.forEach(a=>{a.isIntersecting&&(a.target.classList.add("opacity-100","translate-y-0"),a.target.classList.remove("opacity-0","translate-y-8"))})},{threshold:.1,rootMargin:"0px 0px -100px 0px"});return l.current.forEach(o=>{o&&t.observe(o)}),()=>t.disconnect()},[]),e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsxs("section",{className:"relative bg-white py-20 md:py-32 overflow-hidden border-b border-slate-200",children:[e.jsxs("div",{className:"absolute inset-0 z-0 opacity-30",children:[e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-100 rounded-full blur-3xl translate-x-1/2 -translate-y-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-indigo-100 rounded-full blur-3xl -translate-x-1/2 translate-y-1/2"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"})]}),e.jsx("div",{className:"container-custom relative z-10",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-blue-50 border border-blue-100 mb-6 shadow-sm",children:e.jsx("span",{className:"text-sm font-bold text-blue-700 uppercase tracking-widest",children:"Module 1"})}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-slate-900 mb-8 leading-tight tracking-tight",children:["Foundations & ",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text  from-blue-600 to-indigo-600",children:"Back-of-Envelope"})]}),e.jsx("p",{className:"text-xl md:text-2xl text-slate-600 mb-10 mx-auto leading-relaxed",children:"Master the essential principles of system design through deep-dive explanations, real-world examples, and hands-on interactive demonstrations."}),e.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:e.jsxs("button",{onClick:()=>s("/"),className:"group px-6 py-3 bg-white text-slate-700 font-bold rounded-xl border border-slate-200 shadow-sm hover:bg-slate-50 hover:border-slate-300 transition-all flex items-center gap-2",children:[e.jsx(Lt,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),"Back to Home"]})})]})})]}),e.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-7xl",children:[e.jsxs("section",{ref:t=>l.current[0]=t,className:"transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12 text-center md:text-left",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 text-emerald-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"01"})}),"START HERE"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"What is System Design?"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"If you're new to system design, start here. This section explains the fundamentals in simple termsâ€”no prior experience needed."})]}),e.jsx("div",{className:"bg-white border text-left border-slate-200 rounded-3xl p-8 md:p-12 mb-12 shadow-xl shadow-slate-200/50",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-emerald-100 text-emerald-600 flex items-center justify-center flex-shrink-0",children:e.jsx(Ds,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-4",children:"System Design in Simple Terms"}),e.jsxs("p",{className:"text-lg text-slate-600 leading-relaxed mb-6",children:["Imagine you're building a house. You don't just start hammering nails randomlyâ€”you need a ",e.jsx("strong",{children:"blueprint"}),". System design is like creating that blueprint, but for software applications."]}),e.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("p",{className:"text-lg text-slate-700 leading-relaxed mb-4 font-medium",children:"It answers questions like:"}),e.jsx("ul",{className:"space-y-3",children:["How should we structure our application so it can handle millions of users?","Where should we store data, and how should we organize it?","How do different parts of the system communicate with each other?","What happens when something breaks? How do we keep things running?","How do we make sure the system is fast, secure, and reliable?"].map((t,o)=>e.jsxs("li",{className:"text-slate-600 flex items-start gap-3",children:[e.jsx(N,{className:"w-5 h-5 text-emerald-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:t})]},o))})]})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"bg-white border border-blue-200 rounded-3xl p-8 shadow-sm hover:shadow-xl transition-shadow duration-300",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 text-blue-600 flex items-center justify-center mb-6",children:e.jsx(Mt,{className:"w-6 h-6"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Think of a Restaurant"}),e.jsxs("p",{className:"text-slate-600 leading-relaxed mb-6",children:["A restaurant is a ",e.jsx("strong",{children:"system"}),". It has:"]}),e.jsx("ul",{className:"space-y-4 mb-8",children:[{icon:e.jsx(we,{className:"w-5 h-5 text-blue-500"}),label:"Customers",desc:"(like users of your app)"},{icon:e.jsx(Ot,{className:"w-5 h-5 text-indigo-500"}),label:"Menu",desc:"(like your app's features/API)"},{icon:e.jsx(Bt,{className:"w-5 h-5 text-orange-500"}),label:"Kitchen",desc:"(Server handling requests)"},{icon:e.jsx(qt,{className:"w-5 h-5 text-amber-500"}),label:"Storage/Fridge",desc:"(your database)"},{icon:e.jsx(Ut,{className:"w-5 h-5 text-green-500"}),label:"Suppliers",desc:"(external services/APIs)"},{icon:e.jsx(Ft,{className:"w-5 h-5 text-slate-500"}),label:"Processes",desc:"(workflows)"}].map((t,o)=>e.jsxs("li",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center",children:t.icon}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-slate-900",children:t.label}),e.jsx("span",{className:"text-slate-500 text-sm ml-2",children:t.desc})]})]},o))}),e.jsx("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:e.jsxs("p",{className:"text-sm text-blue-800 leading-relaxed font-medium",children:[e.jsx("strong",{children:"System design"})," is deciding: How many chefs do we need? How do we organize the kitchen? What if 1000 customers show up at once? What if the fridge breaks?"]})})]}),e.jsxs("div",{className:"bg-white border border-purple-200 rounded-3xl p-8 shadow-sm hover:shadow-xl transition-shadow duration-300",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 text-purple-600 flex items-center justify-center mb-6",children:e.jsx(Ht,{className:"w-6 h-6"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Real Software Example: Instagram"}),e.jsx("p",{className:"text-slate-600 leading-relaxed mb-6",children:"When you post a photo on Instagram, here's what happens behind the scenes:"}),e.jsxs("div",{className:"space-y-6 relative mb-8",children:[e.jsx("div",{className:"absolute left-4 top-4 bottom-4 w-0.5 bg-slate-100"}),[{step:"1",title:"Upload",desc:"Your photo is sent to Instagram's servers via the internet"},{step:"2",title:"Processing",desc:"Servers compress & optimize the image, create multiple sizes (thumbnail, full-size)"},{step:"3",title:"Storage",desc:"Images saved to cloud storage (e.g., AWS S3). Post metadata saved to database"},{step:"4",title:"Distribution",desc:"Notification sent to your followers. Post added to their feeds"},{step:"5",title:"Retrieval",desc:"When followers open the app, they fetch the post from nearby servers (CDN)"}].map((t,o)=>e.jsxs("div",{className:"relative flex items-start gap-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center font-bold text-sm shadow ring-4 ring-white z-10 flex-shrink-0",children:t.step}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900 mb-1",children:t.title}),e.jsx("div",{className:"text-sm text-slate-500 leading-snug",children:t.desc})]})]},o))]}),e.jsx("div",{className:"p-4 bg-purple-50 rounded-xl border border-purple-100",children:e.jsxs("p",{className:"text-sm text-purple-800 leading-relaxed font-medium",children:[e.jsx("strong",{children:"System design"})," planned all of this: where to store images, how to handle millions of uploads per day, how to make loading fast worldwide."]})})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-8 md:p-12 text-slate-900 mb-12 shadow-lg",children:[e.jsxs("h3",{className:"text-3xl font-bold mb-8 flex items-center gap-3",children:[e.jsx(os,{className:"w-8 h-8 text-blue-400"}),"Why Should You Learn System Design?"]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[{icon:us,color:"text-blue-400",title:"Career Growth",desc:"System design interviews are required for senior engineer roles at top tech companies (Google, Amazon, Meta, Netflix, etc.)"},{icon:Ls,color:"text-purple-400",title:"Better Decision Making",desc:"You'll understand why your team makes certain architectural choices and contribute to technical discussions"},{icon:Ds,color:"text-green-400",title:"Build Scalable Apps",desc:"Learn to create applications that don't crash when traffic increasesâ€”crucial for real-world projects"},{icon:ie,color:"text-pink-400",title:"Understand the Internet",desc:"Finally understand how your favorite apps (YouTube, Twitter, WhatsApp) actually work under the hood"}].map((t,o)=>e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-colors",children:[e.jsx("div",{className:`mb-4 p-3 bg-white/10 rounded-xl w-fit ${t.color}`,children:e.jsx(t.icon,{className:"w-6 h-6"})}),e.jsx("div",{className:"font-bold text-xl mb-2 text-slate-900",children:t.title}),e.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:t.desc})]},o))})]}),e.jsxs("div",{className:" from-indigo-50 to-blue-50 border border-indigo-100 rounded-3xl p-8 md:p-12",children:[e.jsxs("h3",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3",children:[e.jsx(Wt,{className:"w-7 h-7 text-indigo-600"}),"Your Learning Journey"]}),e.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed max-w-3xl",children:"System design can feel overwhelming at first, but break it down into steps:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[{phase:"Phase 1",title:"Learn the Basics",items:["Understand key concepts (client, server, database, API)","Learn about scalability, latency, throughput","Study common patterns (caching, load balancing)"],duration:"1-2 weeks"},{phase:"Phase 2",title:"Study Components",items:["Databases (SQL vs NoSQL)","Caching strategies (Redis, Memcached)","Message queues (RabbitMQ, Kafka)","Storage (object storage, file systems)"],duration:"2-3 weeks"},{phase:"Phase 3",title:"Practice Designs",items:["Design simple systems (URL shortener, pastebin)","Progress to medium systems (Twitter, Instagram)","Try complex systems (YouTube, Uber, Netflix)"],duration:"4-8 weeks"},{phase:"Phase 4",title:"Real-World Application",items:["Build a project applying what you learned","Read about real system architectures (engineering blogs)","Practice mock interviews"],duration:"Ongoing"}].map((t,o)=>e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold text-indigo-600 uppercase tracking-wider",children:t.phase}),e.jsx("h4",{className:"text-lg font-bold text-slate-900 mt-1",children:t.title})]}),e.jsx("span",{className:"text-xs font-bold text-indigo-600 bg-indigo-50 px-3 py-1.5 rounded-full border border-indigo-100",children:t.duration})]}),e.jsx("ul",{className:"space-y-3",children:t.items.map((a,c)=>e.jsxs("li",{className:"text-sm text-slate-600 flex items-start gap-3",children:[e.jsx(N,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:a})]},c))})]},o))})]})]}),e.jsxs("section",{ref:t=>l.current[1]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-blue-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"02"})}),"SYSTEM DESIGN FUNDAMENTALS"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Interview Flow & Requirements"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"The systematic approach to tackling any system design problem. Learn how to structure interviews, gather requirements, and map use cases to technical solutions."})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-3xl p-8 mb-12",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"bg-amber-100 p-3 rounded-xl",children:e.jsx(z,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-amber-900 mb-3",children:"Why This Matters"}),e.jsx("p",{className:"text-lg text-amber-900/80 leading-relaxed",children:"Most system design failures happen not because of poor technical choices, but because requirements weren't properly understood. A structured approach to gathering requirements is the difference between building the right system and building the system right."})]})]})}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl shadow-xl overflow-hidden mb-12",children:[e.jsx("div",{className:"bg-slate-900 px-8 py-6",children:e.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[e.jsx(os,{className:"w-7 h-7 text-green-400"}),"The 5-Step System Design Interview Framework"]})}),e.jsx("div",{className:"p-8 md:p-12 space-y-12",children:[{step:"1",title:"Clarify Requirements & Scope",duration:"5-10 minutes",description:"Ask clarifying questions to understand what you're building. Never assume!",questions:["Who are the users? (mobile, web, both?)","What are the core features? (read-heavy, write-heavy?)","What's the scale? (DAU, QPS, data size?)","Any specific constraints? (latency requirements, consistency needs?)"],example:"For a URL shortener: Are we tracking analytics? Do short URLs expire? Mobile or web?"},{step:"2",title:"Functional vs Non-Functional",duration:"5 minutes",description:"Separate what the system does from how well it does it.",functional:["User can shorten URLs","User can access original URL via short link","URLs have custom aliases (optional)","URLs can expire after time period"],nonFunctional:["99.9% availability (high availability)","Low latency: < 100ms redirect","100M URLs created per day","10B redirects per day"]},{step:"3",title:"Back-of-Envelope Estimation",duration:"5-10 minutes",description:"Calculate traffic, storage, bandwidth needs. Show you can estimate scale.",calculations:["QPS = 100M writes/day Ã· 86400 = ~1,160 writes/sec","Read QPS = 10B reads/day Ã· 86400 = ~115,740 reads/sec","Storage = 100M URLs Ã— 0.5KB Ã— 365 days Ã— 5 years = 9TB","Bandwidth = 115K requests/sec Ã— 0.5KB = 57.5 MB/sec"]},{step:"4",title:"High-Level Design",duration:"10-15 minutes",description:"Draw boxes and arrows. Cover core components and data flow.",components:["API Gateway / Load Balancer","Application Servers (stateless)","Database (SQL or NoSQL?)","Cache Layer (Redis, Memcached)","CDN (for static content)"]},{step:"5",title:"Deep Dive & Trade-offs",duration:"15-20 minutes",description:"Pick 2-3 areas to discuss in detail. Show depth of knowledge.",topics:["Database schema design & indexing","Caching strategy (cache-aside, write-through)","Scaling approach (vertical vs horizontal)","Handling hot keys / celebrity problem","Monitoring, alerting, and error handling"]}].map((t,o)=>e.jsxs("div",{className:"relative pl-12 md:pl-16 border-l-2 border-slate-200",children:[e.jsx("div",{className:"absolute -left-[17px] top-0 w-9 h-9 rounded-xl bg-blue-600 text-black flex items-center justify-center font-bold shadow-lg ring-4 ring-white",children:t.step}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 mb-2",children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900",children:t.title}),e.jsx("span",{className:"text-xs font-bold text-slate-500 bg-slate-100 px-3 py-1.5 rounded-full border border-slate-200",children:t.duration})]}),e.jsx("p",{className:"text-slate-600 text-lg leading-relaxed",children:t.description})]}),e.jsxs("div",{className:"grid gap-4",children:[t.questions&&e.jsxs("div",{className:"bg-blue-50 rounded-2xl p-6 border border-blue-100",children:[e.jsxs("div",{className:"font-bold text-blue-900 mb-4 flex items-center gap-2",children:[e.jsx(Ls,{className:"w-5 h-5"})," Key Questions to Ask:"]}),e.jsx("ul",{className:"space-y-2",children:t.questions.map((a,c)=>e.jsxs("li",{className:"text-blue-900/80 flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:"â€¢"}),e.jsx("span",{children:a})]},c))})]}),t.functional&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-50 rounded-2xl p-6 border border-green-100",children:[e.jsxs("div",{className:"font-bold text-green-900 mb-4 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"})," Functional"]}),e.jsx("ul",{className:"space-y-2",children:t.functional.map((a,c)=>e.jsxs("li",{className:"text-green-900/80 text-sm",children:["â€¢ ",a]},c))})]}),e.jsxs("div",{className:"bg-purple-50 rounded-2xl p-6 border border-purple-100",children:[e.jsxs("div",{className:"font-bold text-purple-900 mb-4 flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5"})," Non-Functional"]}),e.jsx("ul",{className:"space-y-2",children:t.nonFunctional.map((a,c)=>e.jsxs("li",{className:"text-purple-900/80 text-sm",children:["â€¢ ",a]},c))})]})]}),t.calculations&&e.jsx("div",{className:"bg-slate-900 rounded-2xl p-6 font-mono text-sm text-green-400 border border-slate-800 shadow-inner",children:t.calculations.map((a,c)=>e.jsxs("div",{className:"mb-2 flex gap-2",children:[e.jsx("span",{className:"opacity-50",children:"âžœ"})," ",a]},c))}),t.components&&e.jsx("div",{className:"flex flex-wrap gap-2",children:t.components.map((a,c)=>e.jsx("span",{className:"bg-white border border-slate-200 text-slate-700 px-4 py-2 rounded-lg text-sm font-semibold shadow-sm",children:a},c))}),t.topics&&e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:t.topics.map((a,c)=>e.jsx("div",{className:"bg-slate-50 rounded-lg px-4 py-3 text-sm font-medium text-slate-700 border border-slate-200 hover:border-slate-300 transition-colors",children:a},c))}),t.example&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-5 rounded-xl flex gap-3",children:[e.jsx("div",{className:"font-bold text-amber-700 text-sm whitespace-nowrap",children:"Example:"}),e.jsx("div",{className:"text-sm text-amber-900/80",children:t.example})]})]})]},o))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"bg-white border border-green-200 rounded-3xl p-8 shadow-sm hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center text-green-600",children:e.jsx(N,{className:"w-6 h-6"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Functional"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"What It Means:"}),e.jsxs("p",{className:"text-slate-600 leading-relaxed",children:["What the system ",e.jsx("strong",{children:"does"}),". The features and capabilities users interact with directly."]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Examples:"}),e.jsx("ul",{className:"space-y-3",children:["User stories: 'As a user, I want to...'","Actions: create, read, update, delete","Business logic and workflows","API endpoints and their inputs/outputs"].map((t,o)=>e.jsxs("li",{className:"flex items-start gap-3 text-slate-600 text-sm",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 mt-1.5 flex-shrink-0"}),e.jsx("span",{children:t})]},o))})]})]})]}),e.jsxs("div",{className:"bg-white border border-purple-200 rounded-3xl p-8 shadow-sm hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center text-purple-600",children:e.jsx(z,{className:"w-6 h-6"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Non-Functional"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"What It Means:"}),e.jsxs("p",{className:"text-slate-600 leading-relaxed",children:["How ",e.jsx("strong",{children:"well"})," the system does it. Quality attributes and constraints."]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Key Categories:"}),e.jsx("ul",{className:"space-y-3",children:["Performance: latency, throughput, response time","Scalability: handle growth in users/data","Reliability: availability, fault tolerance","Security: authentication, authorization, encryption"].map((t,o)=>e.jsxs("li",{className:"flex items-start gap-3 text-slate-600 text-sm",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500 mt-1.5 flex-shrink-0"}),e.jsx("span",{children:t})]},o))})]})]})]})]}),e.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 md:p-12 border border-slate-800 shadow-inner mb-12",children:[e.jsxs("h3",{className:"text-3xl font-bold mb-8 flex items-center gap-3",children:[e.jsx(_s,{className:"w-8 h-8 text-yellow-400"}),"The Trade-offs Mindset"]}),e.jsx("p",{className:"text-lg mb-8 leading-relaxed max-w-3xl",children:"There are no perfect solutions in system designâ€”only trade-offs. Every decision has costs and benefits."}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{trade:"Consistency vs Availability",desc:"Strong consistency = wait for all nodes (slower). Eventual consistency = faster but stale reads.",when:"Use strong for financial data, eventual for social feeds."},{trade:"Latency vs Throughput",desc:"Optimize for fast individual requests OR high volume. Batching increases throughput but latency.",when:"Real-time apps need low latency. Analytics can batch."},{trade:"Cost vs Performance",desc:"More servers = better performance but higher cost. Caching reduces DB load but adds complexity.",when:"Startups optimize for cost. Scale-ups optimize for growth."}].map((t,o)=>e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/10 rounded-2xl p-6 hover:bg-white/15 transition-colors",children:[e.jsx("div",{className:"font-bold text-yellow-400 text-lg mb-3",children:t.trade}),e.jsx("p",{className:"text-sm mb-4 leading-relaxed",children:t.desc}),e.jsxs("div",{className:"text-xs border-t border-white/10 pt-3",children:[e.jsx("span",{className:"uppercase font-bold opacity-70",children:"When to choose:"})," ",e.jsx("br",{}),t.when]})]},o))})]})]}),e.jsxs("section",{ref:t=>l.current[2]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-indigo-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 text-indigo-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"03"})}),"CRITICAL DISTINCTIONS"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Performance vs Scalability"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"These are the most commonly confused concepts in system design. Understanding the differences is fundamental to making the right architectural decisions."})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"bg-white border border-blue-200 rounded-3xl p-8 shadow-sm hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-blue-100 text-blue-600 flex items-center justify-center shadow-sm",children:e.jsx(z,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900",children:"Performance"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Speed of execution"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-slate-600 leading-relaxed",children:["How ",e.jsx("strong",{children:"fast"})," your system responds to a"," ",e.jsx("strong",{children:"single request"}),". It's about minimizing response time and maximizing efficiency."]})}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wider",children:"Key Metrics"}),e.jsx("ul",{className:"space-y-3",children:[{metric:"Response Time",value:"Time to complete one request",ex:"50ms API response"},{metric:"Latency",value:"Delay before operation starts",ex:"10ms network latency"},{metric:"Throughput",value:"Operations per second",ex:"1000 req/sec"}].map((t,o)=>e.jsxs("li",{className:"text-sm",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"font-bold text-slate-700",children:t.metric}),e.jsx("span",{className:"text-slate-500",children:t.value})]}),e.jsx("div",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded w-fit",children:t.ex})]},o))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wider",children:"Optimization Techniques"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Caching","DB Indexing","CDN","Code Optimization"].map((t,o)=>e.jsx("span",{className:"bg-white border border-slate-200 text-slate-600 px-3 py-1.5 rounded-lg text-sm font-medium",children:t},o))})]})]})]}),e.jsxs("div",{className:"bg-white border border-purple-200 rounded-3xl p-8 shadow-sm hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-purple-100 text-purple-600 flex items-center justify-center shadow-sm",children:e.jsx(Fe,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900",children:"Scalability"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Growth handling"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-slate-600 leading-relaxed",children:["How well your system ",e.jsx("strong",{children:"maintains performance"})," ","as ",e.jsx("strong",{children:"load increases"}),". It's about handling more users and data without degradation."]})}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wider",children:"Key Metrics"}),e.jsx("ul",{className:"space-y-3",children:[{metric:"User Growth",value:"10K â†’ 10M users",ex:"Response time stays ~same"},{metric:"Data Growth",value:"1GB â†’ 1TB storage",ex:"Query speed maintained"},{metric:"Traffic Growth",value:"100 â†’ 100K QPS",ex:"System stays stable"}].map((t,o)=>e.jsxs("li",{className:"text-sm",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"font-bold text-slate-700",children:t.metric}),e.jsx("span",{className:"text-slate-500",children:t.value})]}),e.jsx("div",{className:"text-xs text-purple-600 bg-purple-50 px-2 py-1 rounded w-fit",children:t.ex})]},o))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wider",children:"Scaling Techniques"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Horizontal Scaling","Load Balancing","Sharding","Microservices"].map((t,o)=>e.jsx("span",{className:"bg-white border border-slate-200 text-slate-600 px-3 py-1.5 rounded-lg text-sm font-medium",children:t},o))})]})]})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-3xl p-8 mb-12",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"bg-amber-100 p-3 rounded-xl",children:e.jsx(os,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-amber-900 mb-3",children:"The Critical Insight"}),e.jsxs("p",{className:"text-lg text-amber-900/80 mb-6 leading-relaxed",children:["A system can be"," ",e.jsx("strong",{className:"text-amber-950",children:"performant but not scalable"}),", or"," ",e.jsx("strong",{className:"text-amber-950",children:"scalable but not performant"}),":"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-amber-100 shadow-sm",children:[e.jsxs("div",{className:"font-bold text-red-600 mb-2 flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4"})," Performant, Not Scalable"]}),e.jsx("p",{className:"text-sm text-slate-600",children:"Single powerful server responds in 10ms to 100 users, but smashes into a wall and crashes at 10,000 users."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-amber-100 shadow-sm",children:[e.jsxs("div",{className:"font-bold text-red-600 mb-2 flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4"})," Scalable, Not Performant"]}),e.jsx("p",{className:"text-sm text-slate-600",children:"System handles 1M users easily but every request takes 5 seconds due to poor code or too many network hops."})]})]})]})]})})]}),e.jsxs("section",{ref:t=>l.current[3]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-amber-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-100 text-amber-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"04"})}),"DATA CONSISTENCY"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"CAP Theorem"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Selecting the right consistency model is fundamental. The CAP lens helps you categorize choices and explain trade-offs to stakeholders."})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:[e.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-lg overflow-hidden",children:e.jsx(Ga,{})}),e.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 p-8 shadow-sm",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"Strategic Application"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-700 mb-2",children:"Why it matters"}),e.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"To match a database to the business requirements. Do you need absolute truth (Consistency) or 'always on' (Availability)?"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-700 mb-2",children:"Real-world examples"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"font-bold text-blue-600",children:"CP (Consistency):"})," ","Banking, Inventory. You can't sell what you don't have."]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"font-bold text-green-600",children:"AP (Availability):"})," ","Social feeds, Likes. It's okay if a like shows up 2 seconds later."]})]})]})]})]})]})]}),e.jsxs("section",{ref:t=>l.current[4]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-indigo-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 text-indigo-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"05"})}),"SCALING MODELS"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Vertical vs Horizontal Scaling"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Understand the trade-offs and how to choose the right approach for your service's lifecycle."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-lg p-2",children:e.jsx(Ka,{})}),e.jsx("div",{className:"flex flex-col gap-6",children:e.jsxs("div",{className:"bg-white p-8 border border-slate-200 rounded-3xl shadow-sm h-full",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6 text-slate-900",children:"Decision Framework"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center flex-shrink-0",children:e.jsx($s,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900",children:"Vertical (Scale Up)"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Easiest to start. Use for prototypes, internal tools, or DBs that are hard to shard."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 text-purple-600 flex items-center justify-center flex-shrink-0",children:e.jsx(ys,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900",children:"Horizontal (Scale Out)"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Required for massive scale. Use for stateless app servers and distributed DBs."})]})]})]})]})})]})]}),e.jsxs("section",{ref:t=>l.current[5]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-yellow-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-yellow-100 text-yellow-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"06"})}),"ESSENTIAL KNOWLEDGE"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Latency Numbers & Performance"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Understanding these latency numbers is crucial for making informed architectural decisions. Know what operations are fast vs slow to optimize your system design."})]}),e.jsx(_a,{})]}),e.jsxs("section",{ref:t=>l.current[6]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-purple-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 text-purple-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"07"})}),"DISTRIBUTED SYSTEMS"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Consistent Hashing"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"A fundamental technique for distributing data across servers with minimal redistribution when nodes are added or removed. Essential for CDNs, caching, and load balancing."})]}),e.jsx(Ha,{})]}),e.jsxs("section",{ref:t=>l.current[7]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-indigo-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 text-indigo-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"08"})}),"INTERVIEW PREPARATION"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"System Design Interview Template"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"A comprehensive, step-by-step guide to ace your system design interviews. Follow this framework to structure your approach and impress interviewers."})]}),e.jsx(za,{})]}),e.jsxs("section",{ref:t=>l.current[8]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-indigo-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 text-indigo-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"09"})}),"SCALING SCENARIOS"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Real-World Scale Examples"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:'See what "scale" actually means with real numbers from small startups to tech giants. Understand QPS, storage, and bandwidth requirements at different scales.'})]}),e.jsx($a,{})]}),e.jsxs("section",{ref:t=>l.current[9]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-slate-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-100 text-slate-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"10"})}),"REFERENCE GUIDE"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Essential Calculation Formulas"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Quick reference for all the formulas you need for back-of-envelope calculations. From QPS to storage to bandwidth - everything in one place."})]}),e.jsx(Wa,{})]}),e.jsxs("section",{ref:t=>l.current[10]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-purple-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 text-purple-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"11"})}),"DECISION FRAMEWORK"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"CAP Theorem Decision Tree"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Not sure which database consistency model to choose? Answer a few questions to get personalized recommendations based on your requirements."})]}),e.jsx(Ua,{})]}),e.jsx("section",{className:"py-16 bg-white rounded-3xl border border-slate-200 shadow-sm mb-24",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-5xl",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:'Availability "Nines" Reference'}),e.jsx("p",{className:"text-slate-500 mt-2",children:"Quick lookup for downtime allowances"})]}),(()=>{const t=[{notation:"99%",label:"2 nines",percent:99},{notation:"99.9%",label:"3 nines",percent:99.9},{notation:"99.99%",label:"4 nines",percent:99.99},{notation:"99.999%",label:"5 nines",percent:99.999}].map(o=>{const c=(1-o.percent/100)*365*24*60,r=c/12,d=i=>i>=24*60?`${(i/(24*60)).toFixed(2)} days`:i>=60?`${(i/60).toFixed(2)} hours`:`${i.toFixed(2)} min`;return{...o,perYear:d(c),perMonth:d(r)}});return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase tracking-wider font-semibold border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"Availability"}),e.jsx("th",{className:"px-6 py-4",children:"Jargon"}),e.jsx("th",{className:"px-6 py-4",children:"Downtime / Year"}),e.jsx("th",{className:"px-6 py-4",children:"Downtime / Month"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map((o,a)=>e.jsxs("tr",{className:a%2===0?"bg-white":"bg-slate-50/50",children:[e.jsx("td",{className:"px-6 py-4 font-bold text-blue-600",children:o.notation}),e.jsx("td",{className:"px-6 py-4 text-slate-600",children:o.label}),e.jsx("td",{className:"px-6 py-4 text-slate-600 font-mono text-xs",children:o.perYear}),e.jsx("td",{className:"px-6 py-4 text-slate-600 font-mono text-xs",children:o.perMonth})]},o.label))})]})})})()]})}),e.jsxs("section",{className:"py-16",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"Try It Yourself"}),e.jsx("p",{className:"text-lg text-slate-600",children:"Interactive tools to estimate system capacity and availability"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-xl overflow-hidden p-1",children:e.jsx(Fa,{})}),e.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-xl overflow-hidden p-1",children:e.jsx(qa,{})})]})]}),e.jsx("section",{className:"py-12 border-t border-slate-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("button",{onClick:()=>s("/"),className:"px-6 py-3 rounded-xl bg-white border border-slate-200 text-slate-600 font-bold hover:bg-slate-50 transition-colors flex items-center gap-2",children:[e.jsx(ue,{className:"w-5 h-5"})," Previous: Home"]}),e.jsxs("button",{onClick:()=>s("/networking"),className:"px-8 py-3 rounded-xl bg-blue-600 text-white font-bold shadow-lg shadow-blue-200 hover:bg-blue-700 hover:scale-[1.02] transition-all flex items-center gap-2",children:["Next: Networking ",e.jsx(te,{className:"w-5 h-5"})]})]})})]})]})}function Qa(){const s=le();return e.jsxs("div",{className:"page-transition bg-white",children:[e.jsx("section",{className:"relative pt-20 pb-16 md:pt-32 md:pb-24 overflow-hidden",children:e.jsx("div",{className:"container-custom relative z-10",children:e.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 mb-8 transform hover:scale-105 transition-transform duration-300",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),e.jsx("span",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider",children:"Interactive System Design Learning Platform"})]}),e.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-extrabold text-slate-900 mb-6 leading-[1.1] tracking-tight",children:["Master System Design &",e.jsx("br",{}),e.jsx("span",{className:"bg-clip-text  from-blue-600 to-indigo-600",children:"Cloud Architecture"})]}),e.jsxs("p",{className:"text-lg md:text-xl text-slate-600 mb-10 mx-auto leading-relaxed",children:["Learn through"," ",e.jsx("span",{className:"font-semibold text-slate-900",children:"interactive tutorials"})," ","and"," ",e.jsx("span",{className:"font-semibold text-slate-900",children:"real-world examples"}),". Build production-ready distributed systems with confidence."]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 mb-10 text-sm font-medium",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 rounded-full border border-slate-100",children:[e.jsx(pe,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-slate-900 font-bold",children:"10+"}),e.jsx("span",{className:"text-slate-500",children:"Interactive Topics"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 rounded-full border border-slate-100",children:[e.jsx(es,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-blue-600 font-bold",children:"Live"}),e.jsx("span",{className:"text-slate-500",children:"Demos & Calculators"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 rounded-full border border-slate-100",children:[e.jsx(us,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-slate-900 font-bold",children:"Real-World"}),e.jsx("span",{className:"text-slate-500",children:"Case Studies"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12",children:[e.jsxs("button",{onClick:()=>s("/foundations"),className:"group w-full sm:w-auto px-8 py-3.5 bg-blue-600 text-white font-bold rounded-lg shadow-lg shadow-blue-200 hover:bg-blue-700 hover:scale-[1.02] transition-all duration-200 flex items-center justify-center gap-2",children:["Start Learning",e.jsx(te,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),e.jsxs("button",{onClick:()=>s("/cheat-sheets"),className:"w-full sm:w-auto px-8 py-3.5 bg-white text-slate-900 font-bold rounded-lg border border-slate-200 shadow-sm hover:bg-slate-50 hover:scale-[1.02] transition-all duration-200 flex items-center justify-center gap-2",children:[e.jsx(Qe,{className:"w-5 h-5 text-slate-500"}),"Quick References"]})]}),e.jsxs("div",{className:"inline-flex items-center gap-4 px-6 py-3 bg-white rounded-xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-10 h-10 rounded-full  from-blue-600 to-indigo-600 flex items-center justify-center font-bold text-sm shadow-md",children:"ST"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Shudipto Trafder"}),e.jsx("p",{className:"text-xs text-slate-500",children:"VP of Engineering at 10xScale"})]}),e.jsxs("div",{className:"flex items-center gap-3 ml-2 pl-4 border-l border-slate-100",children:[e.jsx("a",{href:"https://github.com/Iamsdt",target:"_blank",rel:"noreferrer",className:"text-slate-400 hover:text-slate-700 transition-colors",children:e.jsx(Ms,{className:"w-5 h-5"})}),e.jsx("a",{href:"https://linkedin.com/in/iamsdt",target:"_blank",rel:"noreferrer",className:"text-slate-400 hover:text-blue-700 transition-colors",children:e.jsx(Os,{className:"w-5 h-5"})}),e.jsx("a",{href:"https://medium.com/@iamsdt",target:"_blank",rel:"noreferrer",className:"text-slate-400 hover:text-slate-800 transition-colors",children:e.jsx(pe,{className:"w-5 h-5"})})]})]})]})})}),e.jsx("section",{className:"relative py-16 bg-white border-y border-slate-100",children:e.jsx("div",{className:"container-custom",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[e.jsxs("div",{className:"text-center group hover:-translate-y-1 transition-transform duration-300",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-blue-50 mb-6 group-hover:bg-blue-100 transition-colors",children:e.jsx(Gt,{className:"w-7 h-7 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Hands-On Learning"}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:"Interactive calculators, live demos, and real-time visualizations for practical understanding"})]}),e.jsxs("div",{className:"text-center group hover:-translate-y-1 transition-transform duration-300",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-indigo-50 mb-6 group-hover:bg-indigo-100 transition-colors",children:e.jsx(N,{className:"w-7 h-7 text-indigo-600"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Production-Ready"}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:"Learn patterns and practices used by top tech companies to build scalable systems"})]}),e.jsxs("div",{className:"text-center group hover:-translate-y-1 transition-transform duration-300",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-purple-50 mb-6 group-hover:bg-purple-100 transition-colors",children:e.jsx(Ne,{className:"w-7 h-7 text-purple-600"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Comprehensive Coverage"}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:"From fundamentals to advanced topics - networking, data architecture, and cloud patterns"})]})]})})})}),e.jsx("section",{className:"relative py-20 md:py-28 bg-white",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("div",{className:"inline-flex items-center px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 mb-6",children:e.jsx("span",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider",children:"Interactive Learning Experience"})}),e.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6",children:["Learn by"," ",e.jsx("span",{className:" bg-clip-text  from-blue-600 to-indigo-600",children:"Building"})]}),e.jsx("p",{className:"text-lg text-slate-500 mx-auto leading-relaxed",children:"Master system design through hands-on tutorials with live demos, interactive calculators, and real-time visualizations"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[e.jsx("div",{onClick:()=>s("/foundations"),className:"group cursor-pointer bg-white rounded-2xl border border-slate-200 p-8 hover:shadow-xl hover:border-blue-200 transition-all duration-300 relative overflow-hidden",children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-8",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-blue-600 flex items-center justify-center shadow-lg shadow-blue-100 group-hover:scale-110 transition-transform",children:e.jsx(Ne,{className:"w-7 h-7 text-white"})}),e.jsxs("span",{className:"px-2.5 py-1 text-[10px] font-bold bg-green-100 text-green-700 rounded uppercase tracking-wider flex items-center gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-600 animate-pulse"}),"LIVE"]})]}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4 group-hover:text-blue-600 transition-colors",children:"Foundations & Back-of-Envelope"}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed mb-8",children:"Capacity planning, scaling strategies, and core architectural patterns for building robust systems."}),e.jsx("div",{className:"space-y-4 mb-8",children:[{icon:e.jsx(se,{className:"w-5 h-5 text-blue-500"}),label:"Client-Server"},{icon:e.jsx(vs,{className:"w-5 h-5 text-indigo-500"}),label:"Calculator"},{icon:e.jsx(Fe,{className:"w-5 h-5 text-purple-500"}),label:"Scaling"},{icon:e.jsx(_s,{className:"w-5 h-5 text-pink-500"}),label:"Trade-offs"}].map((l,t)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:l.icon}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:l.label})]},t))}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(es,{className:"w-3.5 h-3.5"}),"~30 min"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(pe,{className:"w-3.5 h-3.5"}),"10 Topics"]})]}),e.jsx(te,{className:"w-5 h-5 text-blue-600 group-hover:translate-x-1 transition-transform"})]})]})}),e.jsx("div",{onClick:()=>s("/networking"),className:"group cursor-pointer bg-white rounded-2xl border border-slate-200 p-8 hover:shadow-xl hover:border-indigo-200 transition-all duration-300 relative overflow-hidden",children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-8",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-indigo-600 flex items-center justify-center shadow-lg shadow-indigo-100 group-hover:scale-110 transition-transform",children:e.jsx(ie,{className:"w-7 h-7 text-white"})}),e.jsxs("span",{className:"px-2.5 py-1 text-[10px] font-bold bg-blue-100 text-blue-700 rounded uppercase tracking-wider flex items-center gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600 animate-pulse"}),"NEW"]})]}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4 group-hover:text-indigo-600 transition-colors",children:"Networking & Edge"}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed mb-8",children:"OSI model, DNS resolution, TCP/UDP protocols, and Content Delivery Networks for global scale."}),e.jsx("div",{className:"space-y-4 mb-8",children:[{icon:e.jsx(Ne,{className:"w-5 h-5 text-blue-500"}),label:"OSI Model"},{icon:e.jsx(ie,{className:"w-5 h-5 text-indigo-500"}),label:"DNS Flow"},{icon:e.jsx(z,{className:"w-5 h-5 text-purple-500"}),label:"Protocols"},{icon:e.jsx(zt,{className:"w-5 h-5 text-pink-500"}),label:"CDN & Edge"}].map((l,t)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:l.icon}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:l.label})]},t))}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(es,{className:"w-3.5 h-3.5"}),"~45 min"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(pe,{className:"w-3.5 h-3.5"}),"7 Topics"]})]}),e.jsx(te,{className:"w-5 h-5 text-indigo-600 group-hover:translate-x-1 transition-transform"})]})]})}),e.jsx("div",{onClick:()=>s("/data-architecture"),className:"group cursor-pointer bg-white rounded-2xl border border-slate-200 p-8 hover:shadow-xl hover:border-purple-200 transition-all duration-300 relative overflow-hidden",children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-8",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-purple-600 flex items-center justify-center shadow-lg shadow-purple-100 group-hover:scale-110 transition-transform",children:e.jsx(K,{className:"w-7 h-7 text-white"})}),e.jsxs("span",{className:"px-2.5 py-1 text-[10px] font-bold bg-purple-100 text-purple-700 rounded uppercase tracking-wider flex items-center gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-600 animate-pulse"}),"LIVE"]})]}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4 group-hover:text-purple-600 transition-colors",children:"Data Architecture & Storage"}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed mb-8",children:"Database selection, caching strategies, sharding techniques, and compliance considerations."}),e.jsx("div",{className:"space-y-4 mb-8",children:[{icon:e.jsx(K,{className:"w-5 h-5 text-blue-500"}),label:"SQL vs NoSQL"},{icon:e.jsx(Ee,{className:"w-5 h-5 text-indigo-500"}),label:"Storage Models"},{icon:e.jsx(ys,{className:"w-5 h-5 text-purple-500"}),label:"Replication"},{icon:e.jsx(_t,{className:"w-5 h-5 text-pink-500"}),label:"Compliance"}].map((l,t)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:l.icon}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:l.label})]},t))}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(es,{className:"w-3.5 h-3.5"}),"~60 min"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(pe,{className:"w-3.5 h-3.5"}),"6 Topics"]})]}),e.jsx(te,{className:"w-5 h-5 text-purple-600 group-hover:translate-x-1 transition-transform"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{onClick:()=>s("/cheat-sheets"),className:"group cursor-pointer relative overflow-hidden bg-white rounded-2xl border border-slate-200 p-8 hover:shadow-xl hover:border-emerald-200 transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-32 h-32 bg-emerald-50 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"}),e.jsxs("div",{className:"relative z-10 flex items-center gap-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl bg-emerald-50 flex items-center justify-center shadow-inner",children:e.jsx(Qe,{className:"w-8 h-8 text-emerald-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-1 group-hover:text-emerald-600 transition-colors",children:"Cheat Sheets & References"}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:"Quick reference guides for PostgreSQL, Redis, and more with syntax examples and best practices"})]}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-50 flex items-center justify-center group-hover:bg-emerald-600 group-hover:text-white transition-all",children:e.jsx(te,{className:"w-5 h-5 text-slate-400 group-hover:text-white transition-colors"})})]})]}),e.jsxs("div",{onClick:()=>s("/topics"),className:"group cursor-pointer relative overflow-hidden bg-white rounded-2xl border border-slate-200 p-8 hover:shadow-xl hover:border-indigo-200 transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-32 h-32 bg-indigo-50 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"}),e.jsxs("div",{className:"relative z-10 flex items-center gap-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl bg-indigo-50 flex items-center justify-center shadow-inner",children:e.jsx(pe,{className:"w-8 h-8 text-indigo-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-1 group-hover:text-indigo-600 transition-colors",children:"All Topics & Concepts"}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:"Explore the complete catalog of system design topics with interactive demos and visualizations"})]}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-50 flex items-center justify-center group-hover:bg-indigo-600 group-hover:text-white transition-all",children:e.jsx(te,{className:"w-5 h-5 text-slate-400 group-hover:text-white transition-colors"})})]})]})]})]})})}),e.jsxs("section",{className:"relative py-20 md:py-28 bg-slate-900 overflow-hidden",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden opacity-20 pointer-events-none",children:[e.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-96 h-96 bg-blue-500 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-96 h-96 bg-purple-500 rounded-full blur-3xl"})]}),e.jsx("div",{className:"container-custom relative z-10",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsx("div",{className:"text-center mb-16",children:e.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold mb-4",children:["Meet"," ",e.jsxs("span",{className:"relative inline-block text-transparent bg-clip-text bg-gradient-to-r  from-blue-400 to-teal-400",children:["the Creator",e.jsx("div",{className:"absolute -bottom-2 left-0 w-full h-1 bg-gradient-to-r  from-blue-400 to-teal-400"})]})]})}),e.jsx("div",{className:"bg-white/95 backdrop-blur rounded-3xl p-8 md:p-12 shadow-xl border border-white/10",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-12 items-center md:items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-32 h-32 rounded-2xl bg-gradient-to-r from-blue-600 to-indigo-600 flex items-center justify-center text-4xl font-bold transform hover:rotate-3 transition-transform duration-300",children:"ST"})}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Shudipto Trafder"}),e.jsxs("p",{className:"text-blue-600 font-bold mb-6 text-lg flex items-center justify-center md:justify-start gap-2",children:[e.jsx(us,{className:"w-5 h-5"}),"VP of Engineering at 10xScale"]}),e.jsx("p",{className:"text-slate-500 leading-relaxed mb-8 text-lg",children:"Leading engineering teams at 10xScale, I specialize in building reliable, scalable distributed systems and AI-driven tooling. My work includes multi-agent orchestration with AgentFlow, alongside creating open-source projects that help teams ship faster and operate with confidence."}),e.jsx("div",{className:"my-2"}),e.jsxs("div",{className:"mb-10",children:[e.jsxs("h4",{className:"text-slate-900 font-bold mb-4 flex items-center justify-center md:justify-start gap-2",children:[e.jsx(rs,{className:"w-5 h-5 text-blue-600"}),"Featured Projects"]}),e.jsx("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-4 my-2",children:[{name:"InjectQ",url:"https://github.com/10xHub/injectq"},{name:"SnowflakeKit",url:"https://github.com/10xHub/snowflakekit"},{name:"Style Guide",url:"https://github.com/10xHub/react-style-guide"},{name:"AgentFlow",url:"https://github.com/10xHub/agentflow"}].map((l,t)=>e.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-slate-50 text-blue-600 font-bold text-sm rounded-lg hover:bg-blue-50 hover:text-blue-700 transition-colors border border-slate-100",children:l.name},t))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-slate-900 font-bold mb-4 flex items-center justify-center md:justify-start gap-2",children:[e.jsx(z,{className:"w-5 h-5 text-blue-600"}),"Connect"]}),e.jsx("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-6 my-2",children:[{name:"GitHub",url:"https://github.com/Iamsdt",icon:e.jsx(Ms,{className:"w-6 h-6"})},{name:"LinkedIn",url:"https://www.linkedin.com/in/iamsdt/",icon:e.jsx(Os,{className:"w-6 h-6"})},{name:"Medium",url:"https://medium.com/@iamsdt",icon:e.jsx(pe,{className:"w-6 h-6"})},{name:"Email",url:"mailto:shudiptotrafder@gmail.com",icon:e.jsx($t,{className:"w-6 h-6"})}].map((l,t)=>e.jsxs("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-slate-500 hover:text-blue-600 transition-all hover:-translate-y-0.5 font-medium text-sm","aria-label":l.name,children:[l.icon,e.jsx("span",{children:l.name})]},t))})]})]})]})})]})})]})]})}const es=s=>e.jsx("svg",{...s,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})});function Ya(){const[s,l]=x.useState("forward"),[t,o]=x.useState(!1),c={forward:{name:"Forward Proxy",icon:we,color:"blue",tagline:"Client's Representative",description:"Sits in front of clients, intercepts outbound requests, acts on behalf of clients",flow:["Client","Forward Proxy","Internet","Server"],useCases:[{icon:he,title:"Content Filtering",desc:"Block access to certain websites (corporate firewall)"},{icon:Vt,title:"Anonymity",desc:"Hide client IP address from destination servers"},{icon:ie,title:"Bypass Geo-Restrictions",desc:"Access content blocked in your region (VPN-like)"},{icon:K,title:"Caching",desc:"Cache frequently accessed content to save bandwidth"}],tools:[{name:"Squid",desc:"Popular open-source proxy"},{name:"Apache Traffic Server",desc:"High-performance caching proxy"},{name:"NGINX",desc:"Can act as forward proxy with modules"}],security:["Controls what users can access","Can inspect and block malicious outbound traffic","Logs all client requests","Enforces company policies"],realWorld:"Corporate networks use forward proxies to monitor and control employee internet access"},reverse:{name:"Reverse Proxy",icon:se,color:"purple",tagline:"Server's Representative",description:"Sits in front of servers, intercepts inbound requests, acts on behalf of servers",flow:["Client","Internet","Reverse Proxy","Backend Servers"],useCases:[{icon:he,title:"Load Balancing",desc:"Distribute traffic across multiple backend servers"},{icon:ls,title:"SSL Termination",desc:"Handle SSL/TLS encryption/decryption"},{icon:Kt,title:"Hide Backend",desc:"Protect server IPs and infrastructure details"},{icon:K,title:"Caching & Compression",desc:"Cache responses and compress data before sending"}],tools:[{name:"NGINX",desc:"Industry standard reverse proxy"},{name:"HAProxy",desc:"High-availability load balancer"},{name:"Apache",desc:"With mod_proxy module"},{name:"Traefik",desc:"Modern cloud-native proxy"}],security:["Protects backend servers from direct exposure","Can implement Web Application Firewall (WAF)","Rate limiting and DDoS protection","Centralized authentication"],realWorld:"Netflix uses reverse proxies (NGINX) to handle millions of requests and protect backend services"}}[s],r=c.icon;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:()=>l("forward"),className:`flex-1 p-6 rounded-xl border-2 transition-all ${s==="forward"?"border-blue-500 bg-blue-50 shadow-lg":"border-slate-200 hover:border-blue-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(we,{className:`w-6 h-6 ${s==="forward"?"text-blue-600":"text-slate-500"}`}),e.jsx("h3",{className:`font-semibold ${s==="forward"?"text-blue-900":"text-slate-700"}`,children:"Forward Proxy"})]}),e.jsx("p",{className:"text-sm text-slate-600",children:"Client's Representative"})]}),e.jsxs("button",{onClick:()=>l("reverse"),className:`flex-1 p-6 rounded-xl border-2 transition-all ${s==="reverse"?"border-purple-500 bg-purple-50 shadow-lg":"border-slate-200 hover:border-purple-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(se,{className:`w-6 h-6 ${s==="reverse"?"text-purple-600":"text-slate-500"}`}),e.jsx("h3",{className:`font-semibold ${s==="reverse"?"text-purple-900":"text-slate-700"}`,children:"Reverse Proxy"})]}),e.jsx("p",{className:"text-sm text-slate-600",children:"Server's Representative"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 md:p-8",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:`p-3 rounded-lg bg-${c.color}-100`,children:e.jsx(r,{className:`w-8 h-8 text-${c.color}-600`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:c.name}),e.jsx("p",{className:`text-lg font-medium text-${c.color}-600 mb-2`,children:c.tagline}),e.jsx("p",{className:"text-slate-700",children:c.description})]})]}),e.jsxs("div",{className:"mb-8 p-6 bg-slate-50 rounded-lg",children:[e.jsxs("h4",{className:"font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5"}),"Request Flow"]}),e.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4",children:c.flow.map((d,i)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`px-4 py-2 rounded-lg font-medium ${d.includes("Proxy")?`bg-${c.color}-500 shadow-lg`:"bg-white border-2 border-slate-200 text-slate-700"}`,children:d}),i<c.flow.length-1&&e.jsx(te,{className:"w-5 h-5 text-slate-400"})]},i))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-4",children:"Common Use Cases"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.useCases.map((d,i)=>{const n=d.icon;return e.jsx("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(n,{className:`w-5 h-5 text-${c.color}-600 flex-shrink-0 mt-0.5`}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-slate-900 mb-1",children:d.title}),e.jsx("p",{className:"text-sm text-slate-600",children:d.desc})]})]})},i)})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-4",children:"Popular Tools"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:c.tools.map((d,i)=>e.jsxs("div",{className:`px-4 py-2 bg-${c.color}-50 border border-${c.color}-200 rounded-lg`,children:[e.jsx("span",{className:"font-medium text-slate-900",children:d.name}),e.jsxs("span",{className:"text-sm text-slate-600",children:[" â€¢ ",d.desc]})]},i))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5"}),"Security Implications"]}),e.jsx("ul",{className:"space-y-2",children:c.security.map((d,i)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full bg-${c.color}-500 mt-2 flex-shrink-0`}),e.jsx("span",{className:"text-slate-700",children:d})]},i))})]}),e.jsx("div",{className:`p-4 bg-${c.color}-50 border border-${c.color}-200 rounded-lg`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ie,{className:`w-5 h-5 text-${c.color}-600 flex-shrink-0 mt-0.5`}),e.jsxs("div",{children:[e.jsx("h5",{className:`font-medium text-${c.color}-900 mb-1`,children:"Real-World Example"}),e.jsx("p",{className:"text-sm text-slate-700",children:c.realWorld})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 md:p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"Key Differences at a Glance"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-slate-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Aspect"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-blue-700",children:"Forward Proxy"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-purple-700",children:"Reverse Proxy"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 font-medium text-slate-700",children:"Position"}),e.jsx("td",{className:"py-3 px-4 text-slate-600",children:"In front of clients"}),e.jsx("td",{className:"py-3 px-4 text-slate-600",children:"In front of servers"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 font-medium text-slate-700",children:"Acts on behalf of"}),e.jsx("td",{className:"py-3 px-4 text-slate-600",children:"Clients"}),e.jsx("td",{className:"py-3 px-4 text-slate-600",children:"Servers"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 font-medium text-slate-700",children:"Direction"}),e.jsx("td",{className:"py-3 px-4 text-slate-600",children:"Outbound requests"}),e.jsx("td",{className:"py-3 px-4 text-slate-600",children:"Inbound requests"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 font-medium text-slate-700",children:"Primary Use"}),e.jsx("td",{className:"py-3 px-4 text-slate-600",children:"Control client access, anonymity"}),e.jsx("td",{className:"py-3 px-4 text-slate-600",children:"Load balancing, security, caching"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 font-medium text-slate-700",children:"Server knows"}),e.jsx("td",{className:"py-3 px-4 text-slate-600",children:"Proxy IP (not client IP)"}),e.jsx("td",{className:"py-3 px-4 text-slate-600",children:"Usually forwarded client IP"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4 font-medium text-slate-700",children:"Typical Setting"}),e.jsx("td",{className:"py-3 px-4 text-slate-600",children:"Corporate networks, schools"}),e.jsx("td",{className:"py-3 px-4 text-slate-600",children:"Production web servers, CDNs"})]})]})]})})]}),e.jsxs("div",{className:" from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-6",children:[e.jsxs("h4",{className:"font-semibold text-amber-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"ðŸ’¡"}),"Interview Tip"]}),e.jsxs("p",{className:"text-slate-700 mb-2",children:[e.jsx("strong",{children:"Remember:"})," Forward proxy = client-side, hides clients. Reverse proxy = server-side, hides servers."]}),e.jsx("p",{className:"text-slate-600 text-sm",children:"In system design interviews, you'll typically discuss reverse proxies (NGINX, HAProxy) for load balancing and security. Forward proxies are less common but important for corporate network discussions."})]})]})}function Ja(){const[s,l]=x.useState(null),[t,o]=x.useState(!1),a={gateway:{name:"API Gateway",tagline:"Application Layer (Layer 7)",purpose:"Intelligent request routing, transformation, and management",when:"When you need API-specific features like authentication, rate limiting, request transformation",features:[{name:"Request/Response Transformation",has:!0,desc:"Modify headers, body, format"},{name:"Authentication & Authorization",has:!0,desc:"OAuth, JWT, API keys"},{name:"Rate Limiting & Throttling",has:!0,desc:"Per-user, per-API limits"},{name:"API Versioning",has:!0,desc:"Route to different versions"},{name:"Request Validation",has:!0,desc:"Schema validation"},{name:"Protocol Translation",has:!0,desc:"REST â†’ gRPC, HTTP â†’ WebSocket"},{name:"Analytics & Monitoring",has:!0,desc:"Detailed API metrics"},{name:"Caching",has:!0,desc:"Response caching"},{name:"Health Checks",has:!0,desc:"Basic health monitoring"},{name:"SSL Termination",has:!0,desc:"Handles TLS"}],tools:[{name:"Kong",desc:"Open-source, plugin ecosystem"},{name:"AWS API Gateway",desc:"Managed service, serverless"},{name:"Azure API Management",desc:"Enterprise features"},{name:"Google Cloud Endpoints",desc:"OpenAPI support"},{name:"Tyk",desc:"Open-source alternative"}]},loadbalancer:{name:"Load Balancer",tagline:"Transport/Network Layer (Layer 4) or Application Layer (Layer 7)",purpose:"Distribute traffic efficiently across multiple servers",when:"When you need high-performance traffic distribution without API-specific logic",features:[{name:"Request/Response Transformation",has:!1,desc:"Not a primary feature"},{name:"Authentication & Authorization",has:!1,desc:"Not handled"},{name:"Rate Limiting & Throttling",has:!1,desc:"Basic at best"},{name:"API Versioning",has:!1,desc:"Not API-aware"},{name:"Request Validation",has:!1,desc:"No validation"},{name:"Protocol Translation",has:!1,desc:"Typically not supported"},{name:"Analytics & Monitoring",has:!0,desc:"Connection & traffic metrics"},{name:"Caching",has:!1,desc:"Not a focus"},{name:"Health Checks",has:!0,desc:"Advanced health monitoring"},{name:"SSL Termination",has:!0,desc:"Excellent TLS support"}],tools:[{name:"NGINX",desc:"High-performance, widely used"},{name:"HAProxy",desc:"Reliable, battle-tested"},{name:"AWS ELB/ALB/NLB",desc:"Managed load balancers"},{name:"Traefik",desc:"Cloud-native, Kubernetes-friendly"},{name:"Envoy",desc:"Service mesh proxy"}]}},c={separate:{title:"Separate (Recommended)",desc:"Use both - API Gateway in front, Load Balancer behind",diagram:["Client","API Gateway","Load Balancer","Backend Servers"],benefits:["API Gateway handles business logic (auth, rate limiting, transformation)","Load Balancer handles efficient traffic distribution","Separation of concerns - easier to scale and maintain","Each component optimized for its purpose"],example:"Client â†’ Kong/AWS API Gateway â†’ ALB/NGINX â†’ Microservices"},gatewayOnly:{title:"API Gateway Only",desc:"Gateway handles both routing and load balancing",diagram:["Client","API Gateway","Backend Servers"],benefits:["Simpler architecture","Fewer components to manage","Good for smaller applications","Lower latency (one less hop)"],tradeoffs:["May not scale as well","Gateway becomes a bottleneck","Less specialized load balancing"],example:"Client â†’ AWS API Gateway â†’ Lambda Functions"},lbOnly:{title:"Load Balancer Only",desc:"Just distribute traffic, no API management",diagram:["Client","Load Balancer","Backend Servers"],benefits:["Maximum performance","Simple and reliable","Lower latency","Good for internal services"],tradeoffs:["No API management features","Authentication in each service","Manual rate limiting implementation"],example:"Client â†’ NGINX/HAProxy â†’ Web Servers"}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border-2 border-emerald-200 p-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-emerald-100",children:e.jsx(Me,{className:"w-8 h-8 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:a.gateway.name}),e.jsx("p",{className:"text-sm text-emerald-600 font-medium",children:a.gateway.tagline})]})]}),e.jsx("p",{className:"text-slate-700 mb-4",children:a.gateway.purpose}),e.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-emerald-900",children:"When to use:"}),e.jsx("p",{className:"text-sm text-slate-700",children:a.gateway.when})]}),e.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Key Features:"}),e.jsx("div",{className:"space-y-2 mb-4",children:a.gateway.features.slice(0,8).map((r,d)=>e.jsxs("div",{className:"flex items-start gap-2",children:[r.has?e.jsx(N,{className:"w-4 h-4 text-emerald-600 flex-shrink-0 mt-0.5"}):e.jsx(F,{className:"w-4 h-4 text-slate-300 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("span",{className:`text-sm ${r.has?"text-slate-900 font-medium":"text-slate-400"}`,children:r.name})})]},d))}),e.jsx("h4",{className:"font-semibold text-slate-900 mb-2 text-sm",children:"Popular Tools:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.gateway.tools.map((r,d)=>e.jsx("span",{className:"text-xs px-2 py-1 bg-emerald-100 text-emerald-700 rounded",children:r.name},d))})]}),e.jsxs("div",{className:"bg-white rounded-xl border-2 border-blue-200 p-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-blue-100",children:e.jsx(se,{className:"w-8 h-8 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:a.loadbalancer.name}),e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:a.loadbalancer.tagline})]})]}),e.jsx("p",{className:"text-slate-700 mb-4",children:a.loadbalancer.purpose}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"When to use:"}),e.jsx("p",{className:"text-sm text-slate-700",children:a.loadbalancer.when})]}),e.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Key Features:"}),e.jsx("div",{className:"space-y-2 mb-4",children:a.loadbalancer.features.slice(0,8).map((r,d)=>e.jsxs("div",{className:"flex items-start gap-2",children:[r.has?e.jsx(N,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}):e.jsx(F,{className:"w-4 h-4 text-slate-300 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("span",{className:`text-sm ${r.has?"text-slate-900 font-medium":"text-slate-400"}`,children:r.name})})]},d))}),e.jsx("h4",{className:"font-semibold text-slate-900 mb-2 text-sm",children:"Popular Tools:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.loadbalancer.tools.map((r,d)=>e.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded",children:r.name},d))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"Detailed Feature Comparison"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-slate-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Feature"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-emerald-700",children:"API Gateway"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-blue-700",children:"Load Balancer"})]})}),e.jsx("tbody",{children:a.gateway.features.map((r,d)=>e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 text-slate-700",children:r.name}),e.jsx("td",{className:"py-3 px-4 text-center",children:a.gateway.features[d].has?e.jsx(N,{className:"w-5 h-5 text-emerald-600 mx-auto"}):e.jsx(F,{className:"w-5 h-5 text-slate-300 mx-auto"})}),e.jsx("td",{className:"py-3 px-4 text-center",children:a.loadbalancer.features[d].has?e.jsx(N,{className:"w-5 h-5 text-blue-600 mx-auto"}):e.jsx(F,{className:"w-5 h-5 text-slate-300 mx-auto"})})]},d))})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Can They Coexist?"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Yes! Here are three common architecture patterns:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:Object.entries(c).map(([r,d])=>e.jsxs("button",{onClick:()=>o(r),className:`p-4 rounded-lg border-2 transition-all text-left ${t===r?"border-indigo-500 bg-indigo-50 shadow-lg":"border-slate-200 hover:border-indigo-300"}`,children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-1",children:d.title}),e.jsx("p",{className:"text-sm text-slate-600",children:d.desc})]},r))}),t&&e.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[e.jsxs("h4",{className:"font-semibold text-slate-900 mb-4",children:[c[t].title," Architecture"]}),e.jsx("div",{className:"flex items-center justify-start flex-wrap gap-3 mb-6 p-4 bg-white rounded-lg",children:c[t].diagram.map((r,d)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"px-4 py-2 rounded-lg bg-indigo-100 text-indigo-900 font-medium text-sm whitespace-nowrap",children:r}),d<c[t].diagram.length-1&&e.jsx(te,{className:"w-4 h-4 text-slate-400 flex-shrink-0"})]},d))}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("h5",{className:"font-medium text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600"}),"Benefits:"]}),e.jsx("ul",{className:"space-y-1",children:c[t].benefits.map((r,d)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 mt-1.5 flex-shrink-0"}),r]},d))})]}),c[t].tradeoffs&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h5",{className:"font-medium text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx(Ks,{className:"w-4 h-4 text-amber-600"}),"Trade-offs:"]}),e.jsx("ul",{className:"space-y-1",children:c[t].tradeoffs.map((r,d)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500 mt-1.5 flex-shrink-0"}),r]},d))})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 mb-1",children:"Real-World Example:"}),e.jsx("p",{className:"text-sm text-slate-600 font-mono",children:c[t].example})]})]})]}),e.jsxs("div",{className:"border border-indigo-200 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-indigo-900 mb-4 flex items-center gap-2",children:[e.jsx(ns,{className:"w-5 h-5"}),"Decision Guide: Which Should You Use?"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-emerald-900 mb-3",children:"Choose API Gateway when:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-emerald-600 flex-shrink-0 mt-0.5"}),"You need authentication/authorization"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-emerald-600 flex-shrink-0 mt-0.5"}),"You want API versioning and routing"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-emerald-600 flex-shrink-0 mt-0.5"}),"Rate limiting and throttling are required"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-emerald-600 flex-shrink-0 mt-0.5"}),"Request/response transformation needed"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-emerald-600 flex-shrink-0 mt-0.5"}),"Building public-facing APIs"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Choose Load Balancer when:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),"Maximum performance is critical"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),"Simple traffic distribution needed"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),"Internal service communication"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),"TCP/UDP protocols (non-HTTP)"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),"High-traffic scenarios"]})]})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-white rounded-lg border border-indigo-200",children:e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("strong",{className:"text-indigo-900",children:"Pro Tip:"})," In production, use both! API Gateway for intelligent routing and API management, Load Balancer for efficient traffic distribution. Example: AWS API Gateway â†’ ALB â†’ EC2 instances or ECS containers."]})})]})]})}function Xa(){const[s,l]=x.useState(0),[t,o]=x.useState(!1),[a,c]=x.useState("sticky"),[r,d]=x.useState("sse"),i=[{id:1,name:"HTTP Handshake",desc:"Client sends Upgrade request",detail:`GET /chat HTTP/1.1
Upgrade: websocket
Connection: Upgrade`,color:"blue"},{id:2,name:"Server Accepts",desc:"Server responds with 101 Switching Protocols",detail:`HTTP/1.1 101 Switching Protocols
Upgrade: websocket
Connection: Upgrade`,color:"green"},{id:3,name:"Connection Established",desc:"Full-duplex communication active",detail:"Both client and server can send messages anytime",color:"purple"},{id:4,name:"Data Exchange",desc:"Bidirectional real-time messages",detail:"Low latency, efficient binary/text frames",color:"indigo"},{id:5,name:"Close Handshake",desc:"Either party can initiate close",detail:"Graceful shutdown with close frame",color:"orange"}],n=()=>{if(t)return;o(!0),l(0);let h=0;const u=setInterval(()=>{h++,l(h),h>=i.length&&(clearInterval(u),setTimeout(()=>{o(!1),l(0)},2e3))},1500)},m={sticky:{title:"Sticky Sessions (Session Affinity)",problem:"WebSocket connections are stateful - each client must reconnect to same server",solutions:[{name:"IP Hash Load Balancing",desc:"Route based on client IP to same backend",pros:["Simple to implement","Works at Layer 4"],cons:["NAT causes issues","Uneven distribution behind proxies"]},{name:"Cookie-based Affinity",desc:"Load balancer sets cookie during handshake",pros:["More reliable than IP","Better distribution"],cons:["Requires Layer 7 LB","Cookie manipulation risk"]},{name:"Shared State (Redis)",desc:"Store session state in Redis, any server can handle request",pros:["Perfect distribution","Server failures don't kill sessions"],cons:["Added complexity","Network latency for state access"]}]},draining:{title:"Connection Draining",problem:"How to gracefully shut down servers without dropping connections?",solutions:[{name:"Graceful Shutdown",desc:"Stop accepting new connections, wait for existing to close",pros:["No dropped connections","Clean shutdown"],cons:["Can take long time","May need timeout"]},{name:"Close Frame with Reconnect",desc:"Send close frame with 1012 (Service Restart) code",pros:["Client knows to reconnect","Fast shutdown"],cons:["Momentary disruption","Client must handle reconnect"]},{name:"Connection Migration",desc:"Transfer connections to other servers",pros:["Zero downtime","Seamless for users"],cons:["Very complex","Requires sophisticated infrastructure"]}]},scaling:{title:"Horizontal Scaling",problem:"Multiple servers need to communicate with each other for broadcasting",solutions:[{name:"Message Queue (Redis Pub/Sub)",desc:"Servers publish messages, all subscribers receive",pros:["Simple architecture","Fast in-memory"],cons:["Redis SPOF","Message ordering challenges"]},{name:"Message Broker (RabbitMQ/Kafka)",desc:"Reliable message delivery across servers",pros:["Durable messaging","Replay capability"],cons:["Higher latency","More infrastructure"]},{name:"Service Mesh",desc:"Envoy/Istio handles inter-service communication",pros:["Advanced routing","Observability built-in"],cons:["Complex setup","Learning curve"]}]}},p={sse:{name:"Server-Sent Events (SSE)",desc:"One-way server-to-client streaming over HTTP",when:"When you only need server â†’ client (e.g., notifications, live updates)",pros:["Native browser API (EventSource)","Automatic reconnection","Text-based, easier debugging","Works over HTTP/2"],cons:["One-way only (no client â†’ server)","Limited to text","6 connection limit per domain"],code:`const eventSource = new EventSource('/api/events');
eventSource.onmessage = (event) => {
  console.log('New message:', event.data);
};`},longPolling:{name:"Long Polling",desc:"Client makes HTTP request, server holds until data available",when:"When WebSocket is blocked by corporate firewalls",pros:["Works everywhere (pure HTTP)","No special server support","Firewall-friendly","Simple to implement"],cons:["Higher latency than WebSocket","More overhead (HTTP headers each request)","Server resource intensive","Doesn't scale well"],code:`async function poll() {
  const response = await fetch('/api/poll');
  const data = await response.json();
  handleData(data);
  poll(); // Immediately poll again
}`},polling:{name:"Short Polling",desc:"Client repeatedly requests data at fixed intervals",when:"Legacy systems or when real-time isn't critical",pros:["Simplest approach","Works anywhere","Easy to debug","No server-side state"],cons:["Very inefficient","High latency (up to poll interval)","Wastes bandwidth","Server load from constant requests"],code:`setInterval(async () => {
  const response = await fetch('/api/data');
  const data = await response.json();
  updateUI(data);
}, 5000); // Poll every 5 seconds`}},g=[{name:"Layer 4 (TCP) LB",desc:"Hash client IP to route to same backend",good:"Fast, low overhead",bad:"Problems with NAT, proxies"},{name:"Layer 7 (HTTP) LB",desc:"Parse HTTP headers, set sticky session cookie",good:"Reliable routing, better distribution",bad:"Higher overhead, more complex"},{name:"DNS-based",desc:"Return same server IP for same client",good:"Offloads LB, works at scale",bad:"DNS caching issues, no health checks"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"WebSocket Connection Lifecycle"}),e.jsx("p",{className:"text-slate-600",children:"From handshake to close - understand the full journey"})]}),e.jsxs("button",{onClick:n,disabled:t,className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${t?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:[e.jsx(z,{className:"w-4 h-4"}),t?"Playing...":"Play Animation"]})]}),e.jsx("div",{className:"space-y-4",children:i.map((h,u)=>{const C=s===u+1,S=s>u+1;return e.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${C?`border-${h.color}-500 bg-${h.color}-50 shadow-lg scale-105`:S?"border-green-300 bg-green-50":"border-slate-200 bg-slate-50"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${S?"bg-green-500 text-white":C?`bg-${h.color}-500 text-white`:"bg-slate-300 text-slate-600"}`,children:S?e.jsx(ke,{className:"w-5 h-5"}):h.id}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-1",children:h.name}),e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:h.desc}),(C||S)&&e.jsx("pre",{className:"text-xs bg-slate-800 text-green-400 p-3 rounded font-mono overflow-x-auto",children:h.detail})]})]})},h.id)})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx(ce,{className:"w-6 h-6 text-amber-500"}),"Scaling Challenges & Solutions"]}),e.jsx("p",{className:"text-slate-600 mb-6",children:"WebSockets are stateful - this creates unique scaling problems"}),e.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:Object.entries(m).map(([h,u])=>e.jsx("button",{onClick:()=>c(h),className:`px-4 py-2 rounded-lg font-medium transition-all ${a===h?"bg-amber-500 text-white shadow-lg":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:u.title.split(" ")[0]},h))}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6",children:[e.jsx("h4",{className:"font-bold text-amber-900 mb-2",children:m[a].title}),e.jsxs("p",{className:"text-slate-700 mb-6 flex items-start gap-2",children:[e.jsx(ce,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),m[a].problem]}),e.jsx("h5",{className:"font-semibold text-slate-900 mb-4",children:"Solutions:"}),e.jsx("div",{className:"space-y-4",children:m[a].solutions.map((h,u)=>e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-amber-200",children:[e.jsx("h6",{className:"font-semibold text-slate-900 mb-2",children:h.name}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:h.desc}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-medium text-green-700 mb-2 flex items-center gap-1",children:[e.jsx(ke,{className:"w-3 h-3"})," Pros:"]}),e.jsx("ul",{className:"space-y-1",children:h.pros.map((C,S)=>e.jsxs("li",{className:"text-sm text-slate-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500 mt-1.5 flex-shrink-0"}),C]},S))})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-medium text-red-700 mb-2 flex items-center gap-1",children:[e.jsx(Ue,{className:"w-3 h-3"})," Cons:"]}),e.jsx("ul",{className:"space-y-1",children:h.cons.map((C,S)=>e.jsxs("li",{className:"text-sm text-slate-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 rounded-full bg-red-500 mt-1.5 flex-shrink-0"}),C]},S))})]})]})]},u))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx(se,{className:"w-6 h-6 text-blue-600"}),"Load Balancing Strategies"]}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Different approaches to distribute WebSocket connections"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:g.map((h,u)=>e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:h.name}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:h.desc}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-xs",children:[e.jsx("span",{className:"font-medium text-green-700",children:"âœ“ Good:"}),e.jsxs("span",{className:"text-slate-600",children:[" ",h.good]})]}),e.jsxs("p",{className:"text-xs",children:[e.jsx("span",{className:"font-medium text-red-700",children:"âœ— Bad:"}),e.jsxs("span",{className:"text-slate-600",children:[" ",h.bad]})]})]})]},u))})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx(Oe,{className:"w-6 h-6 text-purple-600"}),"Fallback Strategies"]}),e.jsx("p",{className:"text-slate-600 mb-6",children:"When WebSocket isn't available (firewalls, old browsers)"}),e.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:Object.entries(p).map(([h,u])=>e.jsx("button",{onClick:()=>d(h),className:`px-4 py-2 rounded-lg font-medium transition-all ${r===h?"bg-purple-500 text-white shadow-lg":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:u.name.split(" ")[0]},h))}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[e.jsx("h4",{className:"font-bold text-purple-900 mb-2",children:p[r].name}),e.jsx("p",{className:"text-slate-700 mb-4",children:p[r].desc}),e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4 border border-purple-200",children:[e.jsx("p",{className:"text-sm font-medium text-purple-900 mb-1",children:"When to use:"}),e.jsx("p",{className:"text-sm text-slate-700",children:p[r].when})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-green-700 mb-2 flex items-center gap-1",children:[e.jsx(ke,{className:"w-4 h-4"})," Advantages:"]}),e.jsx("ul",{className:"space-y-1",children:p[r].pros.map((h,u)=>e.jsxs("li",{className:"text-sm text-slate-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500 mt-1.5 flex-shrink-0"}),h]},u))})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-red-700 mb-2 flex items-center gap-1",children:[e.jsx(Ue,{className:"w-4 h-4"})," Disadvantages:"]}),e.jsx("ul",{className:"space-y-1",children:p[r].cons.map((h,u)=>e.jsxs("li",{className:"text-sm text-slate-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 rounded-full bg-red-500 mt-1.5 flex-shrink-0"}),h]},u))})]})]}),e.jsxs("div",{className:"bg-slate-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-slate-400 mb-2",children:"Example Code:"}),e.jsx("pre",{className:"text-sm text-green-400 font-mono overflow-x-auto",children:p[r].code})]})]})]}),e.jsxs("div",{className:"border border-blue-200 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-4 flex items-center gap-2",children:[e.jsx(ws,{className:"w-5 h-5"}),"Production Best Practices"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Do's:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(ke,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),"Implement heartbeat/ping-pong to detect dead connections"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(ke,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),"Use exponential backoff for reconnection"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(ke,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),"Close connections gracefully with proper codes"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(ke,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),"Monitor connection counts and memory usage"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Don'ts:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(Ue,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),"Don't use WebSocket for everything - REST is fine for CRUD"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(Ue,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),"Don't forget to clean up resources on close"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(Ue,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),"Don't assume connections will stay alive forever"]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(Ue,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),"Don't send large payloads - chunk them instead"]})]})]})]})]})]})}function Za(){const[s,l]=x.useState("http3"),[t,o]=x.useState("features"),a={http1:{name:"HTTP/1.1",year:1997,transport:"TCP",color:"slate",features:[{name:"Text-based protocol",supported:!0},{name:"Head-of-line blocking",supported:!1},{name:"Multiple connections needed",supported:!1},{name:"Connection reuse",supported:!0,note:"Keep-Alive"},{name:"Compression",supported:!0,note:"gzip, deflate"},{name:"Multiplexing",supported:!1}],pros:["Simple","Universal support","Easy to debug"],cons:["Head-of-line blocking","6-8 connections per domain","No multiplexing"]},http2:{name:"HTTP/2",year:2015,transport:"TCP + TLS",color:"blue",features:[{name:"Binary protocol",supported:!0},{name:"Multiplexing",supported:!0},{name:"Server Push",supported:!0},{name:"Header compression (HPACK)",supported:!0},{name:"Stream prioritization",supported:!0},{name:"Head-of-line blocking",supported:!1,note:"Still at TCP level"}],pros:["Single connection","Multiplexed streams","Header compression","Better performance"],cons:["TCP head-of-line blocking","Complex to debug","Server push rarely used"]},http3:{name:"HTTP/3",year:2022,transport:"QUIC (UDP)",color:"purple",features:[{name:"QUIC protocol (UDP-based)",supported:!0},{name:"No head-of-line blocking",supported:!0},{name:"0-RTT connection resumption",supported:!0},{name:"Connection migration",supported:!0},{name:"Built-in encryption",supported:!0,note:"TLS 1.3 integrated"},{name:"Multiplexing",supported:!0}],pros:["Eliminates TCP head-of-line blocking","Faster connection establishment","Better on mobile (connection migration)","Built-in encryption"],cons:["UDP blocked by some firewalls","Less mature ecosystem","Harder to debug"]}},c=[{icon:z,title:"0-RTT Connection Resumption",desc:"Resume previous connection instantly without handshake",detail:"After first connection, client can send encrypted data immediately on next connection. Reduces latency from 1-2 RTT to 0 RTT.",example:"Perfect for mobile apps that frequently reconnect"},{icon:Qt,title:"Connection Migration",desc:"Switch networks without dropping connection",detail:"Connection identified by Connection ID (not IP). When switching from WiFi to cellular, connection continues seamlessly.",example:"User walks out of WiFi range - connection stays alive on cellular"},{icon:se,title:"Independent Streams",desc:"Packet loss affects only one stream, not all",detail:"Unlike TCP where one lost packet blocks all streams, QUIC allows other streams to continue processing.",example:"Image loading failure doesn't block HTML/CSS delivery"},{icon:he,title:"Built-in Encryption (TLS 1.3)",desc:"Encryption is mandatory and integrated",detail:"TLS handshake happens during QUIC handshake, not separately. All packets are encrypted by default.",example:"Cannot use QUIC without encryption - security by default"}],r=[{version:"HTTP/1.0",year:1996,key:"Basic request-response",desc:"One request per connection"},{version:"HTTP/1.1",year:1997,key:"Keep-Alive connections",desc:"Connection reuse, chunked encoding"},{version:"SPDY",year:2012,key:"Google's experiment",desc:"Multiplexing, server push - basis for HTTP/2"},{version:"HTTP/2",year:2015,key:"Binary multiplexing",desc:"Single connection, header compression"},{version:"QUIC (gQUIC)",year:2013,key:"Google's UDP experiment",desc:"Fast, encrypted, multiplexed over UDP"},{version:"HTTP/3",year:2022,key:"QUIC standardized",desc:"HTTP over QUIC, no TCP head-of-line blocking"}],d=[{browser:"Chrome",version:"87+",support:"full",notes:"Enabled by default"},{browser:"Firefox",version:"88+",support:"full",notes:"Enabled by default"},{browser:"Safari",version:"14+",support:"full",notes:"macOS 11+, iOS 14+"},{browser:"Edge",version:"87+",support:"full",notes:"Chromium-based"},{browser:"Opera",version:"73+",support:"full",notes:"Chromium-based"}],i=[{scenario:"Mobile Applications",recommended:"http3",reason:"Connection migration handles network switches gracefully",impact:"Better user experience when switching WiFi/cellular"},{scenario:"High-latency Networks",recommended:"http3",reason:"0-RTT resumption reduces connection establishment overhead",impact:"Faster page loads on slow networks"},{scenario:"Media Streaming",recommended:"http3",reason:"Independent streams prevent packet loss from blocking everything",impact:"Smoother streaming with fewer stutters"},{scenario:"Corporate Networks",recommended:"http2",reason:"UDP often blocked by firewalls, HTTP/2 over TCP more reliable",impact:"Better compatibility, automatic fallback"},{scenario:"REST APIs",recommended:"http2",reason:"Multiplexing sufficient, simpler debugging",impact:"Good performance without UDP complexity"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Evolution of HTTP"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"From HTTP/1.0 to HTTP/3 - 26 years of optimization"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gradient-to-b from-slate-300 via-blue-400 to-purple-600"}),e.jsx("div",{className:"space-y-6",children:r.map((n,m)=>{const p=n.version==="HTTP/3",g=n.version==="HTTP/2";return e.jsxs("div",{className:"relative pl-12",children:[e.jsx("div",{className:`absolute left-0 w-8 h-8 rounded-full flex items-center justify-center font-bold text-white ${p?"bg-purple-600":g?"bg-blue-600":"bg-slate-400"}`,children:m+1}),e.jsxs("div",{className:`bg-slate-50 rounded-lg p-4 border ${p?"border-purple-300 bg-purple-50":g?"border-blue-300 bg-blue-50":"border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-bold text-slate-900",children:n.version}),e.jsx("span",{className:"text-xs font-medium text-slate-500 bg-white px-2 py-1 rounded",children:n.year})]}),e.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:n.key}),e.jsx("p",{className:"text-sm text-slate-600",children:n.desc})]})]},m)})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Compare HTTP Versions"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"See how each version improved upon the last"}),e.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:Object.entries(a).map(([n,m])=>e.jsx("button",{onClick:()=>l(n),className:`px-4 py-2 rounded-lg font-medium transition-all ${s===n?`bg-${m.color}-600 text-white shadow-lg`:"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:m.name},n))}),e.jsxs("div",{className:" from-slate-50 to-blue-50 rounded-lg p-6 border border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900",children:a[s].name}),e.jsxs("span",{className:"text-sm font-medium text-slate-600 bg-white px-3 py-1 rounded-full",children:["Released: ",a[s].year]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Transport:"}),e.jsx("span",{className:"ml-2 text-sm font-semibold text-purple-700",children:a[s].transport})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-slate-900 mb-3",children:"Features:"}),e.jsx("div",{className:"space-y-2",children:a[s].features.map((n,m)=>e.jsxs("div",{className:"flex items-start gap-2",children:[n.supported?e.jsx(N,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):e.jsx(F,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-900",children:n.name}),n.note&&e.jsx("p",{className:"text-xs text-slate-600",children:n.note})]})]},m))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-slate-900 mb-3",children:"Pros & Cons:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-green-700 mb-2",children:"âœ“ Advantages:"}),e.jsx("ul",{className:"space-y-1",children:a[s].pros.map((n,m)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500 mt-1.5 flex-shrink-0"}),n]},m))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-red-700 mb-2",children:"âœ— Disadvantages:"}),e.jsx("ul",{className:"space-y-1",children:a[s].cons.map((n,m)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 rounded-full bg-red-500 mt-1.5 flex-shrink-0"}),n]},m))})]})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx(z,{className:"w-6 h-6 text-purple-600"}),"QUIC Protocol - Key Innovations"]}),e.jsx("p",{className:"text-slate-600 mb-6",children:"What makes QUIC special compared to TCP"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map((n,m)=>{const p=n.icon;return e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-5",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(p,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-purple-900",children:n.title}),e.jsx("p",{className:"text-sm text-slate-700 mt-1",children:n.desc})]})]}),e.jsxs("div",{className:"bg-white rounded p-3 mb-2 border border-purple-100",children:[e.jsx("p",{className:"text-xs font-medium text-purple-900 mb-1",children:"How it works:"}),e.jsx("p",{className:"text-xs text-slate-600",children:n.detail})]}),e.jsxs("div",{className:" from-purple-100 to-blue-100 rounded p-3",children:[e.jsx("p",{className:"text-xs font-medium text-purple-900 mb-1",children:"Real-world example:"}),e.jsx("p",{className:"text-xs text-slate-700",children:n.example})]})]},m)})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Browser Support for HTTP/3"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"As of 2024, all major browsers support HTTP/3"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-900",children:"Browser"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-900",children:"Version"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-900",children:"Support"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-900",children:"Notes"})]})}),e.jsx("tbody",{children:d.map((n,m)=>e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[e.jsx("td",{className:"py-3 px-4 font-medium text-slate-900",children:n.browser}),e.jsx("td",{className:"py-3 px-4 text-slate-700",children:n.version}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded",children:[e.jsx(N,{className:"w-3 h-3"}),"Full"]})}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:n.notes})]},m))})]})}),e.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("strong",{children:"Note:"})," Browsers automatically fall back to HTTP/2 or HTTP/1.1 if HTTP/3 is unavailable. No special handling needed in most cases."]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx(ye,{className:"w-6 h-6 text-indigo-600"}),"Decision Guide: When to Use What"]}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Choose the right protocol based on your use case"}),e.jsx("div",{className:"space-y-4",children:i.map((n,m)=>{const p=n.recommended==="http3";return e.jsxs("div",{className:`p-4 rounded-lg border-2 ${p?"border-purple-300 bg-purple-50":"border-blue-300 bg-blue-50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-slate-900",children:n.scenario}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${p?"bg-purple-600 text-white":"bg-blue-600 text-white"}`,children:["Use ",n.recommended.toUpperCase()]})]}),e.jsxs("p",{className:"text-sm text-slate-700 mb-2",children:[e.jsx("strong",{children:"Why:"})," ",n.reason]}),e.jsxs("p",{className:"text-sm text-slate-600",children:[e.jsx("strong",{children:"Impact:"})," ",n.impact]})]},m)})})]}),e.jsxs("div",{className:" from-purple-50 to-indigo-50 border border-purple-200 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-4 flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5"}),"Interview Tips: HTTP/3 & QUIC"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[e.jsx("p",{className:"text-sm font-semibold text-purple-900 mb-2",children:"Q: What problem does HTTP/3 solve that HTTP/2 doesn't?"}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("strong",{children:"A:"})," TCP head-of-line blocking. In HTTP/2, one lost TCP packet blocks all multiplexed streams. HTTP/3 uses QUIC (UDP) where streams are independent - packet loss only affects one stream."]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[e.jsx("p",{className:"text-sm font-semibold text-purple-900 mb-2",children:"Q: Why is HTTP/3 better for mobile?"}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("strong",{children:"A:"})," Connection migration. QUIC connections are identified by Connection ID, not IP address. When switching from WiFi to cellular, the connection continues seamlessly without re-establishing."]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[e.jsx("p",{className:"text-sm font-semibold text-purple-900 mb-2",children:"Q: What is 0-RTT and why is it significant?"}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("strong",{children:"A:"})," Zero Round-Trip Time resumption lets clients send encrypted application data immediately on reconnection, without waiting for handshake. Reduces latency dramatically for repeat connections."]})]})]})]})]})}function er(){const[s,l]=x.useState("invalidation"),[t,o]=x.useState("pull"),[a,c]=x.useState("failover"),r={invalidation:{title:"CDN Cache Invalidation",icon:Oe,color:"blue",problem:"How to update cached content when origin changes?",approaches:[{name:"Time-based (TTL)",desc:"Set Cache-Control max-age header, content expires automatically",pros:["Simple to implement","No manual intervention","Predictable behavior"],cons:["Users may see stale content","Can't force immediate updates","Wasted cache space"],when:"Static assets that rarely change, or tolerance for slight staleness",example:"Cache-Control: max-age=86400  // 24 hours"},{name:"Purge/Invalidate API",desc:"Manually tell CDN to remove specific URLs or patterns",pros:["Immediate updates","Precise control","Clear cached content instantly"],cons:["Requires API integration","Can be expensive","May cause origin surge"],when:"Critical updates that must propagate immediately",example:"curl -X PURGE https://cdn.example.com/app.js"},{name:"Cache Busting (Versioning)",desc:"Change filename/URL when content changes",pros:["No purge needed","Instant updates","Old versions still cached","Free"],cons:["Requires build process","URL changes in HTML","More storage used"],when:"Best practice for static assets in production",example:"app.v2.js, app.js?v=abc123, app-abc123.js"},{name:"Stale-While-Revalidate",desc:"Serve stale content while fetching fresh copy in background",pros:["Always fast response","Automatic updates","No downtime"],cons:["Users may see old content briefly","More complex caching logic"],when:"Good balance between freshness and performance",example:"Cache-Control: max-age=60, stale-while-revalidate=86400"}]},pullVsPush:{title:"Pull vs Push CDN Models",icon:ie,color:"purple",problem:"How does content get to CDN edge locations?",approaches:[{name:"Pull CDN (Origin Pull)",desc:"CDN fetches content from origin when first requested",pros:["Easy setup - just point to origin","Automatic caching","Only popular content cached","No pre-upload needed"],cons:["First request is slow (cache miss)","Origin must handle edge requests","Unpredictable origin load"],when:"Dynamic content, user-generated content, websites",example:"Netflix, YouTube videos - content pulled on first view"},{name:"Push CDN",desc:"You manually upload content to CDN edge locations",pros:["No origin requests after upload","Predictable performance (no cold starts)","Full control over what's cached"],cons:["Manual upload process","Storage costs","Must push updates","Harder to manage"],when:"Large files, software downloads, known popular content",example:"OS updates, game patches - pushed to CDN in advance"}]},multiCdn:{title:"Multi-CDN Strategy",icon:Me,color:"emerald",problem:"Why use multiple CDN providers?",approaches:[{name:"Failover (Backup)",desc:"Use secondary CDN if primary fails",pros:["High availability","Redundancy","Automatic failover"],cons:["Secondary CDN mostly idle","DNS switching delay","Extra cost"],when:"Mission-critical applications requiring 99.99%+ uptime",example:"If Cloudflare down, switch to Fastly via DNS"},{name:"Geographic Split",desc:"Different CDNs for different regions",pros:["Best regional performance","Optimize cost per region","Regulatory compliance (data residency)"],cons:["Complex DNS setup","Harder to monitor","Multiple bills"],when:"Global applications with regional requirements",example:"Cloudflare for US/EU, Alibaba Cloud CDN for China"},{name:"Load Balancing (Active-Active)",desc:"Distribute traffic across multiple CDNs simultaneously",pros:["Maximum performance","No single point of failure","Cost optimization through competition"],cons:["Most complex","Cache duplication","Highest cost"],when:"Ultra-high traffic sites (100M+ requests/day)",example:"50% traffic to Cloudflare, 50% to Fastly"},{name:"Content-Type Split",desc:"Different CDNs for different content types",pros:["Optimize per content type","Specialized features","Cost control"],cons:["More DNS records","Harder to debug","Cookie issues"],when:"Distinct content types with different needs",example:"Cloudflare for HTML/API, Cloudinary for images/video"}]},edgeComputing:{title:"Edge Computing & Functions",icon:z,color:"orange",problem:"Running code at CDN edge, not just caching static files",approaches:[{name:"Edge Functions/Workers",desc:"Run JavaScript/WASM at edge locations",pros:["Ultra-low latency","No origin needed","Global scale","Dynamic logic at edge"],cons:["Limited runtime","Cold start delays","Debugging harder","Cost can add up"],when:"A/B testing, auth, redirects, simple API endpoints",example:"Cloudflare Workers, Vercel Edge Functions, Fastly Compute@Edge"},{name:"Edge Side Includes (ESI)",desc:"Compose pages from multiple cached fragments",pros:["Cache parts of page separately","Personalization","Reduce origin load"],cons:["Complex to debug","Not all CDNs support","Harder to reason about"],when:"Pages with mix of static/dynamic content",example:"Cache navbar for 1 day, user widget for 1 minute"},{name:"Edge Key-Value Storage",desc:"Store data at edge (like Redis, but distributed globally)",pros:["Global low-latency reads","No origin database needed","Fast writes propagate"],cons:["Eventually consistent","Limited storage","Cost per request"],when:"Feature flags, A/B test configs, user preferences",example:"Cloudflare KV, Fastly Edge Dictionaries"},{name:"Image Optimization at Edge",desc:"Resize, compress, convert images on-the-fly",pros:["Single source image","Format negotiation (WebP, AVIF)","Responsive images easy"],cons:["Processing cost","Cache fragmentation","Quality trade-offs"],when:"User-generated images, responsive design",example:"Cloudflare Images, Cloudinary, imgix"}]}},d=[{aspect:"Setup Complexity",pull:"Very Easy - just DNS change",push:"Complex - upload pipeline needed",winner:"pull"},{aspect:"First Request Speed",pull:"Slow (cache miss)",push:"Fast (pre-warmed)",winner:"push"},{aspect:"Origin Load",pull:"Higher (cache misses)",push:"Lower (no origin requests)",winner:"push"},{aspect:"Storage Cost",pull:"Lower (cache popular only)",push:"Higher (store everything)",winner:"pull"},{aspect:"Content Updates",pull:"Automatic (TTL expires)",push:"Manual (re-upload)",winner:"pull"},{aspect:"Best For",pull:"Websites, APIs, UGC",push:"Downloads, Packages",winner:"depends"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Advanced CDN Strategies"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Beyond basic caching - production-grade CDN patterns"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(r).map(([i,n])=>{const m=n.icon;return e.jsxs("button",{onClick:()=>l(i),className:`p-4 rounded-lg border-2 transition-all ${s===i?`border-${n.color}-500 bg-${n.color}-50 shadow-lg`:"border-slate-200 bg-slate-50 hover:border-slate-300"}`,children:[e.jsx(m,{className:`w-6 h-6 mx-auto mb-2 ${s===i?`text-${n.color}-600`:"text-slate-400"}`}),e.jsx("p",{className:"text-sm font-semibold text-slate-900 text-center",children:n.title.split(" ")[0]})]},i)})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[(()=>{const i=r[s].icon;return e.jsx(i,{className:`w-8 h-8 text-${r[s].color}-600`})})(),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:r[s].title}),e.jsxs("p",{className:"text-slate-600 mt-1 flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4 text-amber-500"}),r[s].problem]})]})]}),e.jsx("div",{className:"space-y-4",children:r[s].approaches.map((i,n)=>e.jsxs("div",{className:`bg-${r[s].color}-50 border border-${r[s].color}-200 rounded-lg p-5`,children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:i.name}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:i.desc}),i.pros&&i.cons&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-medium text-green-700 mb-2 flex items-center gap-1",children:[e.jsx(N,{className:"w-3 h-3"})," Pros:"]}),e.jsx("ul",{className:"space-y-1",children:i.pros.map((m,p)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500 mt-1.5 flex-shrink-0"}),m]},p))})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-medium text-red-700 mb-2 flex items-center gap-1",children:[e.jsx(F,{className:"w-3 h-3"})," Cons:"]}),e.jsx("ul",{className:"space-y-1",children:i.cons.map((m,p)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 rounded-full bg-red-500 mt-1.5 flex-shrink-0"}),m]},p))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 mb-2 border border-slate-200",children:[e.jsx("p",{className:"text-xs font-medium text-slate-700 mb-1",children:"When to use:"}),e.jsx("p",{className:"text-sm text-slate-900",children:i.when})]}),i.example&&e.jsxs("div",{className:"bg-slate-800 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Example:"}),e.jsx("pre",{className:"text-sm text-green-400 font-mono overflow-x-auto",children:i.example})]})]},n))})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx(ie,{className:"w-6 h-6 text-purple-600"}),"Pull CDN vs Push CDN - Side by Side"]}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Understand the fundamental difference in how content gets cached"}),e.jsxs("div",{className:"flex gap-3 mb-6",children:[e.jsx("button",{onClick:()=>o("pull"),className:`flex-1 p-4 rounded-lg border-2 transition-all ${t==="pull"?"border-blue-500 bg-blue-50 shadow-lg":"border-slate-200 bg-slate-50"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(te,{className:`w-6 h-6 mx-auto mb-2 ${t==="pull"?"text-blue-600":"text-slate-400"}`}),e.jsx("p",{className:"font-bold text-slate-900",children:"Pull CDN"}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Origin Pull (Lazy Loading)"})]})}),e.jsx("button",{onClick:()=>o("push"),className:`flex-1 p-4 rounded-lg border-2 transition-all ${t==="push"?"border-purple-500 bg-purple-50 shadow-lg":"border-slate-200 bg-slate-50"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(te,{className:`w-6 h-6 mx-auto mb-2 rotate-180 ${t==="push"?"text-purple-600":"text-slate-400"}`}),e.jsx("p",{className:"font-bold text-slate-900",children:"Push CDN"}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Pre-upload (Eager Loading)"})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-slate-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-900",children:"Aspect"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-blue-700",children:"Pull CDN"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-purple-700",children:"Push CDN"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-slate-900",children:"Winner"})]})}),e.jsx("tbody",{children:d.map((i,n)=>e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[e.jsx("td",{className:"py-3 px-4 font-medium text-slate-900",children:i.aspect}),e.jsx("td",{className:`py-3 px-4 text-sm ${i.winner==="pull"?"font-semibold text-blue-700":"text-slate-600"}`,children:i.pull}),e.jsx("td",{className:`py-3 px-4 text-sm ${i.winner==="push"?"font-semibold text-purple-700":"text-slate-600"}`,children:i.push}),e.jsxs("td",{className:"py-3 px-4 text-center",children:[i.winner==="pull"&&e.jsx("span",{className:"text-blue-600 font-bold",children:"Pull"}),i.winner==="push"&&e.jsx("span",{className:"text-purple-600 font-bold",children:"Push"}),i.winner==="depends"&&e.jsx("span",{className:"text-slate-400 text-xs",children:"Context-dependent"})]})]},n))})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx(Me,{className:"w-6 h-6 text-emerald-600"}),"Multi-CDN Architecture"]}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Using multiple CDN providers for reliability and performance"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-6",children:r.multiCdn.approaches.map((i,n)=>e.jsx("button",{onClick:()=>c(i.name.toLowerCase().split(" ")[0]),className:`p-3 rounded-lg border-2 transition-all ${a===i.name.toLowerCase().split(" ")[0]?"border-emerald-500 bg-emerald-50 shadow-lg":"border-slate-200 bg-slate-50 hover:border-slate-300"}`,children:e.jsx("p",{className:"text-sm font-semibold text-slate-900 text-center",children:i.name.split(" ")[0]})},n))}),e.jsxs("div",{className:" from-emerald-50 to-blue-50 rounded-lg p-6 border border-emerald-200 mb-6",children:[a==="failover"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-blue-600 rounded-lg flex items-center justify-center mb-2",children:e.jsx(se,{className:"w-12 h-12 text-white"})}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Primary CDN"}),e.jsx("p",{className:"text-xs text-emerald-600",children:"Active âœ“"})]}),e.jsx(te,{className:"w-8 h-8 text-slate-400"}),e.jsxs("div",{className:"text-center opacity-50",children:[e.jsx("div",{className:"w-24 h-24 bg-slate-400 rounded-lg flex items-center justify-center mb-2",children:e.jsx(se,{className:"w-12 h-12 text-white"})}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Secondary CDN"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Standby"})]})]}),e.jsx("p",{className:"text-sm text-center text-slate-700",children:"All traffic â†’ Primary. If primary fails, DNS switches to Secondary."})]}),a==="geographic"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-lg flex items-center justify-center mb-2 mx-auto",children:e.jsx(ie,{className:"w-10 h-10 text-white"})}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:"CDN A"}),e.jsx("p",{className:"text-xs text-slate-600",children:"US & Europe"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-purple-600 rounded-lg flex items-center justify-center mb-2 mx-auto",children:e.jsx(ie,{className:"w-10 h-10 text-white"})}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:"CDN B"}),e.jsx("p",{className:"text-xs text-slate-600",children:"Asia Pacific"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-orange-600 rounded-lg flex items-center justify-center mb-2 mx-auto",children:e.jsx(ie,{className:"w-10 h-10 text-white"})}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:"CDN C"}),e.jsx("p",{className:"text-xs text-slate-600",children:"China"})]})]}),e.jsx("p",{className:"text-sm text-center text-slate-700",children:"GeoDNS routes users to best CDN for their region"})]}),a==="load"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-blue-600 rounded-lg flex items-center justify-center mb-2",children:e.jsx(se,{className:"w-12 h-12 text-white"})}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:"CDN A"}),e.jsx("p",{className:"text-xs text-emerald-600",children:"50% traffic"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-purple-600 rounded-lg flex items-center justify-center mb-2",children:e.jsx(se,{className:"w-12 h-12 text-white"})}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:"CDN B"}),e.jsx("p",{className:"text-xs text-emerald-600",children:"50% traffic"})]})]}),e.jsx("p",{className:"text-sm text-center text-slate-700",children:"Traffic split evenly across both CDNs - maximum redundancy"})]}),a==="content-type"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-lg flex items-center justify-center mb-2 mx-auto",children:e.jsx(se,{className:"w-10 h-10 text-white"})}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:"CDN A"}),e.jsx("p",{className:"text-xs text-slate-600",children:"HTML, CSS, JS"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-purple-600 rounded-lg flex items-center justify-center mb-2 mx-auto",children:e.jsx(ie,{className:"w-10 h-10 text-white"})}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:"CDN B"}),e.jsx("p",{className:"text-xs text-slate-600",children:"Images & Video"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-orange-600 rounded-lg flex items-center justify-center mb-2 mx-auto",children:e.jsx(z,{className:"w-10 h-10 text-white"})}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:"CDN C"}),e.jsx("p",{className:"text-xs text-slate-600",children:"API Responses"})]})]}),e.jsx("p",{className:"text-sm text-center text-slate-700",children:"Different CDNs optimized for different content types"})]})]}),r.multiCdn.approaches.filter(i=>i.name.toLowerCase().startsWith(a)).map((i,n)=>e.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-5",children:[e.jsx("h4",{className:"font-bold text-emerald-900 mb-3",children:i.name}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-medium text-green-700 mb-2 flex items-center gap-1",children:[e.jsx(N,{className:"w-3 h-3"})," Advantages:"]}),e.jsx("ul",{className:"space-y-1",children:i.pros.map((m,p)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500 mt-1.5 flex-shrink-0"}),m]},p))})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-medium text-red-700 mb-2 flex items-center gap-1",children:[e.jsx(F,{className:"w-3 h-3"})," Challenges:"]}),e.jsx("ul",{className:"space-y-1",children:i.cons.map((m,p)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 rounded-full bg-red-500 mt-1.5 flex-shrink-0"}),m]},p))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-medium text-slate-700 mb-1",children:"Example:"}),e.jsx("p",{className:"text-sm text-slate-900",children:i.example})]})]},n))]}),e.jsxs("div",{className:" from-orange-50 to-amber-50 border border-orange-200 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-orange-900 mb-4 flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5"}),"Interview Tips: Advanced CDN Strategies"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[e.jsx("p",{className:"text-sm font-semibold text-orange-900 mb-2",children:"Q: How would you handle a major content update that needs to go live immediately?"}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("strong",{children:"A:"})," Use cache busting (versioned URLs) for instant updates without purge costs. Change app.js to app.v2.js in HTML. Old version stays cached, new version loads immediately. No purge API needed, no race conditions, no cache propagation delays."]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[e.jsx("p",{className:"text-sm font-semibold text-orange-900 mb-2",children:"Q: When would you choose Push CDN over Pull CDN?"}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("strong",{children:"A:"})," Push CDN for known, popular, large files - OS updates, game patches, software downloads. Content is uploaded once, served millions of times with zero origin load. Pull CDN for dynamic websites where you can't predict what will be popular."]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[e.jsx("p",{className:"text-sm font-semibold text-orange-900 mb-2",children:"Q: Why would a company use multiple CDN providers?"}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("strong",{children:"A:"})," 1) Redundancy/failover for 99.99%+ uptime 2) Geographic optimization (Alibaba for China, Cloudflare for US) 3) Cost optimization via competition 4) Avoid vendor lock-in. Trade-off is complexity and higher costs."]})]})]})]})]})}function sr(){const s=le(),[l,t]=x.useState(null),[o,a]=x.useState(0),[c,r]=x.useState("tcp"),d=x.useRef([]),[i,n]=x.useState(!1),[m,p]=x.useState(300),[g,h]=x.useState("us"),[u,C]=x.useState("idle"),[S,V]=x.useState(!1),[D,ee]=x.useState("round-robin"),[w,H]=x.useState([{id:"A",weight:1,connections:0,responseTime:400,up:!0},{id:"B",weight:2,connections:0,responseTime:250,up:!0},{id:"C",weight:1,connections:0,responseTime:700,up:!0}]),[ae,T]=x.useState([]),E=x.useRef(0),L=x.useRef(0),[q,Y]=x.useState(""),J=x.useRef([]),[ge,Pe]=x.useState([]),Ce=["#60A5FA","#F97316","#A78BFA","#34D399","#F973A4","#F59E0B","#E2E8F0"],[y,M]=x.useState(!1),[O,Z]=x.useState(0),[xe,Q]=x.useState(!1),Te=[{id:1,name:"Your Device",icon:e.jsx(Yt,{className:"w-8 h-8"}),desc:"Request starts here (e.g. browser)",color:"bg-slate-100"},{id:2,name:"Home Router",icon:e.jsx(zs,{className:"w-8 h-8"}),desc:"Gateway to local network (NAT)",color:"bg-orange-100"},{id:3,name:"ISP Modem",icon:e.jsx(ws,{className:"w-8 h-8"}),desc:"Connects house to ISP network",color:"bg-blue-100"},{id:4,name:"ISP Backbone",icon:e.jsx(ie,{className:"w-8 h-8"}),desc:"High-speed fiber optic cables",color:"bg-indigo-100"},{id:5,name:"IXP",icon:e.jsx(Gs,{className:"w-8 h-8"}),desc:"Internet Exchange Point (networks meet)",color:"bg-purple-100"},{id:6,name:"Target Server",icon:e.jsx(Jt,{className:"w-8 h-8"}),desc:"Google / Netflix / Amazon",color:"bg-green-100"}],[oe,ne]=x.useState(0),We=()=>{ne(0);let j=0;const R=setInterval(()=>{j++,ne(j),j>=4&&clearInterval(R)},1500)},Ge=()=>{if(xe)return;Q(!0),Z(0);let j=0;const R=setInterval(()=>{j++,Z(j),j>=Te.length-1&&(clearInterval(R),setTimeout(()=>Q(!1),2e3))},1200)},ds=[{id:7,name:"Application",desc:"End-user processes (HTTP, SMTP)",protocols:["HTTP/S","DNS","SMTP","SSH"],color:"bg-indigo-500"},{id:6,name:"Presentation",desc:"Data translation/encryption (SSL/TLS)",protocols:["SSL","TLS","JPEG","ASCII"],color:"bg-indigo-400"},{id:5,name:"Session",desc:"Session management",protocols:["Sockets","RPC"],color:"bg-indigo-300"},{id:4,name:"Transport",desc:"End-to-end connections (TCP/UDP)",protocols:["TCP","UDP"],color:"bg-blue-500"},{id:3,name:"Network",desc:"Routing & Addressing (IP)",protocols:["IPv4","IPv6","ICMP"],color:"bg-blue-400"},{id:2,name:"Data Link",desc:"Physical addressing (MAC)",protocols:["Ethernet","WiFi"],color:"bg-blue-300"},{id:1,name:"Physical",desc:"Cables & Signals (Bits)",protocols:["Fiber","Cat6"],color:"bg-blue-200"}];x.useEffect(()=>{const j=setInterval(()=>{a(R=>(R+1)%5)},2e3);return()=>clearInterval(j)},[]),x.useEffect(()=>{const j=new IntersectionObserver(R=>{R.forEach(I=>{I.isIntersecting&&(I.target.classList.add("opacity-100","translate-y-0"),I.target.classList.remove("opacity-0","translate-y-8"))})},{threshold:.1,rootMargin:"0px 0px -100px 0px"});return d.current.forEach(R=>{R&&j.observe(R)}),()=>j.disconnect()},[]);const Be=j=>{const R=[];return j.forEach((I,B)=>{for(let U=0;U<Math.max(1,I.weight);U++)R.push(B)}),R},ze=(j,R)=>{const I=w.map((B,U)=>({...B,index:U})).filter(B=>B.up);if(I.length===0)return null;switch(j){case"round-robin":{const B=E.current%I.length;return E.current=(E.current+1)%I.length,I[B].index}case"weighted-rr":{const B=Be(I);if(B.length===0)return null;const U=L.current%B.length;return L.current=(L.current+1)%B.length,I[B[U]].index}case"least-connections":{let B=I[0];return I.forEach(U=>{U.connections<B.connections&&(B=U)}),B.index}case"ip-hash":{const B=R||`${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}`;let U=0;for(let X=0;X<B.length;X++)U+=B.charCodeAt(X);const G=U%I.length;return I[G].index}case"least-response-time":{let B=I[0];return I.forEach(U=>{U.responseTime<B.responseTime&&(B=U)}),B.index}case"random":default:{const B=Math.floor(Math.random()*I.length);return I[B].index}}},qe=(j={})=>{var U;const{ip:R}=j,I=ze(D,R);if(I==null){T(G=>["No servers available ðŸ›‘",...G].slice(0,50));return}H(G=>G.map((X,_e)=>_e===I?{...X,connections:X.connections+1,hit:!0}:X)),T(G=>[`${new Date().toLocaleTimeString()} â†’ Routed to ${w[I].id} (${D})`,...G].slice(0,50));const B={time:Date.now(),serverId:w[I].id,serverIndex:I};J.current=[B,...J.current].slice(0,100),Pe(J.current),setTimeout(()=>{H(G=>G.map((X,_e)=>_e===I?{...X,connections:Math.max(0,X.connections-1)}:X))},(((U=w[I])==null?void 0:U.responseTime)||500)+0),setTimeout(()=>{H(G=>G.map((X,_e)=>_e===I?{...X,hit:!1}:X))},400)},cs=j=>{var I,B;if(!((I=w[j])!=null&&I.up)){T(U=>{var G;return[`${new Date().toLocaleTimeString()} â†’ Server ${(G=w[j])==null?void 0:G.id} is DOWN (not routed)`,...U].slice(0,50)});return}if(j==null)return;H(U=>U.map((G,X)=>X===j?{...G,connections:G.connections+1,hit:!0}:G)),T(U=>[`${new Date().toLocaleTimeString()} â†’ Routed to ${w[j].id} (manual)`,...U].slice(0,50));const R={time:Date.now(),serverId:w[j].id,serverIndex:j};J.current=[R,...J.current].slice(0,100),Pe(J.current),setTimeout(()=>{H(U=>U.map((G,X)=>X===j?{...G,connections:Math.max(0,G.connections-1)}:G))},(((B=w[j])==null?void 0:B.responseTime)||500)+0),setTimeout(()=>{H(U=>U.map((G,X)=>X===j?{...G,hit:!1}:G))},400)},Ts=(j=100,R=60)=>{for(let I=0;I<j;I++)setTimeout(()=>qe({ip:q}),I*R)};x.useEffect(()=>{const j=Be(w);w.length>0&&(E.current=E.current%w.length),j.length>0&&(L.current=L.current%j.length)},[w]),x.useEffect(()=>{J.current=J.current.filter(j=>j.serverIndex<w.length),Pe(J.current)},[w]);const Rs=()=>{H(j=>{const I={id:String.fromCharCode(65+j.length),weight:1,connections:0,responseTime:300+Math.floor(Math.random()*700),up:!0};return[...j,I]})},Es=()=>{H(j=>{if(j.length<=1)return j;const R=j.slice(0,-1);E.current=R.length?E.current%R.length:0;const I=Be(R);return L.current=I.length?L.current%I.length:0,R})};return x.useEffect(()=>{if(!y)return;const j=setInterval(()=>{const R=w.reduce((I,B)=>I+B.connections,0)/Math.max(1,w.length);R>.9?Rs():R<.25&&w.length>1&&Es()},1e3);return()=>clearInterval(j)},[y,w]),e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"relative gradient-overlay py-20 md:py-32 overflow-hidden",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-blue-50 border border-blue-100 mb-6",children:e.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Module 2"})}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6",children:["Networking, Delivery & ",e.jsx("span",{className:"text-gradient",children:"Edge"})]}),e.jsx("p",{className:"text-lg md:text-xl text-slate-600 mb-8 mx-auto",children:"Master the networking fundamentals that power the internet. From IP addressing and DNS resolution to CDNs, load balancers, and modern protocols. Interactive demos and real-world examples included."}),e.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:e.jsx("button",{onClick:()=>s("/"),className:"btn-secondary",children:"Back to Home"})})]})})}),e.jsxs("div",{className:"container-custom py-16 space-y-20",children:[e.jsxs("section",{className:"scroll-mt-24",children:[e.jsxs("div",{className:"mb-12 text-center max-w-3xl mx-auto",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"01 â€” The Big Picture"}),e.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-slate-900 mb-6",children:"How the Internet Works"}),e.jsx("p",{className:"text-lg text-slate-600",children:`Before we dive into protocols and layers, let's visualize the physical journey your data takes. It's not magicâ€”it's a series of "hops" across the world.`})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-8 shadow-xl overflow-hidden relative",children:[e.jsx("div",{className:"flex justify-center mb-12",children:e.jsx("button",{onClick:Ge,disabled:xe,className:`
                  relative overflow-hidden group px-8 py-4 rounded-full font-bold text-lg shadow-lg transition-all transform hover:-translate-y-1
                  ${xe?"bg-slate-100 text-slate-400 cursor-not-allowed":" from-blue-600 to-indigo-600 text-white hover:shadow-blue-500/30"}
                `,children:e.jsx("span",{className:"relative z-10 flex items-center gap-2",children:xe?"Tracing Route...":"Trace a Request ðŸš€"})})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"hidden md:block absolute top-[40px] left-10 right-10 h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full  from-blue-500 to-indigo-500 transition-all duration-1000 ease-linear",style:{width:`${O/(Te.length-1)*100}%`}})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 md:gap-0 relative z-10",children:Te.map((j,R)=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:`
                        w-20 h-20 rounded-2xl flex items-center justify-center shadow-md transition-all duration-500 mb-4 relative
                        ${R<=O?`${j.color} scale-110 ring-4 ring-offset-2 ring-blue-100 text-blue-600`:"bg-white border border-slate-200 opacity-50 grayscale text-slate-400"}
                      `,children:[j.icon,R===O&&xe&&e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-blue-400 opacity-20 animate-ping"})]}),e.jsxs("div",{className:`text-center transition-all duration-500 ${R<=O?"opacity-100 translate-y-0":"opacity-40 translate-y-2"}`,children:[e.jsx("div",{className:"font-bold text-slate-900 text-sm md:text-base leading-tight mb-1",children:j.name}),e.jsx("div",{className:"text-xs text-slate-500 px-2 leading-tight hidden md:block",children:j.desc})]})]},j.id))})]}),e.jsx("div",{className:"mt-12 bg-slate-50 rounded-2xl p-6 border border-slate-200 transition-all duration-300 min-h-[140px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-2xl animate-fade-in key={journeyStep}",children:[e.jsxs("div",{className:"text-xs font-bold text-blue-500 uppercase tracking-widest mb-2",children:["Hop ",O+1," of ",Te.length]}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:Te[O].name}),e.jsxs("p",{className:"text-slate-600",children:[O===0&&"You type 'google.com' and hit Enter. Your browser creates an HTTP request.",O===1&&"Your router receives the request via WiFi/Ethernet and forwards it to your ISP.",O===2&&"The signal travels over phone/cable lines to your Internet Service Provider's local node.",O===3&&"Your request hits the high-speed Fiber Optic 'Backbone' of the internet, traveling at light speed.",O===4&&"An Internet Exchange Point (IXP) routes your data between different ISP networks to find the destination.",O===5&&"Success! The server receives your request and prepares to send the website data back."]})]})})]})]}),e.jsxs("section",{ref:j=>d.current[0]=j,className:" transition-all duration-700",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"01 â€” Fundamentals"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"OSI 7-Layer Model"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl",children:"The conceptual framework identifying the parts of network communication. Focus on Layer 4 (Transport) and Layer 7 (Application)."})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-start",children:[e.jsx("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:e.jsx("div",{className:"space-y-2",children:ds.map(j=>e.jsx("div",{onMouseEnter:()=>t(j.id),onMouseLeave:()=>t(null),className:`
                      relative p-4 rounded-lg cursor-pointer transition-all duration-300 transform
                      ${l===j.id?"scale-105 shadow-md z-10":"hover:bg-slate-50"}
                      ${l===j.id?"bg-white ring-2 ring-blue-500":""}
                    `,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`
                        w-10 h-10 rounded-lg flex items-center justify-center text-black font-bold shadow-sm
                        ${j.color}
                      `,children:["L",j.id]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-slate-900",children:j.name}),e.jsx("div",{className:"text-sm text-slate-500",children:j.desc})]}),l===j.id&&e.jsx("div",{className:"text-xs font-semibold text-blue-600 animate-fade-in px-2 py-1 bg-blue-50 rounded",children:j.protocols.join(", ")})]})},j.id))})}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-6 h-full flex flex-col justify-center",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Key Distinctions"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-100 shadow-sm",children:[e.jsx("div",{className:"font-bold text-blue-800 mb-1",children:"Layer 4 (Transport)"}),e.jsx("p",{className:"text-sm text-slate-600",children:'Focuses on end-to-end delivery (TCP/UDP). Load balancers here are faster but "dumber" - they route based on IP:Port.'})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-indigo-100 shadow-sm",children:[e.jsx("div",{className:"font-bold text-indigo-800 mb-1",children:"Layer 7 (Application)"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Focuses on content (HTTP). Load balancers here are slower but smarter - they can route based on URL paths, headers, etc."})]})]})]})]})]}),e.jsxs("section",{ref:j=>d.current[1]=j,className:" transition-all duration-700",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"02 â€” Addressing"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"IP/DNS Basics, TTL & Geo-Routing"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl",children:"How domain names become IP addresses. The phonebook of the internet."})]}),e.jsx("div",{className:" from-amber-50 to-orange-50 border-2 border-amber-200 rounded-2xl p-8 mb-8",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-amber-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’¡"})," Why This Matters"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Every request starts with finding the server. Performance depends on routing users to the closest healthy node. DNS is the foundation of distributed systems."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ› ï¸"})," How It Works"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"DNS records (A, CNAME, NS), Anycast IP for geo-routing, and TTL for caching. Resolver queries flow: Client â†’ Root â†’ TLD â†’ Authoritative NS."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"â°"})," When To Use"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Designing global systems or debugging connectivity/latency issues. Essential for multi-region deployments and failover strategies."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"âš–ï¸"})," Trade-offs"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Low TTL = fresher data but higher DNS load/latency. High TTL = better caching but risk of stale endpoints during failover."})]})]})}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-8 mb-8 text-slate-900 relative overflow-hidden",children:[e.jsx("h3",{className:"text-xl font-bold mb-8 text-center",children:"DNS Recursive Resolution Flow"}),e.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 md:gap-8 relative z-10",children:[{icon:"ðŸ’»",label:"Client"},{icon:"ðŸ“¡",label:"Resolver"},{icon:"ROOT",label:"Root (.)"},{icon:"TLD",label:".com"},{icon:"NS",label:"aws.com"}].map((j,R)=>e.jsxs("div",{className:`
                  flex flex-col items-center transition-all duration-500
                  ${R===o?"scale-110 opacity-100":"opacity-50"}
                `,children:[e.jsx("div",{className:`
                    w-16 h-16 rounded-full flex items-center justify-center text-2xl mb-2
                    ${R===o?"bg-white text-blue-600 shadow-lg ring-4 ring-blue-50":"bg-slate-100 text-slate-700"}
                  `,children:e.jsx("span",{className:`${R===o?"text-blue-600":"text-slate-700"} text-2xl`,children:j.icon})}),e.jsx("div",{className:`text-sm font-medium ${R===o?"text-slate-900":"text-slate-700"}`,children:j.label})]},R))}),e.jsx("div",{className:"mt-8 text-center bg-slate-50 rounded-lg p-4",children:e.jsxs("div",{className:"text-cyan-600 font-mono text-lg",children:[o===0&&"Where is example.com?",o===1&&"Asking Root Server...",o===2&&"Root says: Check .com TLD",o===3&&"TLD says: Check AWS NS",o===4&&"NS says: IP is 93.184.216.34"]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Public vs Private IPs"}),e.jsx("div",{className:"relative h-60 bg-slate-50 rounded-lg border border-slate-100 p-4 flex items-center justify-center overflow-hidden",children:i?e.jsxs("div",{className:"w-full h-full flex items-center justify-between relative animate-fade-in",onClick:()=>n(!1),children:[e.jsxs("div",{className:"flex flex-col items-center z-10",children:[e.jsx("div",{className:"bg-white p-2 rounded shadow-sm border text-xs mb-1",children:"192.168.1.5"}),e.jsx("div",{className:"text-2xl",children:"ðŸ’»"})]}),e.jsxs("div",{className:"flex flex-col items-center z-10",children:[e.jsx("div",{className:"bg-orange-100 p-2 rounded shadow-sm border border-orange-200 text-xs mb-1 font-bold",children:"203.0.113.1"}),e.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center font-bold shadow-lg",children:"NAT"}),e.jsx("div",{className:"bg-slate-100 p-2 rounded shadow-sm border text-xs mt-1",children:"192.168.1.1"})]}),e.jsxs("div",{className:"flex flex-col items-center z-10",children:[e.jsx("div",{className:"bg-blue-50 p-2 rounded shadow-sm border border-blue-100 text-xs mb-1",children:"8.8.8.8"}),e.jsx("div",{className:"text-2xl",children:"â˜ï¸"})]}),e.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-slate-200 -mt-4 z-0"}),e.jsx("div",{className:"absolute top-1/2 left-1/4 -mt-6 text-[10px] text-slate-400",children:"Private"}),e.jsx("div",{className:"absolute top-1/2 right-1/4 -mt-6 text-[10px] text-slate-400",children:"Public"})]}):e.jsxs("div",{className:"text-center space-y-4 cursor-pointer",onClick:()=>n(!0),children:[e.jsx("div",{className:"text-4xl",children:"ðŸ "}),e.jsx("div",{className:"text-sm font-semibold text-slate-600",children:"Private Network"}),e.jsx("div",{className:"text-xs text-slate-500",children:"192.168.1.X"}),e.jsx("div",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-bold animate-bounce",children:"Click to see NAT"})]})}),e.jsxs("p",{className:"mt-4 text-sm text-slate-600",children:["Devices get ",e.jsx("b",{children:"Private IPs"})," (free, reusable) locally. The Router uses ",e.jsx("b",{children:"NAT"})," to map them to one ",e.jsx("b",{children:"Public IP"})," to talk to the internet."]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"IP Versions"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4 p-3 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsx("div",{className:"font-bold text-blue-800 w-16",children:"IPv4"}),e.jsxs("div",{className:"text-sm text-slate-700",children:[e.jsx("div",{className:"font-mono text-xs bg-white/50 inline-block px-1 rounded mb-1",children:"192.168.1.1"}),e.jsx("div",{children:"32-bit. ~4.3 billion addresses. Exhausted long ago. Relies on NAT to survive."})]})]}),e.jsxs("div",{className:"flex items-start gap-4 p-3 bg-purple-50 rounded-lg border border-purple-100",children:[e.jsx("div",{className:"font-bold text-purple-800 w-16",children:"IPv6"}),e.jsxs("div",{className:"text-sm text-slate-700",children:[e.jsx("div",{className:"font-mono text-xs bg-white/50 inline-block px-1 rounded mb-1",children:"2001:0db8:85a3..."}),e.jsx("div",{children:"128-bit. 340 undecillion addresses. Every atom on Earth could have an IP. No NAT needed."})]})]})]})]})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-8 mb-8",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"Advanced DNS Concepts"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"font-bold text-slate-800",children:"TTL (Time To Live)"}),e.jsxs("span",{className:"text-xs font-mono bg-slate-100 px-2 py-1 rounded",children:[m,"s"]})]}),e.jsx("input",{type:"range",min:"60",max:"3600",step:"60",value:m,onChange:j=>p(Number(j.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer mb-4Accent-blue-600"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm mt-4",children:[e.jsx("div",{className:`
                    w-4 h-4 rounded-full 
                    ${m<300?"bg-orange-500":"bg-green-500"}
                  `}),e.jsx("p",{className:"text-slate-600",children:m<300?"Fast updates, higher load on DNS servers.":"Slower updates, better caching performance."})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[e.jsx("h4",{className:"font-bold text-slate-800 mb-4",children:"Geo-Latency Routing"}),e.jsx("div",{className:"flex gap-2 mb-4",children:["us","eu","asia"].map(j=>e.jsx("button",{onClick:()=>h(j),className:`
                        px-3 py-1 rounded text-sm font-medium uppercase transition-colors
                        ${g===j?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}
                      `,children:j},j))}),e.jsxs("div",{className:"relative h-32 bg-slate-900 rounded-lg overflow-hidden flex items-center justify-center font-mono text-sm",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://upload.wikimedia.org/wikipedia/commons/e/ec/World_map_blank_without_borders.svg')] opacity-10 bg-center bg-no-repeat bg-contain"}),e.jsxs("div",{className:"z-10 text-center",children:[e.jsxs("div",{className:"text-slate-400 text-xs mb-1",children:["Resolved IP for ",g.toUpperCase()," User:"]}),e.jsxs("div",{className:"text-green-400 font-bold text-lg animate-pulse",children:[g==="us"&&"104.21.55.1 (New York)",g==="eu"&&"185.199.108.153 (London)",g==="asia"&&"202.168.1.1 (Singapore)"]})]})]})]})]})]})]}),e.jsxs("section",{ref:j=>d.current[2]=j,className:" transition-all duration-700",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"03 â€” Protocols"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"TCP vs UDP: Transport Protocol Trade-offs"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mb-6",children:"Understanding the fundamental difference between reliable and fast transport."}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>r("tcp"),className:`px-4 py-2 rounded-full font-semibold transition-all ${c==="tcp"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600"}`,children:"TCP (Reliable)"}),e.jsx("button",{onClick:()=>r("udp"),className:`px-4 py-2 rounded-full font-semibold transition-all ${c==="udp"?"bg-orange-500 text-white":"bg-slate-100 text-slate-600"}`,children:"UDP (Fast)"})]})]}),e.jsx("div",{className:" border-2 border-blue-200 rounded-2xl p-8 mb-8",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’¡"})," Why This Matters"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Protocols dictate performance. TCP is reliable but slow; UDP is fast but unreliable. Choosing wrong protocol can make or break real-time applications."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-indigo-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ› ï¸"})," How To Choose"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Use TCP for data integrity (web, email, file transfer). Use UDP for speed-critical apps (gaming, streaming, VoIP) where occasional packet loss is acceptable."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"â°"})," When To Use"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"TCP: REST APIs, databases, file transfers. UDP: Video streaming, online gaming, DNS lookups, real-time monitoring."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"âš–ï¸"})," Trade-offs"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"TCP: Guaranteed delivery but higher latency. UDP: Fast but requires custom reliability logic. QUIC (HTTP/3) gets best of both."})]})]})}),e.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl p-8 shadow-sm transition-all duration-500",children:c==="tcp"?e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"text-4xl",children:"ðŸ¤"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-blue-600",children:"Transmission Control Protocol"}),e.jsx("p",{className:"text-slate-600",children:"Connection-oriented, reliable, ordered"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-4",children:"How it works (3-Way Handshake)"}),e.jsxs("div",{className:"space-y-3 font-mono text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center text-slate-500",children:[e.jsx("span",{children:"Client"}),e.jsx("span",{children:"Server"})]}),e.jsx("div",{className:"bg-white p-2 rounded border border-blue-200 flex justify-between",children:e.jsx("span",{children:"SYN â†’"})}),e.jsx("div",{className:"bg-white p-2 rounded border border-blue-200 flex justify-between",children:e.jsx("span",{children:"â† SYN-ACK"})}),e.jsx("div",{className:"bg-white p-2 rounded border border-blue-200 flex justify-between",children:e.jsx("span",{children:"ACK â†’"})}),e.jsx("div",{className:"text-center text-green-600 text-xs font-bold py-1",children:"âœ¨ Connected! Data flows..."})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-4",children:"Properties"}),e.jsx("ul",{className:"space-y-3",children:["Guaranteed Delivery (No packet loss)","Ordered Packets (1, 2, 3...)","Flow Control & Congestion Control","Slower (due to overhead)"].map((j,R)=>e.jsxs("li",{className:"flex items-center gap-2 text-slate-700",children:[e.jsx("span",{className:"text-blue-500",children:"âœ“"})," ",j]},R))}),e.jsxs("div",{className:"mt-6",children:[e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:"Use Cases:"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("span",{className:"px-3 py-1 bg-slate-100 rounded-full text-sm",children:"Web (HTTP)"}),e.jsx("span",{className:"px-3 py-1 bg-slate-100 rounded-full text-sm",children:"Email"}),e.jsx("span",{className:"px-3 py-1 bg-slate-100 rounded-full text-sm",children:"File Transfer"})]})]})]})]})]}):e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"text-4xl",children:"ðŸš€"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-orange-500",children:"User Datagram Protocol"}),e.jsx("p",{className:"text-slate-600",children:"Connectionless, fast, fire-and-forget"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-orange-50 p-6 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-4",children:"How it works"}),e.jsxs("div",{className:"space-y-3 font-mono text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center text-slate-500",children:[e.jsx("span",{children:"Client"}),e.jsx("span",{children:"Server"})]}),e.jsx("div",{className:"bg-white p-2 rounded border border-orange-200",children:"DATA Packet 1 â†’"}),e.jsx("div",{className:"bg-white p-2 rounded border border-orange-200",children:"DATA Packet 2 â†’"}),e.jsx("div",{className:"bg-white p-2 rounded border border-orange-200",children:"DATA Packet 3 â†’ (Lost? Don't care!)"}),e.jsx("div",{className:"bg-white p-2 rounded border border-orange-200",children:"DATA Packet 4 â†’"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-4",children:"Properties"}),e.jsx("ul",{className:"space-y-3",children:["No Handshake (Instant start)","Packets may arrive out of order","No Retries (Fire and forget)","Extremely Fast & Lightweight"].map((j,R)=>e.jsxs("li",{className:"flex items-center gap-2 text-slate-700",children:[e.jsx("span",{className:"text-orange-500",children:"âœ“"})," ",j]},R))}),e.jsxs("div",{className:"mt-6",children:[e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:"Use Cases:"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("span",{className:"px-3 py-1 bg-slate-100 rounded-full text-sm",children:"Video Streaming"}),e.jsx("span",{className:"px-3 py-1 bg-slate-100 rounded-full text-sm",children:"Gaming"}),e.jsx("span",{className:"px-3 py-1 bg-slate-100 rounded-full text-sm",children:"VoIP"})]})]})]})]})]})})]}),e.jsxs("section",{ref:j=>d.current[3]=j,className:" transition-all duration-700",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"03B â€” Evolution"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"HTTP/1.1 vs HTTP/2 vs HTTP/3"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl",children:"How the web protocol evolved to be faster and more efficient."})]}),e.jsx("div",{className:" border-2 border-purple-200 rounded-2xl p-8 mb-8",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’¡"})," Why Evolution Matters"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"HTTP/2+3 fix head-of-line blocking and improve performance significantly. Modern web apps need these protocols for optimal user experience."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ› ï¸"})," How To Implement"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Use HTTP/2 for multiplexing over TCP; HTTP/3 (QUIC) for lossy networks. Offload TLS at load balancer to save app server CPU."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"â°"})," When To Upgrade"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"High-traffic web apps benefit from HTTP/2. Mobile apps and video streaming should use HTTP/3. Most CDNs support both automatically."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-orange-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"âš–ï¸"})," Trade-offs"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"HTTP/3 requires UDP support (some firewalls block it). HTTP/2 still uses TCP, so TCP head-of-line blocking remains. Migration requires infrastructure updates."})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-300 mb-2",children:"1997"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"HTTP/1.1"}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Text-based protocol. One request per connection (head-of-line blocking)."}),e.jsxs("div",{className:"bg-slate-50 p-3 rounded text-xs font-mono text-slate-700",children:["GET /index.html",e.jsx("br",{}),"Wait...",e.jsx("br",{}),"GET /style.css",e.jsx("br",{}),"Wait..."]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm border-t-4 border-t-blue-500",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-200 mb-2",children:"2015"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"HTTP/2"}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Binary protocol. Multiplexing (many requests at once). Header compression."}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded text-xs font-mono text-blue-900",children:["Stream 1: GET /index.html",e.jsx("br",{}),"Stream 2: GET /style.css",e.jsx("br",{}),"(Parallel over 1 TCP conn)"]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm border-t-4 border-t-purple-500",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-200 mb-2",children:"2022"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"HTTP/3 (QUIC)"}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Based on UDP! No TCP HoL blocking. Better for mobile/lossy networks."}),e.jsxs("div",{className:"bg-purple-50 p-3 rounded text-xs font-mono text-purple-900",children:["QUIC Packet (UDP)",e.jsx("br",{}),"Built-in TLS 1.3",e.jsx("br",{}),"Native Multiplexing"]})]})]})]}),e.jsxs("section",{className:"opacity-100 transition-all duration-700",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"03C â€” Security"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"TLS/SSL Handshake"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl",children:`How does your browser establish a secure, encrypted connection? It's a conversation called the "Handshake".`})]}),e.jsxs("div",{className:"rounded-2xl p-8 mb-8 relative overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-start mb-12 relative z-10",children:[e.jsxs("div",{className:"flex flex-col items-center w-1/3",children:[e.jsx("div",{className:"text-5xl mb-3",children:"ðŸ§‘â€ðŸ’»"}),e.jsx("div",{className:"font-bold text-lg",children:"Client"}),e.jsx("div",{className:"text-slate-400 text-sm",children:"Chrome / You"}),oe>=3&&e.jsx("div",{className:"mt-4 text-green-400 text-xs font-mono border border-green-500/30 bg-green-500/10 px-2 py-1 rounded animate-fade-in",children:"ðŸ”‘ Session Key Generated"})]}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center min-h-[200px]",children:[oe===0&&e.jsx("button",{onClick:We,className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-full font-bold shadow-lg transition-all animate-bounce",children:"Start Handshake ðŸ”’"}),oe===1&&e.jsxs("div",{className:"animate-slide-right flex flex-col items-center",children:[e.jsx("div",{className:"bg-blue-600 text-xs px-3 py-1 rounded-full mb-2",children:"ClientHello"}),e.jsx("div",{className:"w-40 h-1  from-blue-500 to-transparent"}),e.jsxs("div",{className:"font-mono text-[10px] text-slate-300 mt-2 text-center bg-black/50 p-2 rounded",children:['"I support RSA, AES-256"',e.jsx("br",{}),`"Here's a random number: 492..."`]})]}),oe===2&&e.jsxs("div",{className:"animate-slide-left flex flex-col items-center",children:[e.jsx("div",{className:"bg-purple-600 text-xs px-3 py-1 rounded-full mb-2",children:"ServerHello"}),e.jsx("div",{className:"w-40 h-1 bg-gradient-to-l from-purple-500 to-transparent"}),e.jsxs("div",{className:"font-mono text-[10px] text-slate-300 mt-2 text-center bg-black/50 p-2 rounded",children:[`"Let's use AES-256"`,e.jsx("br",{}),'"Here is my Digital Cert ðŸ“œ"',e.jsx("br",{}),`"Here's my random number: 881..."`]})]}),oe===3&&e.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ¤"}),e.jsx("div",{className:"font-bold text-yellow-400",children:"Key Exchange"}),e.jsxs("div",{className:"font-mono text-[10px] text-slate-300 mt-2 text-center",children:["Client validates Cert.",e.jsx("br",{}),'Both generate "Master Secret".']})]}),oe===4&&e.jsxs("div",{className:"animate-fade-in flex flex-col items-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ”’"}),e.jsx("div",{className:"font-bold text-green-400 text-xl",children:"Specific Channel Established"}),e.jsx("button",{onClick:()=>ne(0),className:"mt-6 text-sm text-slate-400 hover:text-black underline",children:"Replay"})]})]}),e.jsxs("div",{className:"flex flex-col items-center w-1/3",children:[e.jsx("div",{className:"text-5xl mb-3",children:"ðŸ¢"}),e.jsx("div",{className:"font-bold text-lg",children:"Server"}),e.jsx("div",{className:"text-slate-400 text-sm",children:"google.com"}),oe>=3&&e.jsx("div",{className:"mt-4 text-green-400 text-xs font-mono border border-green-500/30 bg-green-500/10 px-2 py-1 rounded animate-fade-in",children:"ðŸ”‘ Session Key Generated"})]})]}),e.jsx("div",{className:"flex justify-center gap-2 mt-8",children:[1,2,3,4].map(j=>e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${oe>=j?"w-8 bg-blue-500":"w-2 bg-slate-700"}`},j))})]})]}),e.jsxs("section",{ref:j=>d.current[4]=j,className:" transition-all duration-700",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"04 â€” Delivery"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"Content Delivery Networks (CDN) Deep Dive"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl",children:"Understand how CDNs dramatically reduce latency by caching content closer to users. See it in action with our interactive demo."})]}),e.jsx("div",{className:"border-2 border-green-200 rounded-2xl p-8 mb-8",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’¡"})," Why CDNs Are Critical"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Serve static content from the edge (close to user) to reduce latency and origin load. Can improve performance by 80-90% for global audiences."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ› ï¸"})," How To Choose"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Pull (fetch on miss) for automation and dynamic content. Push (upload) for control and static sites. Invalidate via TTL or explicit purge."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-indigo-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"â°"})," When To Use"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Serving images, CSS, JS, or video to a distributed audience. Essential for media sites, e-commerce, and global SaaS applications."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"âš–ï¸"})," Trade-offs"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:'Pull is easier but has "cold start" latency on first request. Push ensures availability but adds deployment complexity and storage costs.'})]})]})}),e.jsxs("div",{className:"rounded-2xl p-8 mb-8 relative overflow-hidden min-h-[400px]",children:[e.jsxs("div",{className:"absolute top-6 right-6 z-20 flex gap-4",children:[e.jsx("button",{onClick:()=>{u==="idle"&&(C("request"),setTimeout(()=>{S?(C("delivered"),setTimeout(()=>C("idle"),2e3)):(C("origin-fetch"),setTimeout(()=>{C("edge-store"),setTimeout(()=>{V(!0),C("delivered"),setTimeout(()=>C("idle"),2e3)},1500)},1500))},1e3))},disabled:u!=="idle",className:`
                   px-6 py-2 rounded-full font-bold shadow-lg transition-all
                   ${u==="idle"?"bg-blue-600 hover:bg-blue-500 hover:scale-105":"bg-slate-700 cursor-not-allowed"}
                 `,children:u==="idle"?"Request Data ðŸš€":"Processing..."}),S&&e.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 rounded-full font-bold border border-red-500 text-red-500 hover:bg-red-500/10",children:"Purge Cache ðŸ—‘ï¸"})]}),e.jsxs("div",{className:"flex items-center justify-between h-full pt-12 relative z-10",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ§‘â€ðŸ’»"}),e.jsx("div",{className:"font-bold",children:"User"}),e.jsx("div",{className:"text-xs text-slate-400",children:"San Francisco"})]}),e.jsxs("div",{className:"flex flex-col items-center relative",children:[e.jsx("div",{className:`
                   w-24 h-24 rounded-2xl border-2 flex items-center justify-center text-3xl transition-all duration-300
                   ${S?"bg-green-500/20 border-green-500 shadow-[0_0_30px_rgba(34,197,94,0.3)]":"bg-slate-800 border-slate-600"}
                 `,children:S?"ðŸ’¾":"âŒ"}),e.jsx("div",{className:"font-bold mt-4",children:"Edge Node"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Los Angeles (Close!)"}),e.jsx("div",{className:"text-xs mt-1 font-mono text-blue-400",children:S?"Cache: HIT":"Cache: MISS"})]}),e.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ${S?"opacity-30 blur-[1px]":"opacity-100"}`,children:[e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ¢"}),e.jsx("div",{className:"font-bold",children:"Origin Server"}),e.jsx("div",{className:"text-xs text-slate-400",children:"New York (Far!)"})]})]}),u!=="idle"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`
                   absolute top-1/2 left-[10%] w-3 h-3 bg-blue-400 rounded-full z-20 animate-ping
                   ${u==="request"?"translate-x-[200px] transition-transform duration-1000":""}
                 `}),u==="origin-fetch"&&e.jsx("div",{className:"absolute top-1/2 left-[45%] w-3 h-3 bg-orange-500 rounded-full z-20 animate-ping translate-x-[200px] transition-transform duration-1500"}),u==="edge-store"&&e.jsx("div",{className:"absolute top-1/2 right-[20%] w-3 h-3 bg-green-400 rounded-full z-20 animate-ping -translate-x-[200px] transition-transform duration-1500"}),u==="delivered"&&e.jsx("div",{className:"absolute top-1/2 left-[45%] w-3 h-3 bg-green-400 rounded-full z-20 animate-ping -translate-x-[350px] transition-transform duration-1000"})]}),e.jsx("div",{className:"absolute bottom-6 left-0 right-0 text-center",children:e.jsxs("code",{className:"bg-black/30 px-4 py-2 rounded text-cyan-300 font-mono",children:[u==="idle"&&"Ready for request...",u==="request"&&"User requesting content...",u==="origin-fetch"&&"MISS! Fetching from Origin (High Latency)...",u==="edge-store"&&"Origin responding... Caching at Edge...",u==="delivered"&&S&&"HIT! Served instantly from Edge!",u==="delivered"&&!S&&"Content delivered (and now cached)."]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-8 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-purple-500 to-pink-600 flex items-center justify-center text-2xl",children:"ðŸ“¤"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Push CDN"})]}),e.jsx("p",{className:"text-slate-700 mb-6",children:"You manually upload content to CDN servers when it changes. You control exactly what's cached."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide mb-3",children:"How It Works"}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-100",children:e.jsxs("ol",{className:"text-sm text-slate-700 space-y-2 list-decimal list-inside",children:[e.jsx("li",{children:"You deploy new content (images, JS, CSS)"}),e.jsx("li",{children:"You push it directly to CDN nodes"}),e.jsx("li",{children:"CDN stores it until you update/delete"}),e.jsx("li",{children:"Users get served from CDN immediately"})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-green-600 mb-2",children:"âœ“ Advantages"}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Minimized traffic from origin"}),e.jsx("li",{children:"â€¢ Full control over content timing"}),e.jsx("li",{children:"â€¢ Good for sites with infrequent updates"}),e.jsx("li",{children:"â€¢ Predictable storage costs"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-red-600 mb-2",children:"âœ— Disadvantages"}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Requires manual maintenance"}),e.jsx("li",{children:"â€¢ Must manage uploads yourself"}),e.jsx("li",{children:"â€¢ Pay for storage even if not accessed"})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-2",children:"Best For:"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Static sites, marketing sites, assets that rarely change"})]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-8 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-blue-500 to-cyan-600 flex items-center justify-center text-2xl",children:"ðŸ“¥"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Pull CDN"})]}),e.jsx("p",{className:"text-slate-700 mb-6",children:"CDN automatically fetches content from your origin server when first requested by a user."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide mb-3",children:"How It Works"}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:e.jsxs("ol",{className:"text-sm text-slate-700 space-y-2 list-decimal list-inside",children:[e.jsx("li",{children:"User requests content for first time"}),e.jsx("li",{children:"CDN doesn't have it (cache MISS)"}),e.jsx("li",{children:"CDN pulls from your origin server"}),e.jsx("li",{children:"CDN caches it and serves to user"}),e.jsx("li",{children:"Next requests = cache HIT (fast!)"})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-green-600 mb-2",children:"âœ“ Advantages"}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Automatic content distribution"}),e.jsx("li",{children:"â€¢ No manual uploads needed"}),e.jsx("li",{children:"â€¢ Only popular content cached"}),e.jsx("li",{children:"â€¢ Lower storage costs"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-red-600 mb-2",children:"âœ— Disadvantages"}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ First request always slower (cold start)"}),e.jsx("li",{children:"â€¢ Origin must handle initial traffic"}),e.jsx("li",{children:"â€¢ Stale content if not managed properly"})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-2",children:"Best For:"}),e.jsx("div",{className:"text-sm text-slate-600",children:"High-traffic sites, dynamic content, frequently updated assets"})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-8 shadow-sm mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"CDN Cache Invalidation Strategies"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"rounded-lg p-6 border border-blue-200",children:[e.jsx("div",{className:"text-3xl mb-3",children:"â°"}),e.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Time-Based (TTL)"}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Content expires after a set time period"}),e.jsxs("div",{className:"bg-white rounded p-3 text-xs font-mono text-slate-700 mb-3",children:["Cache-Control: max-age=3600",e.jsx("br",{}),"Expires: Tue, 10 Dec 2024 12:00:00 GMT"]}),e.jsxs("div",{className:"text-xs text-slate-600",children:[e.jsx("strong",{children:"Use:"})," Static assets, images, CSS, JS",e.jsx("br",{}),e.jsx("strong",{children:"TTL:"})," Hours or days"]})]}),e.jsxs("div",{className:"rounded-lg p-6 border border-purple-200",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ”„"}),e.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Version-Based"}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Change URL when content updates"}),e.jsxs("div",{className:"bg-white rounded p-3 text-xs font-mono text-slate-700 mb-3",children:["Old: /style.css",e.jsx("br",{}),"New: /style.v2.css",e.jsx("br",{}),"Or: /style.css?v=123"]}),e.jsxs("div",{className:"text-xs text-slate-600",children:[e.jsx("strong",{children:"Use:"})," Deployed assets",e.jsx("br",{}),e.jsx("strong",{children:"Benefit:"})," Instant updates, no purge needed"]})]}),e.jsxs("div",{className:"rounded-lg p-6 border border-green-200",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ—‘ï¸"}),e.jsx("h4",{className:"font-bold text-slate-900 mb-3",children:"Manual Purge"}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Explicitly remove cached content via API"}),e.jsxs("div",{className:"bg-white rounded p-3 text-xs font-mono text-slate-700 mb-3",children:["POST /purge",e.jsx("br",{}),"{",'"files": ["/index.html"]',"}"]}),e.jsxs("div",{className:"text-xs text-slate-600",children:[e.jsx("strong",{children:"Use:"})," Emergency updates, critical fixes",e.jsx("br",{}),e.jsx("strong",{children:"Note:"})," Propagation takes minutes"]})]})]})]}),e.jsxs("div",{className:" border border-blue-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"CDN Performance Impact"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 mb-4",children:"Without CDN ðŸŒ"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Latency (US to Asia)"}),e.jsx("span",{className:"text-lg font-bold text-red-600",children:"250ms"})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"100%"}})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Page Load Time"}),e.jsx("span",{className:"text-lg font-bold text-red-600",children:"5.2s"})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"100%"}})})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 mb-4",children:"With CDN ðŸš€"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Latency (Edge Server)"}),e.jsx("span",{className:"text-lg font-bold text-green-600",children:"15ms"})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"6%"}})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Page Load Time"}),e.jsx("span",{className:"text-lg font-bold text-green-600",children:"0.8s"})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"15%"}})})]})]})]})]}),e.jsx("div",{className:"mt-6 bg-white rounded-lg p-4 border border-blue-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"85% Faster"}),e.jsx("div",{className:"text-sm text-slate-600",children:"CDNs can reduce page load times by 80-90% for global audiences"})]})})]})]}),e.jsxs("section",{ref:j=>d.current[5]=j,className:" transition-all duration-700",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"05 â€” Traffic Control"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"Load Balancer vs Reverse Proxy"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl",children:"Often confused, but distinct tools for managing traffic flow."})]}),e.jsx("div",{className:"border-2 border-cyan-200 rounded-2xl p-8 mb-8",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-cyan-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’¡"})," Why You Need Both"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Scale beyond one server and secure the internal network. Load balancers distribute traffic; reverse proxies add security, caching, and SSL termination."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ› ï¸"})," How To Implement"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"L4 LB (IP+Port) for raw speed and simple routing. L7 LB (HTTP headers/path) for smart routing by URL, user ID, or A/B testing."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"â°"})," When To Deploy"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Always, for production systems requiring availability and scale. Start with managed solutions like ALB, NLB, or cloud load balancers."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"âš–ï¸"})," Trade-offs"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"L7 offers smarter routing (e.g., by user ID) but is more CPU-intensive than L4. L4 is faster but can't inspect HTTP content for routing decisions."})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white border-2 border-indigo-100 rounded-xl p-8 shadow-sm",children:[e.jsx("h3",{className:"text-2xl font-bold text-indigo-900 mb-4",children:"Reverse Proxy"}),e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg mb-6 flex items-center justify-between text-sm",children:[e.jsx("span",{children:"ðŸŒ Internet"}),e.jsx("span",{children:"â†’"}),e.jsx("span",{className:"p-2 bg-indigo-600 text-white rounded font-bold",children:"Proxy"}),e.jsx("span",{children:"â†’"}),e.jsx("span",{children:"ðŸ–¥ï¸ Server"})]}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsxs("li",{children:["ðŸ›¡ï¸ ",e.jsx("b",{children:"Security"}),": Hides server identity (IP)."]}),e.jsxs("li",{children:["ðŸ“¦ ",e.jsx("b",{children:"Caching"}),": Caches responses."]}),e.jsxs("li",{children:["ðŸ”’ ",e.jsx("b",{children:"SSL Termination"}),": Handles encryption."]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-blue-100 rounded-xl p-8 shadow-sm",children:[e.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-4",children:"Load Balancer"}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6 flex items-center justify-between text-sm",children:[e.jsx("span",{children:"ðŸŒ"}),e.jsx("span",{children:"â†’"}),e.jsx("span",{className:"p-2 bg-blue-600 text-white rounded font-bold",children:"LB"}),e.jsx("span",{children:"â†’"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs",children:"ðŸ–¥ï¸ S1"}),e.jsx("span",{className:"text-xs",children:"ðŸ–¥ï¸ S2"})]})]}),e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsxs("li",{children:["âš–ï¸ ",e.jsx("b",{children:"Distribution"}),": Spreads traffic across servers."]}),e.jsxs("li",{children:["ðŸš‘ ",e.jsx("b",{children:"Health Checks"}),": Skips dead servers."]}),e.jsxs("li",{children:["ðŸ“ˆ ",e.jsx("b",{children:"Scaling"}),": Add more servers easily."]})]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-8 shadow-sm mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Load Balancing Algorithms Deep Dive"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[{name:"Round Robin",icon:"ðŸ”„",desc:"Distributes requests sequentially across servers",pros:"Simple, fair distribution, works well with identical servers",cons:"Doesnt account for server load or capacity",useCase:"Stateless applications with uniform servers",example:"Request 1 â†’ Server A, Request 2 â†’ Server B, Request 3 â†’ Server C, repeat"},{name:"Weighted Round Robin",icon:"âš–ï¸",desc:"Round robin but with server capacity weighting",pros:"Accounts for different server capacities",cons:"Requires manual weight configuration",useCase:"Servers with different specs (2x capacity = 2x weight)",example:"Server A (weight 2): 4GB RAM, Server B (weight 1): 2GB RAM"},{name:"Least Connections",icon:"ðŸ“Š",desc:"Routes to server with fewest active connections",pros:"Better for long-lived connections, adapts to load",cons:"Slightly more complex tracking",useCase:"WebSocket connections, database connections, chat apps",example:"Server A: 5 connections, Server B: 3 connections â†’ Route to B"},{name:"IP Hash",icon:"ðŸ”‘",desc:"Hash client IP to consistently route to same server",pros:"Session persistence without sticky sessions",cons:"Uneven distribution if users clustered by IP",useCase:"Applications requiring session affinity",example:"hash(192.168.1.5) % 3 = 2 â†’ Always Server C"},{name:"Least Response Time",icon:"âš¡",desc:"Routes to server with fastest response time",pros:"Optimizes for performance, adapts to server health",cons:"Requires active monitoring and more overhead",useCase:"Performance-critical applications",example:"Server A: 50ms avg, Server B: 30ms avg â†’ Route to B"},{name:"Random",icon:"ðŸŽ²",desc:"Randomly selects a server for each request",pros:"Very simple, no state needed, good for large server pools",cons:"No intelligence, uneven distribution in short term",useCase:"Large server farms, simple load distribution",example:"Random number generator picks Server A, B, or C"}].map((j,R)=>e.jsxs("div",{className:" from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-3xl",children:j.icon}),e.jsx("h4",{className:"text-xl font-bold text-slate-900",children:j.name})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:j.desc}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"text-xs",children:[e.jsx("span",{className:"text-green-600 font-semibold",children:"âœ“ Pros:"}),e.jsxs("span",{className:"text-slate-600",children:[" ",j.pros]})]}),e.jsxs("div",{className:"text-xs",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:"âœ— Cons:"}),e.jsxs("span",{className:"text-slate-600",children:[" ",j.cons]})]})]}),e.jsxs("div",{className:"bg-white/60 rounded p-3 border border-blue-100",children:[e.jsx("div",{className:"text-xs font-semibold text-blue-900 mb-1",children:"Use Case:"}),e.jsx("div",{className:"text-xs text-slate-700 mb-2",children:j.useCase}),e.jsx("div",{className:"text-xs font-semibold text-slate-500 mb-1",children:"Example:"}),e.jsx("code",{className:"text-xs text-slate-600",children:j.example})]})]},R))})]}),e.jsxs("div",{className:"mt-6 border-t pt-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Interactive Demo"}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap mb-4",children:[e.jsx("label",{className:"text-sm text-slate-600",children:"Algorithm"}),e.jsxs("select",{value:D,onChange:j=>ee(j.target.value),className:"px-3 py-2 rounded border border-slate-200",children:[e.jsx("option",{value:"round-robin",children:"Round Robin"}),e.jsx("option",{value:"weighted-rr",children:"Weighted Round Robin"}),e.jsx("option",{value:"least-connections",children:"Least Connections"}),e.jsx("option",{value:"ip-hash",children:"IP Hash"}),e.jsx("option",{value:"least-response-time",children:"Least Response Time"}),e.jsx("option",{value:"random",children:"Random"})]}),e.jsx("input",{type:"text",placeholder:"Client IP (optional)",value:q,onChange:j=>Y(j.target.value),className:"px-3 py-2 rounded border border-slate-200"}),e.jsx("button",{onClick:()=>qe({ip:q}),className:"px-4 py-2 bg-blue-600 text-white rounded font-semibold hover:bg-blue-500",children:"Send Request"}),e.jsx("button",{onClick:()=>Ts(10,60),className:"px-4 py-2 bg-slate-100 rounded font-semibold border border-slate-200 hover:bg-slate-200",children:"Send 10 Requests"}),e.jsx("button",{onClick:()=>Ts(100,20),className:"px-4 py-2 bg-slate-100 rounded font-semibold border border-slate-200 hover:bg-slate-200",children:"Send 100 Requests"}),e.jsx("button",{onClick:Rs,className:"px-4 py-2 bg-green-100 rounded font-semibold border border-green-200 hover:bg-green-200",children:"Add Server"}),e.jsx("button",{onClick:Es,className:"px-4 py-2 bg-red-100 rounded font-semibold border border-red-200 hover:bg-red-200",children:"Remove Server"}),e.jsx("button",{onClick:()=>M(j=>!j),className:`px-4 py-2 rounded font-semibold border ${y?"bg-amber-200 border-amber-300":"bg-slate-100 border-slate-200"}`,children:y?"Autoscale: On":"Autoscale: Off"}),e.jsxs("div",{className:"px-3 py-1 bg-slate-100 rounded text-sm text-slate-700",children:["Servers: ",e.jsx("span",{className:"font-semibold",children:w.length})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-semibold",children:"Routing Graph"}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Last ",ge.length," requests"]})]}),e.jsxs("div",{className:"w-full bg-white border border-slate-200 rounded p-2 overflow-hidden",children:[e.jsx("svg",{width:"100%",height:"40",viewBox:`0 0 ${Math.max(1,ge.length)*12} 40`,preserveAspectRatio:"none",children:ge.map((j,R)=>{const U=R*12,G=Ce[j.serverIndex%Ce.length]||"#94a3b8";return e.jsx("rect",{x:U,y:5,width:10,height:30,rx:2,ry:2,fill:G},R)})}),e.jsx("div",{className:"flex gap-3 mt-2 flex-wrap text-xs",children:w.map((j,R)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{style:{width:12,height:12,backgroundColor:Ce[R%Ce.length]},className:"rounded-full"}),e.jsx("div",{className:"text-slate-700",children:j.id})]},j.id))})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3 mb-4",children:w.map((j,R)=>e.jsxs("div",{className:`p-3 rounded-lg border shadow-sm transition-all ${j.up?"bg-white":"bg-red-50 border-red-200"} ${j.hit?"ring-2 ring-blue-400 scale-105":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-bold text-slate-900 text-lg",children:["Server ",j.id]}),e.jsx("div",{className:"text-xs text-slate-500",children:j.up?"Up":"Down"})]}),e.jsxs("div",{className:"mb-3 text-sm text-slate-700",children:["Conns: ",e.jsx("span",{className:"font-bold",children:j.connections})]}),e.jsxs("div",{className:"mb-2 text-sm",children:["Weight: ",e.jsx("span",{className:"font-semibold",children:j.weight}),e.jsx("input",{type:"range",min:"1",max:"5",value:j.weight,onChange:I=>{const B=Number(I.target.value);H(U=>U.map((G,X)=>X===R?{...G,weight:B}:G))},className:"w-full mt-2"})]}),e.jsxs("div",{className:"mb-3 text-sm",children:["Resp: ",e.jsxs("span",{className:"font-semibold",children:[j.responseTime,"ms"]}),e.jsx("input",{type:"range",min:"50",max:"1200",step:"50",value:j.responseTime,onChange:I=>{const B=Number(I.target.value);H(U=>U.map((G,X)=>X===R?{...G,responseTime:B}:G))},className:"w-full mt-2"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>H(I=>I.map((B,U)=>U===R?{...B,up:!B.up}:B)),className:`px-3 py-1 rounded text-sm ${j.up?"bg-red-50 border border-red-200 text-red-600":"bg-green-50 border border-green-200 text-green-700"}`,children:j.up?"Mark Down":"Mark Up"}),e.jsxs("button",{onClick:()=>cs(R),className:"px-3 py-1 rounded text-sm bg-blue-50 border border-blue-100 hover:bg-blue-100",children:["Send to ",j.id]})]})]},j.id))})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-8 mt-20 shadow-sm",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Health Checks & High Availability"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-green-50 rounded-lg p-5 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-2xl",children:"âœ…"}),e.jsx("h4",{className:"font-bold text-green-900",children:"Active Health Checks"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Load balancer periodically pings servers with HTTP requests"}),e.jsxs("div",{className:"bg-white rounded p-3 text-xs font-mono text-slate-700",children:["GET /health every 5s",e.jsx("br",{}),"200 OK â†’ Healthy",e.jsx("br",{}),"Timeout â†’ Unhealthy"]})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-5 border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-2xl",children:"âš ï¸"}),e.jsx("h4",{className:"font-bold text-yellow-900",children:"Passive Health Checks"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Monitor actual traffic to detect failures"}),e.jsxs("div",{className:"bg-white rounded p-3 text-xs font-mono text-slate-700",children:["Track errors per server",e.jsx("br",{}),"5xx errors â†’ Mark degraded",e.jsx("br",{}),"Timeouts â†’ Remove from pool"]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-5 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ”„"}),e.jsx("h4",{className:"font-bold text-blue-900",children:"Graceful Degradation"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Automatic failover and recovery strategies"}),e.jsxs("div",{className:"bg-white rounded p-3 text-xs font-mono text-slate-700",children:["Server fails â†’ Remove",e.jsx("br",{}),"Redistribute traffic",e.jsx("br",{}),"Auto-recover when healthy"]})]})]})]})]}),e.jsxs("section",{ref:j=>d.current[6]=j,className:" transition-all duration-700",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"06 â€” Proxy Comparison"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"Reverse Proxy vs Forward Proxy"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mb-6",children:"Understanding the key differences between these two proxy types and when to use each."})]}),e.jsx(Ya,{})]}),e.jsxs("section",{ref:j=>d.current[7]=j,className:" transition-all duration-700",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"07 â€” Gateway vs Load Balancer"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"API Gateway vs Load Balancer"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mb-6",children:"Compare these two critical infrastructure components and learn when to use each."})]}),e.jsx(Ja,{})]}),e.jsxs("section",{ref:j=>d.current[8]=j,className:" transition-all duration-700",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"08 â€” WebSockets"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"WebSocket Deep Dive"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mb-6",children:"Master real-time bidirectional communication, scaling challenges, and fallback strategies."})]}),e.jsx(Xa,{})]}),e.jsxs("section",{ref:j=>d.current[9]=j,className:" transition-all duration-700",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"09 â€” HTTP/3 & QUIC"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"HTTP/3 & QUIC Protocol"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mb-6",children:"Explore the latest HTTP evolution and why QUIC is revolutionizing web performance."})]}),e.jsx(Za,{})]}),e.jsxs("section",{ref:j=>d.current[10]=j,className:" transition-all duration-700",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"10 â€” CDN Advanced Strategies"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"CDN Advanced Strategies"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mb-6",children:"Production-grade CDN patterns: invalidation, pull vs push, multi-CDN, and edge computing."})]}),e.jsx(er,{})]}),e.jsxs("section",{ref:j=>d.current[11]=j,className:" transition-all duration-700",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"06 â€” Optimizations"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"Performance Toolbox: TLS, Connection Pooling & Compression"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mb-6",children:"Essential optimization techniques to reduce latency and save resources."})]}),e.jsx("div",{className:" from-slate-50 to-gray-50 border-2 border-slate-300 rounded-2xl p-8 mb-8",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’¡"})," Why Optimize"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Every millisecond counts at scale. TLS termination saves CPU, connection pooling reduces latency, and compression saves 70%+ bandwidth."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ› ï¸"})," How To Apply"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Offload TLS at load balancer. Pool DB connections at application layer. Enable Gzip/Brotli compression for text assets (JSON, HTML, CSS)."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"â°"})," When To Implement"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Early in production for TLS and compression. Add connection pooling when DB becomes a bottleneck. Monitor and optimize continuously."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"âš–ï¸"})," Trade-offs"]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"TLS termination requires secure internal network. Connection pooling adds complexity. Compression uses CPU but saves bandwidthâ€”measure impact."})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"p-6 rounded-xl border border-slate-300 bg-white shadow-sm",children:[e.jsx("div",{className:"text-3xl mb-4",children:"ðŸ”"}),e.jsx("h4",{className:"font-bold text-lg mb-2",children:"TLS Termination"}),e.jsx("p",{className:"text-sm",children:"Decrypting HTTPS at the Load Balancer/Proxy instead of the web server. Saves CPU on application servers."})]}),e.jsxs("div",{className:"p-6 rounded-xl border border-slate-300 bg-white shadow-sm",children:[e.jsx("div",{className:"text-3xl mb-4",children:"ðŸŠâ€â™‚ï¸"}),e.jsx("h4",{className:"font-bold text-lg mb-2",children:"Connection Pooling"}),e.jsx("p",{className:"text-sm",children:"Reusing existing DB/Service connections instead of opening a new one for every request. Avoids handshake overhead."})]}),e.jsxs("div",{className:"p-6 rounded-xl border border-slate-300 bg-white shadow-sm",children:[e.jsx("div",{className:"text-3xl mb-4",children:"ðŸ—œï¸"}),e.jsx("h4",{className:"font-bold text-lg mb-2",children:"Compression"}),e.jsx("p",{className:"text-sm",children:"Using Gzip/Brotli to shrink payloads. Large text files (JSON/HTML) can shrink by 70%+, saving bandwidth."})]})]})]}),e.jsx("section",{ref:j=>d.current[12]=j,className:" transition-all duration-700 mb-8",children:e.jsxs("div",{className:" from-blue-600 to-indigo-600 rounded-2xl p-12 text-center",children:[e.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Network Mastered! ðŸŒ"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"You now understand how the internet connects. Let's move to data."})]})}),e.jsx("section",{className:"py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{onClick:()=>s("/foundations"),className:"btn-secondary",children:"â† Previous: Foundations"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>s("/"),className:"btn-tertiary",children:"Home"}),e.jsx("button",{onClick:()=>s("/data-architecture"),className:"btn-primary",children:"Next: Data Architecture â†’"})]})]})})]})]})}const me=(...s)=>ha(xa(s)),b=x.forwardRef(({className:s,...l},t)=>e.jsx("div",{ref:t,className:me("rounded-lg border border-slate-200 bg-white text-slate-950 shadow-xs",s),...l}));b.displayName="Card";const k=x.forwardRef(({className:s,...l},t)=>e.jsx("div",{ref:t,className:me("flex flex-col space-y-1.5 p-6",s),...l}));k.displayName="CardHeader";const A=x.forwardRef(({className:s,...l},t)=>e.jsx("h3",{ref:t,className:me("text-2xl font-semibold leading-none tracking-tight",s),...l}));A.displayName="CardTitle";const ve=x.forwardRef(({className:s,...l},t)=>e.jsx("p",{ref:t,className:me("text-sm text-slate-500",s),...l}));ve.displayName="CardDescription";const P=x.forwardRef(({className:s,...l},t)=>e.jsx("div",{ref:t,className:me("p-6 pt-0",s),...l}));P.displayName="CardContent";const et=x.forwardRef(({className:s,...l},t)=>e.jsx("div",{ref:t,className:me("flex items-center p-6 pt-0",s),...l}));et.displayName="CardFooter";const tr=ks("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 [&_svg]:text-current dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 [&_svg]:text-slate-50 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90 dark:[&_svg]:text-slate-900",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 [&_svg]:text-slate-50 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90 dark:[&_svg]:text-slate-50",outline:"border border-slate-200 bg-white text-slate-900 hover:bg-slate-100 hover:text-slate-900 [&_svg]:text-slate-600 hover:[&_svg]:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50 dark:hover:bg-slate-800 dark:hover:text-slate-50 dark:[&_svg]:text-slate-400",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 [&_svg]:text-slate-900 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80 dark:[&_svg]:text-slate-50",ghost:"text-slate-900 hover:bg-slate-100 hover:text-slate-900 [&_svg]:text-slate-600 hover:[&_svg]:text-slate-900 dark:text-slate-50 dark:hover:bg-slate-800 dark:hover:text-slate-50 dark:[&_svg]:text-slate-400",link:"text-slate-900 underline-offset-4 hover:underline [&_svg]:text-slate-900 dark:text-slate-50 dark:[&_svg]:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=x.forwardRef(({className:s,variant:l,size:t,asChild:o=!1,...a},c)=>{const r=o?pa:"button";return e.jsx(r,{className:me(tr({variant:l,size:t,className:s})),ref:c,...a})});re.displayName="Button";const As=x.forwardRef(({className:s,type:l,...t},o)=>e.jsx("input",{type:l,className:me("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-base ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-slate-950 placeholder:text-slate-500 focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:file:text-slate-50 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",s),ref:o,...t}));As.displayName="Input";const ar=ks("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ye=x.forwardRef(({className:s,...l},t)=>e.jsx(Ys,{ref:t,className:me(ar(),s),...l}));Ye.displayName=Ys.displayName;const Se=ua,be=x.forwardRef(({className:s,...l},t)=>e.jsx(Js,{ref:t,className:me("inline-flex h-10 items-center justify-center rounded-md bg-slate-200 p-1 text-slate-700 dark:bg-slate-800 dark:text-slate-400 border-slate-300 dark:border-slate-700",s),...l}));be.displayName=Js.displayName;const W=x.forwardRef(({className:s,...l},t)=>e.jsx(Xs,{ref:t,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-indigo-100 transition-all focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-slate-200 data-[state=active]:text-slate-900 data-[state=active]:shadow-xs data-[state=inactive]:text-slate-700 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300 dark:data-[state=active]:bg-slate-950 dark:data-[state=active]:text-slate-50",s),...l}));W.displayName=Xs.displayName;const de=x.forwardRef(({className:s,...l},t)=>e.jsx(Zs,{ref:t,className:me("mt-2 ring-offset-white focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",s),...l}));de.displayName=Zs.displayName;const Bs=()=>{var D,ee;const[s,l]=x.useState([]),[t,o]=x.useState(""),[a,c]=x.useState("/users"),[r,d]=x.useState(10),[i,n]=x.useState(!1),m=10,p=1e3,g="secret-123",h=[{path:"/users",service:"User Service",protected:!1},{path:"/orders",service:"Order Service",protected:!0},{path:"/payments",service:"Payment Service",protected:!0}],u=x.useRef(null);x.useEffect(()=>{const w=setInterval(()=>{d(H=>Math.min(H+1,m))},p);return()=>clearInterval(w)},[]),x.useEffect(()=>(i?u.current=setInterval(()=>{S()},200):clearInterval(u.current),()=>clearInterval(u.current)),[i,r,t,a]);const C=(w,H,ae)=>{l(T=>[{id:Date.now()+Math.random(),timestamp:new Date().toLocaleTimeString(),status:w,message:H,source:ae},...T].slice(0,10))},S=()=>{const w=h.find(H=>H.path===a);if(r<1){C(429,"Too Many Requests","Gateway (Rate Limiter)");return}if(d(H=>H-1),w.protected&&t!==g){C(401,"Unauthorized - Invalid API Key","Gateway (Auth Guard)");return}C(200,`Forwarded to ${w.service}`,w.service)},V=w=>w===200?"text-green-600 bg-green-50 border-green-200":w===429?"text-orange-600 bg-orange-50 border-orange-200":"text-red-600 bg-red-50 border-red-200";return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-4 bg-white",children:[e.jsxs(b,{className:"col-span-1 bg-white border-2 border-slate-200",children:[e.jsxs(k,{children:[e.jsxs(A,{className:"flex items-center gap-2 text-slate-900",children:[e.jsx(Le,{className:"w-5 h-5"})," Client Request"]}),e.jsx(ve,{className:"text-slate-600",children:"Simulate incoming traffic"})]}),e.jsxs(P,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{className:"text-slate-700",children:"Endpoint"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:h.map(w=>e.jsx(re,{variant:a===w.path?"default":"outline",className:"justify-start",onClick:()=>c(w.path),children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:w.path}),w.protected&&e.jsx(ls,{className:"w-3 h-3 ml-2 opacity-50"})]})},w.path))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{className:"text-slate-700",children:"API Key (Required for locked endpoints)"}),e.jsx(As,{placeholder:"Enter 'secret-123'",value:t,onChange:w=>o(w.target.value),className:"bg-white"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Try: secret-123"})]})]}),e.jsxs(et,{className:"flex gap-2",children:[e.jsx(re,{className:"flex-1",onClick:S,children:"Send Request"}),e.jsx(re,{variant:i?"destructive":"secondary",onClick:()=>n(!i),children:i?"Stop Spam":"Spam (5/s)"})]})]}),e.jsxs(b,{className:"col-span-1 bg-white border-2 border-slate-200",children:[e.jsxs(k,{children:[e.jsxs(A,{className:"flex items-center gap-2 text-slate-900",children:[e.jsx(he,{className:"w-5 h-5"})," API Gateway"]}),e.jsx(ve,{className:"text-slate-600",children:"Processing Logic"})]}),e.jsxs(P,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"font-medium text-sm flex items-center gap-2 text-slate-900",children:[e.jsx(Le,{className:"w-4 h-4 text-blue-500"})," Rate Limiter"]}),e.jsxs("span",{className:"text-xs font-mono bg-white px-2 py-1 rounded border border-slate-200 text-slate-700",children:[r,"/",m," tokens"]})]}),e.jsx("div",{className:"h-4 w-full bg-slate-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${r<3?"bg-red-500":"bg-blue-500"}`,style:{width:`${r/m*100}%`}})}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Cost: 1 token/req. Refill: 1 token/s."})]}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 shadow-sm",children:[e.jsx("div",{className:"flex justify-between items-center mb-2",children:e.jsxs("span",{className:"font-medium text-sm flex items-center gap-2 text-slate-900",children:[e.jsx(ls,{className:"w-4 h-4 text-purple-500"})," Auth Guard"]})}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:["Status:",(D=h.find(w=>w.path===a))!=null&&D.protected?t===g?e.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[e.jsx(De,{className:"w-3 h-3"})," Pass"]}):e.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[e.jsx(Ie,{className:"w-3 h-3"})," Fail"]}):e.jsx("span",{className:"text-slate-500",children:"Public (Skipped)"})]})]}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 shadow-sm",children:[e.jsx("div",{className:"flex justify-between items-center mb-2",children:e.jsxs("span",{className:"font-medium text-sm flex items-center gap-2 text-slate-900",children:[e.jsx(te,{className:"w-4 h-4 text-orange-500"})," Router"]})}),e.jsxs("div",{className:"text-sm text-center p-2 bg-white rounded border border-slate-200 text-slate-700",children:[a," âž” ",(ee=h.find(w=>w.path===a))==null?void 0:ee.service]})]})]})]}),e.jsxs(b,{className:"col-span-1 bg-white border-2 border-slate-200",children:[e.jsxs(k,{children:[e.jsxs(A,{className:"flex items-center gap-2 text-slate-900",children:[e.jsx(se,{className:"w-5 h-5"})," System Logs"]}),e.jsx(ve,{className:"text-slate-600",children:"Recent activity"})]}),e.jsx(P,{children:e.jsxs("div",{className:"space-y-2",children:[s.length===0&&e.jsx("div",{className:"text-center text-slate-500 py-8 text-sm",children:"No requests yet."}),s.map(w=>e.jsxs("div",{className:`p-2 rounded border text-xs flex items-start gap-2 ${V(w.status)}`,children:[e.jsx("span",{className:"font-mono opacity-70 text-slate-600",children:w.timestamp}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-semibold flex justify-between",children:[e.jsx("span",{children:w.status}),e.jsx("span",{children:w.source})]}),e.jsx("div",{children:w.message})]})]},w.id))]})})]})]})};function rr(){const[s,l]=x.useState("uri"),t={uri:{icon:e.jsx(ns,{className:"w-6 h-6"}),title:"URI Versioning",description:"Version embedded in the URL path",examples:[{label:"REST API",code:`GET /api/v1/users/123
GET /api/v2/users/123

# Version in subdomain
GET https://v1.api.example.com/users/123
GET https://v2.api.example.com/users/123`},{label:"Router Configuration",code:`// Express.js example
const v1Router = express.Router()
const v2Router = express.Router()

v1Router.get('/users/:id', getUserV1)
v2Router.get('/users/:id', getUserV2)

app.use('/api/v1', v1Router)
app.use('/api/v2', v2Router)`}],pros:["Very clear and visible","Easy to route to different implementations","Simple for clients to specify version","Good for public APIs","Browser-friendly (can bookmark specific versions)"],cons:["Changes the resource URI (breaks REST principles)","Client must update URLs when migrating","Can lead to URL sprawl","Harder to deprecate old versions","Cache invalidation challenges"],useCases:["Public REST APIs (Twitter, GitHub, Stripe)","When breaking changes are frequent","Multi-tenant SaaS platforms","APIs consumed by diverse clients"],migration:{title:"Migration Strategy",steps:["Deploy v2 alongside v1 (same codebase)","Announce deprecation timeline (6-12 months)","Provide migration guide with examples","Monitor v1 usage metrics","Send notifications to heavy users","Sunset v1 after grace period"],code:`// Shared logic pattern
class UserService {
  getUser(id, version) {
    const user = this.fetchUser(id)
    
    if (version === 'v1') {
      return this.transformV1(user)
    }
    return this.transformV2(user)
  }
}`}},header:{icon:e.jsx(Ks,{className:"w-6 h-6"}),title:"Header Versioning",description:"Version specified in HTTP headers",examples:[{label:"Custom Header",code:`GET /api/users/123 HTTP/1.1
Host: api.example.com
API-Version: 2

# Or using Accept header
GET /api/users/123 HTTP/1.1
Accept: application/vnd.example.v2+json`},{label:"Middleware Implementation",code:`// Express middleware
app.use((req, res, next) => {
  const version = req.headers['api-version'] || '1'
  req.apiVersion = version
  next()
})

app.get('/api/users/:id', (req, res) => {
  if (req.apiVersion === '2') {
    return handleV2(req, res)
  }
  return handleV1(req, res)
})`}],pros:["URI remains clean and RESTful","Easy to add new versions without changing URLs","Version not visible in browser address bar (security)","Follows HTTP standards (content negotiation)","Can version APIs independently"],cons:["Less discoverable (not visible in URL)","Harder to test in browser","Requires header inspection tools","Client must remember to set headers","Documentation overhead"],useCases:["Internal microservices","APIs with frequent non-breaking changes","When URI stability is critical","RESTful purists"],migration:{title:"Migration Strategy",steps:["Add header parsing middleware","Default to latest version if header missing","Log version usage for analytics","Gradually increase default version","Require explicit version header","Remove old version handlers"],code:`// Version negotiation
function getApiVersion(req) {
  const header = req.headers['api-version']
  const accept = req.headers['accept']
  
  // Parse from Accept header
  const match = accept?.match(/v(\\d+)/)
  const version = header || match?.[1] || 'latest'
  
  return validateVersion(version)
}`}},query:{icon:e.jsx(bs,{className:"w-6 h-6"}),title:"Query Parameter",description:"Version passed as URL parameter",examples:[{label:"Query String",code:`GET /api/users/123?version=2
GET /api/users/123?api-version=2
GET /api/users/123?v=2

# Optional parameter (defaults to latest)
GET /api/users/123  # Uses latest version`},{label:"Controller Logic",code:`// Spring Boot example
@GetMapping("/users/{id}")
public User getUser(
  @PathVariable Long id,
  @RequestParam(defaultValue = "1") int version
) {
  if (version == 2) {
    return userServiceV2.getUser(id)
  }
  return userServiceV1.getUser(id)
}`}],pros:["Keeps URI clean (main path unchanged)","Easy to make version optional","Simple for clients to change versions","Good for gradual migrations","Easy to test in browser"],cons:["Can be ignored by clients (if optional)","Query params often not cached properly","Feels like a workaround","May conflict with other parameters","Not suitable for POST/PUT bodies"],useCases:["Temporary versioning during migration","Feature flags disguised as versions","A/B testing different API behaviors","Backward compatibility shims"],migration:{title:"Migration Strategy",steps:["Make version parameter optional (default to v1)","Introduce v2 as opt-in via ?version=2","Track adoption metrics","Change default to v2","Make version parameter required","Remove v1 code paths"],code:`// Graceful defaults
function getRequestedVersion(req) {
  const v = req.query.version || req.query.v
  
  if (!v) {
    // Log for analytics
    analytics.track('api_default_version')
    return 'latest'
  }
  
  return v
}`}},contentNegotiation:{icon:e.jsx(N,{className:"w-6 h-6"}),title:"Content Negotiation",description:"Version via Accept/Content-Type headers",examples:[{label:"Media Type Versioning",code:`GET /api/users/123 HTTP/1.1
Accept: application/vnd.company.user-v2+json

# Response
HTTP/1.1 200 OK
Content-Type: application/vnd.company.user-v2+json

{
  "id": 123,
  "name": "Alice",
  "email": "alice@example.com"
}`},{label:"Server Implementation",code:`// ASP.NET Core example
[ApiController]
[Route("api/users")]
public class UsersController {
  
  [HttpGet("{id}")]
  [Produces("application/vnd.company.user-v1+json")]
  public UserV1 GetUserV1(int id) {
    return userService.GetUserV1(id);
  }
  
  [HttpGet("{id}")]
  [Produces("application/vnd.company.user-v2+json")]
  public UserV2 GetUserV2(int id) {
    return userService.GetUserV2(id);
  }
}`}],pros:["True REST implementation (HATEOAS)","Follows HTTP specification exactly","Supports multiple formats (JSON, XML, Protobuf)","Resource URI never changes","Enables sophisticated content negotiation"],cons:["Complex to implement","Difficult for clients to use","Poor developer experience","Not well understood by many developers","Overkill for most APIs"],useCases:["Hypermedia-driven APIs","APIs serving multiple formats","Academic/research projects","When absolute REST purity matters"],migration:{title:"Migration Strategy",steps:["Define custom media types for each version","Implement content negotiation middleware","Default to latest media type","Document media types in API docs","Support legacy media types indefinitely","Version media types, not resources"],code:`// Content negotiation
app.use((req, res, next) => {
  const accept = req.headers.accept
  
  if (accept.includes('v2+json')) {
    req.apiVersion = 2
  } else if (accept.includes('v1+json')) {
    req.apiVersion = 1
  } else {
    req.apiVersion = 'latest'
  }
  next()
})`}}},o=t[s];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-3",children:"API Versioning Strategies"}),e.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"How to evolve your API without breaking existing clients. Choose the right strategy based on your use case."})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(t).map(([a,c])=>e.jsxs("button",{onClick:()=>l(a),className:`p-4 rounded-xl border-2 transition-all text-left ${s===a?"border-blue-500 bg-blue-50 shadow-lg":"border-slate-200 bg-white hover:border-blue-300"}`,children:[e.jsx("div",{className:`mb-2 ${s===a?"text-blue-600":"text-slate-600"}`,children:c.icon}),e.jsx("div",{className:"font-bold text-sm text-slate-900",children:c.title})]},a))}),e.jsxs("div",{className:" from-blue-50 to-indigo-50 rounded-2xl p-8 border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"text-blue-600 mt-1",children:o.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-2",children:o.title}),e.jsx("p",{className:"text-slate-700",children:o.description})]})]}),e.jsx("div",{className:"space-y-4 mb-6",children:o.examples.map((a,c)=>e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:a.label}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto",children:e.jsx("code",{children:a.code})})]},c))}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(N,{className:"w-5 h-5 text-green-600"}),e.jsx("h5",{className:"font-bold text-slate-900",children:"Pros"})]}),e.jsx("ul",{className:"space-y-2",children:o.pros.map((a,c)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-green-600 mt-1",children:"+"}),e.jsx("span",{children:a})]},c))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(F,{className:"w-5 h-5 text-red-600"}),e.jsx("h5",{className:"font-bold text-slate-900",children:"Cons"})]}),e.jsx("ul",{className:"space-y-2",children:o.cons.map((a,c)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-red-600 mt-1",children:"-"}),e.jsx("span",{children:a})]},c))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-blue-200 mb-6",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-3",children:"Best Use Cases"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:o.useCases.map((a,c)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(te,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:a})]},c))})]}),e.jsxs("div",{className:" from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-4",children:o.migration.title}),e.jsx("div",{className:"space-y-3 mb-4",children:o.migration.steps.map((a,c)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-600 text-white flex items-center justify-center text-xs font-bold flex-shrink-0",children:c+1}),e.jsx("div",{className:"text-sm text-slate-700 pt-0.5",children:a})]},c))}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[e.jsx("div",{className:"text-sm font-semibold text-purple-700 mb-2",children:"Implementation Example"}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto",children:e.jsx("code",{children:o.migration.code})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:"Quick Comparison"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-slate-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-bold text-slate-700",children:"Aspect"}),e.jsx("th",{className:"text-left py-3 px-4 font-bold text-slate-700",children:"URI"}),e.jsx("th",{className:"text-left py-3 px-4 font-bold text-slate-700",children:"Header"}),e.jsx("th",{className:"text-left py-3 px-4 font-bold text-slate-700",children:"Query"}),e.jsx("th",{className:"text-left py-3 px-4 font-bold text-slate-700",children:"Content Neg."})]})}),e.jsxs("tbody",{className:"text-slate-600",children:[e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 font-semibold",children:"Visibility"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸŸ¢ High"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸ”´ Low"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸŸ¡ Medium"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸ”´ Low"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 font-semibold",children:"Simplicity"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸŸ¢ Easy"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸŸ¡ Medium"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸŸ¢ Easy"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸ”´ Hard"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 font-semibold",children:"REST Purity"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸ”´ Breaks URI"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸŸ¢ Clean"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸŸ¡ OK"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸŸ¢ Perfect"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 font-semibold",children:"Caching"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸŸ¢ Good"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸŸ¢ Good"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸ”´ Poor"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸŸ¡ OK"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 font-semibold",children:"Browser Test"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸŸ¢ Easy"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸ”´ Need tools"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸŸ¢ Easy"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸ”´ Need tools"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4 font-semibold",children:"Popularity"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸŸ¢ Very Common"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸŸ¡ Growing"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸ”´ Rare"}),e.jsx("td",{className:"py-3 px-4",children:"ðŸ”´ Rare"})]})]})]})})]}),e.jsxs("div",{className:" from-amber-50 to-orange-50 rounded-xl p-6 border-2 border-amber-200",children:[e.jsxs("h4",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’¡"}),"Interview Tips"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "How would you version an API?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),` "I'd use URI versioning (/v1, /v2) for public APIs because it's the most visible and explicit. For internal microservices, I'd consider header versioning to keep URIs clean. The key is to have a clear deprecation policyâ€”typically 6-12 months notice before removing old versions. I'd also implement version analytics to understand usage before deprecation."`]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "When should you introduce a new API version?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),` "Only for breaking changesâ€”removing fields, changing data types, changing business logic. Additive changes (new optional fields, new endpoints) don't require version bumps. Follow semantic versioning principles: v1.0 â†’ v1.1 (additions) â†’ v2.0 (breaking changes)."`]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "How do you handle clients still using old versions?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),' "Set a deprecation timeline, monitor usage metrics, send proactive notifications to API consumers, provide clear migration guides, and consider a grace period where both versions run. For critical clients, offer dedicated support for migration. Eventually, old versions must sunset to avoid maintenance burden."']})]})]})]})]})}function lr(){const[s,l]=x.useState(0),[t,o]=x.useState(0),a=[{title:"Initial Request",description:"Client sends payment request with unique idempotency key",state:{status:"pending",dbState:"empty",response:null}},{title:"Processing",description:"Server stores idempotency key in database and processes payment",state:{status:"processing",dbState:"key_stored",response:null}},{title:"Success Response",description:"Payment completes successfully, response cached with key",state:{status:"completed",dbState:"key_with_result",response:"success"}},{title:"Duplicate Request",description:"Network timeout causes client to retry with same key",state:{status:"duplicate_detected",dbState:"key_with_result",response:"cached"}},{title:"Cached Response",description:"Server returns cached result immediately, no duplicate processing",state:{status:"completed",dbState:"key_with_result",response:"success"}}],c=()=>{s<a.length-1&&(l(s+1),s===3&&o(t+1))},r=()=>{l(0),o(0)},d=a[s];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-3",children:"Idempotency Deep Dive"}),e.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"Making operations safe to retry. Essential for distributed systems where network failures and retries are common."})]}),e.jsx("div",{className:" from-purple-50 to-pink-50 rounded-2xl p-8 border-2 border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"text-purple-600 mt-1",children:e.jsx(he,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-3",children:"What is Idempotency?"}),e.jsxs("p",{className:"text-slate-700 mb-4",children:["An operation is ",e.jsx("span",{className:"font-bold text-purple-700",children:"idempotent"})," if performing it multiple times has the same effect as performing it once."]}),e.jsx("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(N,{className:"w-5 h-5 text-green-600"}),e.jsx("div",{className:"font-bold text-slate-900",children:"Naturally Idempotent"})]}),e.jsxs("div",{className:"space-y-2 text-sm text-slate-700",children:[e.jsx("div",{className:"bg-green-50 p-2 rounded",children:"GET /users/123 (read)"}),e.jsx("div",{className:"bg-green-50 p-2 rounded",children:"PUT /users/123 (full update)"}),e.jsx("div",{className:"bg-green-50 p-2 rounded",children:"DELETE /users/123 (delete)"}),e.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Same result no matter how many times called"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ce,{className:"w-5 h-5 text-red-600"}),e.jsx("div",{className:"font-bold text-slate-900",children:"NOT Idempotent"})]}),e.jsxs("div",{className:"space-y-2 text-sm text-slate-700",children:[e.jsx("div",{className:"bg-red-50 p-2 rounded",children:"POST /payments (create)"}),e.jsx("div",{className:"bg-red-50 p-2 rounded",children:"POST /orders (create)"}),e.jsx("div",{className:"bg-red-50 p-2 rounded",children:"PATCH /balance (increment)"}),e.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Multiple calls create duplicate effects"})]})]})]})})]})]})}),e.jsxs("div",{className:" from-blue-50 to-cyan-50 rounded-2xl p-8 border-2 border-blue-200",children:[e.jsxs("h4",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[e.jsx(Oe,{className:"w-6 h-6 text-blue-600"}),"Interactive Simulation: Payment Processing"]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 mb-6 border border-blue-200",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-2 border-blue-300",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-3 text-center",children:"Client"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"bg-white p-3 rounded border border-blue-200",children:[e.jsx("div",{className:"font-semibold text-blue-700 mb-1",children:"Idempotency Key"}),e.jsx("div",{className:"text-xs font-mono text-slate-600",children:"abc-123-xyz"})]}),e.jsxs("div",{className:"bg-white p-3 rounded border border-blue-200",children:[e.jsx("div",{className:"font-semibold text-blue-700 mb-1",children:"Amount"}),e.jsx("div",{className:"text-xs text-slate-600",children:"$100.00"})]}),s>=3&&e.jsxs("div",{className:"bg-amber-100 p-2 rounded text-xs text-amber-800 flex items-center gap-1",children:[e.jsx(ce,{className:"w-3 h-3"}),"Timeout! Retrying..."]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-300",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-3 text-center",children:"Server"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:`p-3 rounded border ${d.state.status==="pending"?"bg-slate-100 border-slate-300":d.state.status==="processing"?"bg-yellow-100 border-yellow-300":d.state.status==="duplicate_detected"?"bg-purple-100 border-purple-300":"bg-green-100 border-green-300"}`,children:[e.jsx("div",{className:"font-semibold mb-1",children:"Status"}),e.jsx("div",{className:"text-xs capitalize",children:d.state.status.replace("_"," ")})]}),e.jsxs("div",{className:"bg-white p-3 rounded border border-green-200",children:[e.jsx("div",{className:"font-semibold text-green-700 mb-1",children:"Requests Processed"}),e.jsxs("div",{className:"text-xs",children:[s<3?1:t+1,s>=4&&" (1 actual, rest cached)"]})]})]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border-2 border-purple-300",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-3 text-center",children:"Database"}),e.jsx("div",{className:"space-y-2 text-sm",children:e.jsxs("div",{className:"bg-white p-3 rounded border border-purple-200",children:[e.jsx("div",{className:"font-semibold text-purple-700 mb-2",children:"Idempotency Store"}),d.state.dbState==="empty"?e.jsx("div",{className:"text-xs text-slate-400 italic",children:"No keys stored"}):d.state.dbState==="key_stored"?e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-mono text-purple-700",children:"abc-123-xyz"}),e.jsx("div",{className:"text-slate-500 mt-1",children:"Status: Processing"})]}):e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-mono text-purple-700",children:"abc-123-xyz"}),e.jsx("div",{className:"text-slate-500 mt-1",children:"Status: Completed"}),e.jsx("div",{className:"text-slate-500",children:"Result: Cached"})]})]})})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-bold text-slate-900",children:["Step ",s+1,": ",d.title]}),e.jsxs("div",{className:"text-xs text-slate-500",children:[s+1," / ",a.length]})]}),e.jsx("p",{className:"text-sm text-slate-700",children:d.description})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:c,disabled:s>=a.length-1,className:`px-6 py-2 rounded-lg font-semibold transition-colors ${s>=a.length-1?"bg-slate-200 text-slate-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:s>=a.length-1?"Complete":"Next Step"}),e.jsx("button",{onClick:r,className:"px-6 py-2 rounded-lg font-semibold border-2 border-blue-600 text-blue-600 hover:bg-blue-50 transition-colors",children:"Reset"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(K,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h4",{className:"text-xl font-bold text-slate-900",children:"Database Technique"})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Store idempotency keys in database with unique constraint"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Schema"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:`CREATE TABLE idempotency_keys (
  key TEXT PRIMARY KEY,
  status TEXT,
  response JSONB,
  created_at TIMESTAMP
);

-- Optional: multi-tenant scope
-- UNIQUE (user_id, key)`})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Implementation"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:`async function processPayment(key, amount) {
  // 1) Claim the key (unique insert)
  if (!tryInsertKey(key)) return getCachedResponse(key)

  // 2) Do the work once
  const result = await chargeCard(amount)

  // 3) Store response and return
  storeResponse(key, result)
  return result
}`})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Xt,{className:"w-6 h-6 text-amber-600"}),e.jsx("h4",{className:"text-xl font-bold text-slate-900",children:"Idempotency Keys"})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Client-generated unique identifiers for requests"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Key Generation"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:`// Recommended: random UUID
const key = crypto.randomUUID()

// Optional: prefix style
const key2 = 'req_' + randomAlphanumeric(12)`})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Client Usage"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:`// Generate key once, reuse on retries
const idempotencyKey = generateKey()

await fetch('/api/payment', {
  method: 'POST',
  headers: { 'Idempotency-Key': idempotencyKey },
  body: JSON.stringify({ amount: 100 })
})`})})]})]})]})]}),e.jsxs("div",{className:" from-emerald-50 to-teal-50 rounded-2xl p-8 border-2 border-emerald-200",children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Real-World Examples"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-emerald-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(rs,{className:"w-5 h-5 text-emerald-600"}),e.jsx("h5",{className:"font-bold text-slate-900",children:"Stripe API"})]}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full mb-3",children:e.jsx("code",{className:"text-slate-100",children:`curl https://api.stripe.com/v1/charges \\
  -H "Idempotency-Key: abc123xyz" \\
  -d amount=2000 -d currency=usd

# Retry with same key â†’ same response`})}),e.jsx("p",{className:"text-xs text-slate-600",children:"Stripe stores keys for 24 hours. Duplicate requests return same response and don't charge card again."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-emerald-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(rs,{className:"w-5 h-5 text-orange-600"}),e.jsx("h5",{className:"font-bold text-slate-900",children:"AWS DynamoDB"})]}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full mb-3",children:e.jsx("code",{className:"text-slate-100",children:`// Conditional write (idempotent)
await putItem({
  Item: { orderId: 'abc123' },
  ConditionExpression: 'attribute_not_exists(orderId)'
})`})}),e.jsx("p",{className:"text-xs text-slate-600",children:"Conditional expressions provide built-in idempotency without separate key table."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:"Best Practices"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(N,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 text-sm",children:"Expire Old Keys"}),e.jsx("div",{className:"text-xs text-slate-600",children:"Clean up keys after 24-48 hours to avoid storage bloat"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(N,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 text-sm",children:"Scope Keys Properly"}),e.jsx("div",{className:"text-xs text-slate-600",children:"Use composite keys (user_id + request_key) for multi-tenant"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(N,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 text-sm",children:"Store Full Request"}),e.jsx("div",{className:"text-xs text-slate-600",children:"Cache request body to detect conflicts (same key, different data)"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(N,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 text-sm",children:"Handle Concurrent Requests"}),e.jsx("div",{className:"text-xs text-slate-600",children:"Use database locks or distributed locks (Redis) for in-flight keys"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(N,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 text-sm",children:"Return Cached Response"}),e.jsx("div",{className:"text-xs text-slate-600",children:"Send same HTTP status code (200/201) for cached responses"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(N,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 text-sm",children:"Monitor Key Usage"}),e.jsx("div",{className:"text-xs text-slate-600",children:"Track duplicate key rates to identify retry storms"})]})]})]})]})]}),e.jsxs("div",{className:" from-amber-50 to-orange-50 rounded-xl p-6 border-2 border-amber-200",children:[e.jsxs("h4",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’¡"}),"Interview Tips"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "How do you make a payment API idempotent?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),' "Require clients to send an Idempotency-Key header (UUID). On the server, use a database table with unique constraint on this key. Before processing, insert the keyâ€”if it already exists (duplicate request), return the cached response. After processing, update the row with the result. This ensures the payment is only charged once even if the client retries due to network timeout. Keys should expire after 24 hours to prevent storage bloat."']})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "What if two requests with the same key arrive simultaneously?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),' "Use SELECT FOR UPDATE or distributed locks (Redis SETNX). When the first request inserts the key, acquire a lock. The second request will either fail the unique constraint check (return cached) or wait for the lock. This prevents race conditions where both requests could start processing. The lock should have a timeout to prevent deadlocks if the first request crashes."']})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "Should you validate that duplicate requests have the same body?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),' "Yes! Store a hash of the request body with the key. If a client retries with the same key but different data (e.g., different amount), return 422 Unprocessable Entity. This prevents accidental misuse where clients reuse keys incorrectly. Stripe does thisâ€”if you retry with the same key but different amount, it errors."']})]})]})]})]})}function ir(){const[s,l]=x.useState("choreography"),[t,o]=x.useState("initial"),[a,c]=x.useState(0),r={choreography:{icon:e.jsx(ns,{className:"w-6 h-6"}),title:"Choreography-based Saga",description:"Each service listens to events and knows what to do next. Decentralized coordination.",architecture:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Choreography: Event-Driven Saga          â”‚
â”‚                                                  â”‚
â”‚  Order Service                                   â”‚
â”‚      â”‚                                           â”‚
â”‚      â”œâ”€â”€ publishes: OrderCreated                â”‚
â”‚      â”‚                                           â”‚
â”‚      â–¼                                           â”‚
â”‚  Payment Service (subscribes)                    â”‚
â”‚      â”‚                                           â”‚
â”‚      â”œâ”€â”€ publishes: PaymentCompleted            â”‚
â”‚      â”‚        OR PaymentFailed                   â”‚
â”‚      â–¼                                           â”‚
â”‚  Inventory Service (subscribes)                  â”‚
â”‚      â”‚                                           â”‚
â”‚      â”œâ”€â”€ publishes: InventoryReserved           â”‚
â”‚      â”‚        OR InventoryFailed                 â”‚
â”‚      â–¼                                           â”‚
â”‚  Shipping Service (subscribes)                   â”‚
â”‚      â”‚                                           â”‚
â”‚      â””â”€â”€ publishes: OrderShipped                â”‚
â”‚                                                  â”‚
â”‚  Each service reacts to events independently     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,code:`// Choreography: services react to events
publish('OrderCreated', { orderId })

on('OrderCreated', () => publish('PaymentCompleted', { orderId }))
on('PaymentCompleted', () => publish('InventoryReserved', { orderId }))

// No central coordinator; flow is implicit`,pros:["No single point of failure","Services loosely coupled","Easy to add new services","Naturally event-driven","Scales horizontally"],cons:["Hard to understand overall flow","Difficult to debug","No central view of transaction","Complex error handling","Cyclic dependencies possible"],useCases:["Microservices with high autonomy","Event-driven architectures","Organizations with decentralized teams","Systems with frequent service additions"]},orchestration:{icon:e.jsx(Zt,{className:"w-6 h-6"}),title:"Orchestration-based Saga",description:"Central coordinator tells each service what to do. Centralized control flow.",architecture:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Orchestration: Coordinator-Driven         â”‚
â”‚                                                  â”‚
â”‚              Saga Orchestrator                   â”‚
â”‚                     â”‚                            â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚         â”‚           â”‚           â”‚        â”‚       â”‚
â”‚         â–¼           â–¼           â–¼        â–¼       â”‚
â”‚    Order Svc   Payment Svc  Inventory  Shipping â”‚
â”‚         â”‚           â”‚           â”‚        â”‚       â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                     â”‚                            â”‚
â”‚             (reports back to)                    â”‚
â”‚                                                  â”‚
â”‚  Orchestrator maintains state machine:           â”‚
â”‚    1. CreateOrder                                â”‚
â”‚    2. ChargePayment                              â”‚
â”‚    3. ReserveInventory                           â”‚
â”‚    4. ArrangeShipping                            â”‚
â”‚                                                  â”‚
â”‚  If step fails â†’ trigger compensations           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,code:`// Orchestrator drives steps + compensations
async function runSaga(order) {
  try {
    await orderSvc.create(order)
    await paySvc.charge(order.id)
    await invSvc.reserve(order.id)
    await shipSvc.schedule(order.id)
  } catch (e) {
    await shipSvc.cancel(order.id)
    await invSvc.release(order.id)
    await paySvc.refund(order.id)
    await orderSvc.cancel(order.id)
    throw e
  }
}`,pros:["Easy to understand flow","Central monitoring point","Clear transaction state","Easier to debug","Can implement timeouts easily"],cons:["Single point of failure (orchestrator)","Orchestrator can become complex","Services coupled to orchestrator","Orchestrator needs high availability","More latency (extra hop)"],useCases:["Complex business processes","When you need clear audit trail","Regulated industries (finance, healthcare)","Systems with strict ordering requirements"]}},d={choreography:[{step:1,service:"Order",action:"Create Order",status:"success",event:"OrderCreated"},{step:2,service:"Payment",action:"Charge Payment",status:"success",event:"PaymentCompleted"},{step:3,service:"Inventory",action:"Reserve Inventory",status:"failure",event:"InventoryFailed"},{step:4,service:"Payment",action:"Refund Payment (Compensation)",status:"success",event:"PaymentRefunded"},{step:5,service:"Order",action:"Cancel Order (Compensation)",status:"success",event:"OrderCancelled"}],orchestration:[{step:1,service:"Orchestrator",action:"Start Saga",status:"running"},{step:2,service:"Order",action:"Create Order",status:"success"},{step:3,service:"Payment",action:"Charge Payment",status:"success"},{step:4,service:"Inventory",action:"Reserve Inventory",status:"failure"},{step:5,service:"Orchestrator",action:"Begin Compensation",status:"compensating"},{step:6,service:"Payment",action:"Refund Payment",status:"success"},{step:7,service:"Order",action:"Cancel Order",status:"success"},{step:8,service:"Orchestrator",action:"Saga Failed",status:"failed"}]},i=()=>{c(0),o("running"),n()},n=()=>{const h=d[s];let u=0;const C=setInterval(()=>{if(u>=h.length){clearInterval(C),o("completed");return}c(u),u++},1500)},m=()=>{c(0),o("initial")},p=r[s],g=d[s];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-3",children:"Saga Pattern"}),e.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"Managing distributed transactions across microservices. When ACID isn't possible, use sagas for eventual consistency."})]}),e.jsx("div",{className:" from-red-50 to-orange-50 rounded-2xl p-8 border-2 border-red-200",children:e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"text-red-600 mt-1",children:e.jsx(ce,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-3",children:"The Distributed Transaction Problem"}),e.jsx("p",{className:"text-slate-700 mb-4",children:"In microservices, you can't use database transactions across services. Consider an e-commerce order:"}),e.jsx("div",{className:"bg-white rounded-lg p-4 border border-red-200 mb-4",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-xs font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:"Order Service:"})," Create order record"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-xs font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:"Payment Service:"})," Charge customer's card"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-xs font-bold",children:"3"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:"Inventory Service:"})," ","Reserve items"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-xs font-bold",children:"4"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:"Shipping Service:"})," Arrange delivery"]})]})]})}),e.jsxs("p",{className:"text-slate-700",children:[e.jsx("span",{className:"font-bold text-red-700",children:"What if step 3 fails?"})," ","You've already charged the customer! You need to"," ",e.jsx("span",{className:"font-bold",children:"compensate"})," (refund payment, cancel order). This is where Sagas help."]})]})]})}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(r).map(([h,u])=>e.jsxs("button",{onClick:()=>{l(h),m()},className:`p-6 rounded-xl border-2 transition-all text-left ${s===h?"border-blue-500 bg-blue-50 shadow-lg":"border-slate-200 bg-white hover:border-blue-300"}`,children:[e.jsx("div",{className:`mb-3 ${s===h?"text-blue-600":"text-slate-600"}`,children:u.icon}),e.jsx("div",{className:"font-bold text-lg text-slate-900 mb-2",children:u.title}),e.jsx("div",{className:"text-sm text-slate-600",children:u.description})]},h))}),e.jsxs("div",{className:" from-blue-50 to-indigo-50 rounded-2xl p-8 border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"text-blue-600 mt-1",children:p.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-2",children:p.title}),e.jsx("p",{className:"text-slate-700",children:p.description})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200 mb-6",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"Architecture"}),e.jsx("pre",{className:"text-xs text-slate-700 whitespace-pre overflow-x-auto",children:p.architecture})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200 mb-6",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"Implementation"}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto",children:e.jsx("code",{children:p.code})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(N,{className:"w-5 h-5 text-green-600"}),e.jsx("h5",{className:"font-bold text-slate-900",children:"Pros"})]}),e.jsx("ul",{className:"space-y-2",children:p.pros.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-green-600 mt-1",children:"+"}),e.jsx("span",{children:h})]},u))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(F,{className:"w-5 h-5 text-red-600"}),e.jsx("h5",{className:"font-bold text-slate-900",children:"Cons"})]}),e.jsx("ul",{className:"space-y-2",children:p.cons.map((h,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-red-600 mt-1",children:"-"}),e.jsx("span",{children:h})]},u))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-blue-200 mt-6",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-3",children:"Best Use Cases"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:p.useCases.map((h,u)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:h})]},u))})]})]}),e.jsxs("div",{className:" from-purple-50 to-pink-50 rounded-2xl p-8 border-2 border-purple-200",children:[e.jsxs("h4",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[e.jsx(as,{className:"w-6 h-6 text-purple-600"}),"Failure Scenario Simulation: Inventory Out of Stock"]}),e.jsxs("div",{className:"flex gap-3 mb-6",children:[e.jsxs("button",{onClick:i,disabled:t==="running",className:`px-6 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2 ${t==="running"?"bg-slate-200 text-slate-400 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"}`,children:[e.jsx(is,{className:"w-4 h-4"}),t==="running"?"Running...":"Start Simulation"]}),e.jsx("button",{onClick:m,className:"px-6 py-2 rounded-lg font-semibold border-2 border-purple-600 text-purple-600 hover:bg-purple-50 transition-colors",children:"Reset"})]}),e.jsx("div",{className:"bg-white rounded-xl p-6 border border-purple-200",children:e.jsx("div",{className:"space-y-3",children:g.map((h,u)=>{const C=u===a&&t==="running",S=u<a||t==="completed";return e.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg transition-all ${C?"bg-yellow-100 border-2 border-yellow-400 shadow-lg":S?h.status==="failure"||h.status==="failed"?"bg-red-50 border border-red-200":h.status==="compensating"?"bg-orange-50 border border-orange-200":"bg-green-50 border border-green-200":"bg-slate-50 border border-slate-200 opacity-50"}`,children:[e.jsxs("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${C?"bg-yellow-500 text-white":S?h.status==="failure"||h.status==="failed"?"bg-red-500 text-white":h.status==="compensating"?"bg-orange-500 text-white":"bg-green-500 text-white":"bg-slate-300 text-slate-500"}`,children:[S&&(h.status==="success"||h.status==="running")&&e.jsx(N,{className:"w-5 h-5"}),S&&(h.status==="failure"||h.status==="failed")&&e.jsx(F,{className:"w-5 h-5"}),S&&h.status==="compensating"&&e.jsx(as,{className:"w-5 h-5"}),!S&&h.step]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-slate-900 text-sm",children:h.service}),e.jsx("div",{className:"text-xs text-slate-600",children:h.action}),h.event&&e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Event: ",h.event]})]}),C&&e.jsx("div",{className:"text-yellow-600 animate-pulse",children:e.jsx(is,{className:"w-5 h-5"})})]},u)})})}),t==="completed"&&e.jsxs("div",{className:"mt-4 bg-red-100 border-2 border-red-300 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800 font-bold",children:[e.jsx(F,{className:"w-5 h-5"}),"Transaction Failed - All steps compensated successfully"]}),e.jsx("div",{className:"text-sm text-red-700 mt-2",children:"The saga detected inventory failure and automatically triggered compensation steps to undo all previous operations. This ensures data consistency across services."})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:"Compensation Logic Patterns"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-2",children:"Semantic Lock"}),e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:'Mark resources as "pending" during saga, release or finalize on completion/compensation'}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-3 rounded",children:`// Reserve
item.status = 'RESERVED'
item.reservedFor = sagaId

// Compensate: release
item.status = 'AVAILABLE'`})]}),e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-2",children:"Commutative Updates"}),e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Use operations that can be applied in any order (add/subtract vs set)"}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-3 rounded",children:`// âœ“ Good: Add/Subtract
balance += 100  // Reversible
balance -= 100  // Compensation

// âœ— Bad: Set value
balance = 1000  // Can't reverse`})]}),e.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-2",children:"Pivotal Transaction"}),e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Identify the point of no return where compensation is no longer possible"}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-3 rounded",children:`// Reversible steps
reserveInventory()  
chargeCard()        

// PIVOT (point of no return)
sendEmail()  // Can't unsend!

// Must complete
createShipment()`})]})]})]}),e.jsxs("div",{className:" from-amber-50 to-orange-50 rounded-xl p-6 border-2 border-amber-200",children:[e.jsxs("h4",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’¡"}),"Interview Tips"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "Choreography vs Orchestrationâ€”which is better?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),` "Neither is universally better. Orchestration is easier to understand and debug, good for complex workflows with strict ordering (e.g., loan approval). Choreography scales better and gives services more autonomy, good for event-driven systems (e.g., social media notifications). I'd start with orchestration for simplicity, switch to choreography when services need independence. Netflix uses choreography, Uber uses orchestration."`]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "How do you ensure saga reliability?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),' "Store saga state durably (database or event log). If orchestrator crashes, it can resume from checkpoint. Ensure compensation operations are idempotentâ€”they might run multiple times. Use timeouts to detect stuck sagas (e.g., if payment takes >30s, trigger compensation). Monitor saga completion rates and have alerts for long-running or failed sagas."']})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "What if compensation fails?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),` "This is the hardest case. Retry with exponential backoff. If it keeps failing, mark saga as 'needs manual intervention' and alert on-call. Some compensations might not be possible (e.g., email already sent)â€”in that case, send a correction (refund email, apology). Design compensations to be simple operations that rarely fail (e.g., database updates, not external API calls)."`]})]})]})]})]})}function nr(){const[s,l]=x.useState("level3"),[t,o]=x.useState("order"),a={level0:{level:"Level 0",name:"The Swamp of POX",description:"HTTP as transport only. Single URI, usually POST for everything.",example:`POST /api
Content-Type: application/xml

<request>
  <method>getUser</method>
  <params>
    <userId>123</userId>
  </params>
</request>`,response:`<response>
  <user>
    <id>123</id>
    <name>John Doe</name>
  </user>
</response>`,characteristics:["Single endpoint for all operations","HTTP used only for transport","No HTTP methods semantics","No HTTP status codes","RPC-style (SOAP, XML-RPC)"],verdict:"Not RESTful"},level1:{level:"Level 1",name:"Resources",description:"Multiple URIs but single HTTP method. Individual resources have unique endpoints.",example:`POST /api/users/123
POST /api/orders/456
POST /api/products/789

{
  "method": "get",
  "userId": "123"
}`,response:`{
  "id": "123",
  "name": "John Doe",
  "email": "john@example.com"
}`,characteristics:["Multiple resource endpoints","Still single verb (usually POST)","Resources identified by URI","Some structure to API","Better than Level 0"],verdict:"Barely RESTful"},level2:{level:"Level 2",name:"HTTP Verbs",description:"Proper use of HTTP methods (GET, POST, PUT, DELETE) and status codes.",example:`GET /api/users/123
DELETE /api/users/123
PUT /api/users/123
POST /api/users

// Request
PUT /api/users/123
Content-Type: application/json

{
  "name": "John Smith",
  "email": "john.smith@example.com"
}`,response:`HTTP/1.1 200 OK
Content-Type: application/json

{
  "id": "123",
  "name": "John Smith",
  "email": "john.smith@example.com"
}`,characteristics:["GET for retrieval (idempotent, safe)","POST for creation","PUT for updates (idempotent)","DELETE for removal (idempotent)","Proper HTTP status codes (200, 201, 404, 500)","Content negotiation headers"],verdict:"Most REST APIs"},level3:{level:"Level 3",name:"Hypermedia Controls (HATEOAS)",description:"API responses include links to related resources. Client discovers actions dynamically.",example:`GET /api/orders/789
Accept: application/json`,response:`{
  "id": "789",
  "status": "pending",
  "total": 99.99,
  "items": [
    { "productId": "123", "quantity": 2, "price": 49.99 }
  ],
  "_links": {
    "self": { "href": "/api/orders/789" },
    "cancel": {
      "href": "/api/orders/789/cancel",
      "method": "POST",
      "title": "Cancel this order"
    },
    "payment": {
      "href": "/api/orders/789/payment",
      "method": "POST",
      "title": "Submit payment"
    },
    "customer": { "href": "/api/customers/456" },
    "items": { "href": "/api/orders/789/items" }
  }
}`,characteristics:["Responses include hyperlinks","Clients discover actions from links","API self-documenting","Server controls available actions","Loose coupling between client/server","State-driven workflows"],verdict:"True REST"}},c={order:{name:"Order Resource",status:"pending",data:{id:"789",status:"pending",total:99.99,createdAt:"2024-01-15T10:30:00Z",customer:{id:"456",name:"John Doe"}},links:{self:{href:"/api/orders/789",method:"GET",description:"This order"},cancel:{href:"/api/orders/789/cancel",method:"POST",description:"Cancel order",available:!0},payment:{href:"/api/orders/789/payment",method:"POST",description:"Submit payment",available:!0},customer:{href:"/api/customers/456",method:"GET",description:"View customer"},items:{href:"/api/orders/789/items",method:"GET",description:"Order items"}}},orderPaid:{name:"Order Resource (After Payment)",status:"paid",data:{id:"789",status:"paid",total:99.99,paidAt:"2024-01-15T10:35:00Z",customer:{id:"456",name:"John Doe"}},links:{self:{href:"/api/orders/789",method:"GET",description:"This order"},cancel:{href:"/api/orders/789/cancel",method:"POST",description:"Cancel order",available:!1,reason:"Cannot cancel paid order"},refund:{href:"/api/orders/789/refund",method:"POST",description:"Request refund",available:!0},shipment:{href:"/api/orders/789/shipment",method:"POST",description:"Create shipment",available:!0},invoice:{href:"/api/orders/789/invoice",method:"GET",description:"Download invoice"},customer:{href:"/api/customers/456",method:"GET",description:"View customer"}}},orderShipped:{name:"Order Resource (Shipped)",status:"shipped",data:{id:"789",status:"shipped",total:99.99,shippedAt:"2024-01-16T14:00:00Z",trackingNumber:"1Z999AA10123456784"},links:{self:{href:"/api/orders/789",method:"GET",description:"This order"},tracking:{href:"/api/shipments/track/1Z999AA10123456784",method:"GET",description:"Track shipment"},return:{href:"/api/orders/789/return",method:"POST",description:"Initiate return",available:!0},invoice:{href:"/api/orders/789/invoice",method:"GET",description:"Download invoice"}}}},r=n=>{o(n)},d=a[s],i=c[t];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-3",children:"HATEOAS & Richardson Maturity Model"}),e.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"Hypermedia As The Engine Of Application State. How your API guides clients through available actions using links."})]}),e.jsx("div",{className:" from-blue-50 to-indigo-50 rounded-2xl p-8 border-2 border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx(ea,{className:"w-8 h-8 text-blue-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-3",children:"The Core Idea"}),e.jsxs("p",{className:"text-slate-700 mb-4",children:["Instead of hardcoding endpoints in your client, the ",e.jsx("span",{className:"font-bold",children:"server tells you what actions are possible"})," through hypermedia links in API responses."]}),e.jsx("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-red-700 mb-2 text-sm",children:"âŒ Without HATEOAS"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:`// Client must know all URLs
const order = await fetch('/api/orders/789')

// Hardcoded logic
if (order.status === 'pending') {
  // Can cancel
  await fetch('/api/orders/789/cancel', {
    method: 'POST'
  })
}

// Client breaks when API changes`})})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-green-700 mb-2 text-sm",children:"âœ“ With HATEOAS"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:`// Server tells client what's possible
const order = await fetch('/api/orders/789')

// Dynamic actions from server
if (order._links.cancel) {
  await fetch(order._links.cancel.href, {
    method: order._links.cancel.method
  })
}

// Client adapts to server changes`})})]})]})})]})]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Richardson Maturity Model"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"A model to measure how RESTful your API is. Developed by Leonard Richardson."}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:Object.entries(a).map(([n,m])=>e.jsxs("button",{onClick:()=>l(n),className:`p-6 rounded-xl border-2 transition-all text-left ${s===n?"border-blue-500 bg-blue-50 shadow-lg":"border-slate-200 bg-white hover:border-blue-300"}`,children:[e.jsx("div",{className:`text-xs font-bold mb-2 ${s===n?"text-blue-600":"text-slate-500"}`,children:m.level}),e.jsx("div",{className:"font-bold text-lg text-slate-900 mb-2",children:m.name}),e.jsx("div",{className:"text-sm text-slate-600 mb-3",children:m.description}),e.jsx("div",{className:`inline-block text-xs font-bold px-3 py-1 rounded-full ${n==="level3"?"bg-green-100 text-green-700":n==="level2"?"bg-blue-100 text-blue-700":n==="level1"?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:m.verdict})]},n))}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 border-2 border-slate-200",children:[e.jsxs("h5",{className:"text-xl font-bold text-slate-900 mb-4",children:[d.level,": ",d.name]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Request Example"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:d.example})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Response Example"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:d.response})})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Characteristics"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:d.characteristics.map((n,m)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:n})]},m))})]})]})]}),e.jsxs("div",{className:" from-purple-50 to-pink-50 rounded-2xl p-8 border-2 border-purple-200",children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Interactive Example: Order State Machine"}),e.jsxs("p",{className:"text-slate-600 mb-6",children:["Watch how available actions change based on order state. The ",e.jsx("code",{className:"bg-purple-100 px-2 py-1 rounded text-xs",children:"_links"})," object guides the client."]}),e.jsxs("div",{className:"flex gap-3 mb-6",children:[e.jsx("button",{onClick:()=>r("order"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${t==="order"?"bg-purple-600 text-white":"bg-white text-purple-600 border-2 border-purple-600 hover:bg-purple-50"}`,children:"Pending Order"}),e.jsx("button",{onClick:()=>r("orderPaid"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${t==="orderPaid"?"bg-purple-600 text-white":"bg-white text-purple-600 border-2 border-purple-600 hover:bg-purple-50"}`,children:"Paid Order"}),e.jsx("button",{onClick:()=>r("orderShipped"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${t==="orderShipped"?"bg-purple-600 text-white":"bg-white text-purple-600 border-2 border-purple-600 hover:bg-purple-50"}`,children:"Shipped Order"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-purple-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h5",{className:"text-xl font-bold text-slate-900",children:i.name}),e.jsxs("div",{className:`inline-block text-xs font-bold px-3 py-1 rounded-full mt-2 ${i.status==="pending"?"bg-yellow-100 text-yellow-700":i.status==="paid"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:["Status: ",i.status]})]})}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 mb-6",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Resource Data"}),e.jsx("pre",{className:"bg-slate-100 text-slate-700 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-700",children:JSON.stringify(i.data,null,2)})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Available Actions (_links)"}),e.jsx("div",{className:"space-y-3",children:Object.entries(i.links).map(([n,m])=>e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${m.available===!1?"bg-slate-50 border-slate-200 opacity-50":"bg-green-50 border-green-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[m.available===!1?e.jsx(F,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}):e.jsx(N,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-slate-900 text-sm",children:n}),e.jsx("div",{className:"text-xs text-slate-600",children:m.description}),m.reason&&e.jsx("div",{className:"text-xs text-red-600 mt-1 italic",children:m.reason})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs font-mono text-slate-500 mb-1",children:m.method}),e.jsx("div",{className:"text-xs font-mono text-blue-600",children:m.href})]})]},n))})]})]}),e.jsx("div",{className:"bg-purple-100 rounded-lg p-4 mt-4",children:e.jsxs("div",{className:"text-sm text-purple-900",children:[e.jsx("span",{className:"font-bold",children:"Key Insight:"}),` The client doesn't need to know business rules! The server controls which actions are available by including or excluding links based on current state. When an order is paid, the "cancel" link disappears but "refund" appears.`]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:"Standard Link Relation Types"}),e.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"IANA maintains a registry of standard link relations. Using these makes your API more discoverable."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2 text-sm",children:"self"}),e.jsx("div",{className:"text-xs text-slate-600 mb-2",children:"Link to the current resource"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-2 sm:p-3 rounded-lg text-xs sm:text-sm overflow-x-auto break-words whitespace-pre-wrap max-w-full",children:'"self": { "href": "/api/orders/789" }'})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2 text-sm",children:"next / prev"}),e.jsx("div",{className:"text-xs text-slate-600 mb-2",children:"Pagination links"}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-2 rounded overflow-x-auto break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{children:'"next": { "href": "/api/orders?page=2" }'})})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2 text-sm",children:"related"}),e.jsx("div",{className:"text-xs text-slate-600 mb-2",children:"Related resource"}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-2 rounded overflow-x-auto break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{children:'"customer": { "href": "/api/customers/456" }'})})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2 text-sm",children:"edit"}),e.jsx("div",{className:"text-xs text-slate-600 mb-2",children:"Edit this resource"}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-2 rounded overflow-x-auto break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{children:'"edit": { "href": "/api/orders/789", "method": "PUT" }'})})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2 text-sm",children:"collection"}),e.jsx("div",{className:"text-xs text-slate-600 mb-2",children:"Link to parent collection"}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-2 rounded overflow-x-auto break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{children:'"collection": { "href": "/api/orders" }'})})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2 text-sm",children:"describedby"}),e.jsx("div",{className:"text-xs text-slate-600 mb-2",children:"Link to schema/documentation"}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-2 rounded overflow-x-auto break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{children:'"describedby": { "href": "/api/schema/order" }'})})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-green-50 rounded-xl p-6 border-2 border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(N,{className:"w-6 h-6 text-green-600"}),e.jsx("h5",{className:"font-bold text-slate-900 text-lg",children:"Benefits of HATEOAS"})]}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Loose Coupling:"})," Client doesn't hardcode URLs. Server can change endpoints without breaking clients."]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Discoverability:"})," API is self-documenting. Client can explore available actions."]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"State Management:"})," Server controls workflow. Business rules enforced by presence/absence of links."]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Versioning Friendly:"})," Add new links without breaking old clients."]})]})]})]}),e.jsxs("div",{className:"bg-red-50 rounded-xl p-6 border-2 border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(F,{className:"w-6 h-6 text-red-600"}),e.jsx("h5",{className:"font-bold text-slate-900 text-lg",children:"Challenges"})]}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(F,{className:"w-4 h-4 text-red-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Complexity:"})," More complex to implement than simple REST."]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(F,{className:"w-4 h-4 text-red-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Payload Size:"})," Responses larger due to embedded links."]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(F,{className:"w-4 h-4 text-red-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Client Complexity:"})," Clients must be smart enough to follow links dynamically."]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(F,{className:"w-4 h-4 text-red-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Tooling:"})," Less tooling support compared to OpenAPI/Swagger."]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(F,{className:"w-4 h-4 text-red-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Rare in Practice:"})," Most APIs stop at Level 2 (HTTP verbs)."]})]})]})]})]}),e.jsxs("div",{className:" from-slate-50 to-slate-100 rounded-2xl p-6 border-2 border-slate-200",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:"Real-World Examples"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(gs,{className:"w-5 h-5 text-blue-600"}),e.jsx("h5",{className:"font-bold text-slate-900",children:"GitHub API"})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Level 3 API with comprehensive hypermedia links"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:`GET https://api.github.com/repos/facebook/react

{
  "name": "react",
  "full_name": "facebook/react",
  "url": "https://api.github.com/repos/facebook/react",
  "forks_url": "https://api.github.com/repos/facebook/react/forks",
  "keys_url": "https://api.github.com/repos/facebook/react/keys{/key_id}",
  "issues_url": "https://api.github.com/repos/facebook/react/issues{/number}",
  "pulls_url": "https://api.github.com/repos/facebook/react/pulls{/number}"
}`})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(gs,{className:"w-5 h-5 text-blue-600"}),e.jsx("h5",{className:"font-bold text-slate-900",children:"PayPal API"})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Uses HAL (Hypertext Application Language) format"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:`{
  "id": "PAY-123",
  "state": "created",
  "links": [
    {
      "href": "https://api.paypal.com/v1/payments/payment/PAY-123",
      "rel": "self",
      "method": "GET"
    },
    {
      "href": "https://www.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-123",
      "rel": "approval_url",
      "method": "REDIRECT"
    },
    {
      "href": "https://api.paypal.com/v1/payments/payment/PAY-123/execute",
      "rel": "execute",
      "method": "POST"
    }
  ]
}`})})]})]})]}),e.jsxs("div",{className:" from-amber-50 to-orange-50 rounded-xl p-6 border-2 border-amber-200",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:"When to Use HATEOAS"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-green-700 mb-3 text-sm",children:"âœ“ Good Fit"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Complex workflows with state transitions (order processing, approval flows)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Public APIs where clients are unknown/untrusted"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Long-lived APIs that need to evolve without breaking clients"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"When business logic changes frequently"})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-red-700 mb-3 text-sm",children:"âœ— Overkill"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Simple CRUD APIs (just GET/POST/PUT/DELETE)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Internal microservices (you control both client and server)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Mobile/SPA apps needing optimal payload sizes"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"When GraphQL/gRPC is better fit"})]})]})]})]})]}),e.jsxs("div",{className:" from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[e.jsxs("h4",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’¡"}),"Interview Tips"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "What is HATEOAS and why would you use it?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),` "HATEOAS means the server includes links in responses showing what actions are available. Like a website where you click links instead of typing URLs. Benefits: clients don't hardcode URLs, server controls workflow, API self-documenting. Downsides: complexity, larger payloads, rare in practice. Most APIs stop at Richardson Level 2 (HTTP verbs + status codes). I'd use HATEOAS for complex workflows like payment processing where available actions depend on state, but not for simple CRUD APIs."`]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:`Q: "What's the Richardson Maturity Model?"`}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),' "A model measuring how RESTful an API is. Level 0 (POX): single endpoint, like SOAP. Level 1 (Resources): multiple URIs. Level 2 (HTTP Verbs): proper GET/POST/PUT/DELETE + status codesâ€”this is where most REST APIs are. Level 3 (HATEOAS): responses include hypermedia links. True REST requires Level 3, but Level 2 is the practical sweet spot for most APIs."']})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "How would you design an order API with HATEOAS?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),` "Start with resource data, then add _links object. For a pending order, include links: cancel (POST), pay (POST), customer (GET), items (GET). After payment, remove cancel link, add refund and shipment links. After shipping, remove refund, add tracking and return links. The client checks link presence to enable UI buttons. Server enforces business rules by including/excluding links based on state. If order can't be cancelled, don't include the cancel link."`]})]})]})]})]})}function dr(){const[s,l]=x.useState("spec"),[t,o]=x.useState("contractFirst"),a={contractFirst:{name:"Contract-First (Spec-Driven)",icon:e.jsx(Qe,{className:"w-6 h-6"}),description:"Write OpenAPI spec first, then generate server stubs and client SDKs",workflow:["Define API spec in OpenAPI YAML/JSON","Review spec with stakeholders","Generate server code stubs","Implement business logic","Generate client SDKs","Generate interactive docs"],pros:["Design before implementation","Cross-team agreement on contract","Early client development (mocked)","Consistent code generation","Forces good API design thinking"],cons:["Initial learning curve","Spec can drift from implementation","Requires discipline to update spec","Generated code might not match idioms"],bestFor:["Public APIs with multiple consumers","Microservices teams working in parallel","Enterprise with governance requirements","When clients need SDKs in multiple languages"]},codeFirst:{name:"Code-First (Implementation-Driven)",icon:e.jsx(bs,{className:"w-6 h-6"}),description:"Write API code with annotations, generate OpenAPI spec automatically",workflow:["Implement API endpoints","Add annotations/decorators","Generate spec from code","Review generated spec","Publish spec + docs","Generate client SDKs (optional)"],pros:["Faster initial development","Spec always matches implementation","No separate spec maintenance","Familiar to developers","Less context switching"],cons:["Design happens implicitly","Harder to get early feedback","Generated spec may not be ideal","Clients can't start until code exists","Less governance"],bestFor:["Internal microservices","Rapid prototyping","Small teams owning client and server","When implementation is straightforward"]}},c=`openapi: 3.0.0
info:
  title: E-Commerce API
  version: 1.0.0
  description: API for managing orders and products
  contact:
    email: api@example.com

servers:
  - url: https://api.example.com/v1
    description: Production
  - url: https://staging-api.example.com/v1
    description: Staging

paths:
  /products:
    get:
      summary: List products
      tags:
        - Products
      parameters:
        - name: category
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Product'
                  pagination:
                    $ref: '#/components/schemas/Pagination'

  /products/{productId}:
    get:
      summary: Get product by ID
      tags:
        - Products
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Product found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        '404':
          description: Product not found

  /orders:
    post:
      summary: Create order
      tags:
        - Orders
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrder'
      responses:
        '201':
          description: Order created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'
        '400':
          description: Invalid request
        '401':
          description: Unauthorized

components:
  schemas:
    Product:
      type: object
      required:
        - id
        - name
        - price
      properties:
        id:
          type: string
          example: "prod_123"
        name:
          type: string
          example: "Wireless Mouse"
        price:
          type: number
          format: float
          example: 29.99
        stock:
          type: integer
          example: 150
    
    CreateOrder:
      type: object
      required:
        - items
      properties:
        items:
          type: array
          items:
            type: object
            properties:
              productId:
                type: string
              quantity:
                type: integer
    
    Order:
      type: object
      properties:
        id:
          type: string
        status:
          type: string
          enum: [pending, paid, shipped]
        total:
          type: number
        createdAt:
          type: string
          format: date-time
    
    Pagination:
      type: object
      properties:
        page:
          type: integer
        totalPages:
          type: integer
        totalItems:
          type: integer

  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT`,r={fastapi:`# Python - FastAPI
from fastapi import FastAPI, HTTPException
from pydantic import BaseModel
from typing import List

app = FastAPI(
    title="E-Commerce API",
    version="1.0.0",
    description="API for managing orders"
)

class Product(BaseModel):
    """Product model"""
    id: str
    name: str
    price: float
    stock: int = 0
    
    class Config:
        schema_extra = {
            "example": {
                "id": "prod_123",
                "name": "Wireless Mouse",
                "price": 29.99,
                "stock": 150
            }
        }

@app.get(
    "/products",
    response_model=List[Product],
    summary="List all products",
    tags=["Products"]
)
async def list_products(
    category: str = None,
    page: int = 1
):
    """
    Retrieve a list of products.
    
    - **category**: Filter by category (optional)
    - **page**: Page number for pagination
    """
    # Implementation
    return []

# OpenAPI spec auto-generated at /docs and /redoc`,springBoot:`// Java - Spring Boot
import io.swagger.v3.oas.annotations.*;
import io.swagger.v3.oas.annotations.media.*;
import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping("/products")
@Tag(name = "Products", description = "Product management")
public class ProductController {
    
    @GetMapping
    @Operation(
        summary = "List products",
        description = "Retrieve a paginated list of products"
    )
    @ApiResponses({
        @ApiResponse(
            responseCode = "200",
            description = "Successful response",
            content = @Content(
                mediaType = "application/json",
                schema = @Schema(implementation = ProductList.class)
            )
        )
    })
    public ProductList listProducts(
        @Parameter(description = "Filter by category")
        @RequestParam(required = false) String category,
        
        @Parameter(description = "Page number")
        @RequestParam(defaultValue = "1") int page
    ) {
        // Implementation
        return new ProductList();
    }
}

// OpenAPI spec auto-generated at /v3/api-docs`,nestjs:`// TypeScript - NestJS
import { Controller, Get, Query } from '@nestjs/common';
import { ApiTags, ApiOperation, ApiQuery, ApiResponse } from '@nestjs/swagger';

@Controller('products')
@ApiTags('Products')
export class ProductsController {
  
  @Get()
  @ApiOperation({ summary: 'List products' })
  @ApiQuery({
    name: 'category',
    required: false,
    type: String,
    description: 'Filter by category'
  })
  @ApiQuery({
    name: 'page',
    required: false,
    type: Number,
    example: 1
  })
  @ApiResponse({
    status: 200,
    description: 'List of products',
    type: [ProductDto]
  })
  async listProducts(
    @Query('category') category?: string,
    @Query('page') page: number = 1
  ): Promise<ProductDto[]> {
    // Implementation
    return [];
  }
}

// OpenAPI spec auto-generated at /api-docs`},d=[{name:"Server Code Generation",icon:e.jsx(bs,{className:"w-5 h-5 text-blue-600"}),description:"Generate server stubs from OpenAPI spec",tools:[{name:"OpenAPI Generator",langs:"Node.js, Python, Java, Go, C#, Ruby, PHP..."},{name:"Swagger Codegen",langs:"40+ languages and frameworks"},{name:"oapi-codegen",langs:"Go (idiomatic)"}]},{name:"Client SDK Generation",icon:e.jsx(z,{className:"w-5 h-5 text-purple-600"}),description:"Generate type-safe client libraries",tools:[{name:"openapi-typescript",langs:"TypeScript types + fetch client"},{name:"swagger-codegen",langs:"JavaScript, TypeScript, Kotlin, Swift"},{name:"autorest",langs:"C#, Python, TypeScript (Microsoft)"}]},{name:"Documentation",icon:e.jsx(sa,{className:"w-5 h-5 text-green-600"}),description:"Interactive API documentation",tools:[{name:"Swagger UI",langs:"Interactive docs with try-it-out"},{name:"ReDoc",langs:"Clean, responsive API reference"},{name:"Stoplight Elements",langs:"Modern embeddable docs"}]},{name:"Testing & Mocking",icon:e.jsx(is,{className:"w-5 h-5 text-orange-600"}),description:"Generate tests and mock servers",tools:[{name:"Prism",langs:"Mock server from OpenAPI spec"},{name:"Dredd",langs:"API testing against spec"},{name:"Portman",langs:"Generate Postman collections"}]}],i=a[t];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-3",children:"OpenAPI & Swagger"}),e.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"Standardized API specifications for documentation, code generation, and contract-first development."})]}),e.jsxs("div",{className:" from-blue-50 to-indigo-50 rounded-2xl p-8 border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx(Qe,{className:"w-8 h-8 text-blue-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-3",children:"What is OpenAPI?"}),e.jsxs("p",{className:"text-slate-700 mb-4",children:["OpenAPI (formerly Swagger) is a ",e.jsx("span",{className:"font-bold",children:"specification format"})," for describing REST APIs. It's like a blueprint of your API that both humans and machines can read."]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-2 text-sm",children:"For Humans"}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Interactive documentation"}),e.jsx("li",{children:"â€¢ API design review"}),e.jsx("li",{children:"â€¢ Onboarding new developers"}),e.jsx("li",{children:"â€¢ Understanding endpoints"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-2 text-sm",children:"For Machines"}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Generate client SDKs"}),e.jsx("li",{children:"â€¢ Generate server code"}),e.jsx("li",{children:"â€¢ Validate requests/responses"}),e.jsx("li",{children:"â€¢ Mock servers"})]})]})]})]})]}),e.jsx("div",{className:"bg-blue-100 rounded-lg p-4",children:e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("span",{className:"font-bold",children:"History:"}),' Swagger was created in 2011. In 2015, it was donated to the OpenAPI Initiative and renamed OpenAPI Specification (OAS). "Swagger" now refers to the tooling (Swagger UI, Swagger Editor, Swagger Codegen), while "OpenAPI" is the spec itself.']})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Development Approaches"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:Object.entries(a).map(([n,m])=>e.jsxs("button",{onClick:()=>o(n),className:`p-6 rounded-xl border-2 transition-all text-left ${t===n?"border-blue-500 bg-blue-50 shadow-lg":"border-slate-200 bg-white hover:border-blue-300"}`,children:[e.jsx("div",{className:`mb-3 ${t===n?"text-blue-600":"text-slate-600"}`,children:m.icon}),e.jsx("div",{className:"font-bold text-lg text-slate-900 mb-2",children:m.name}),e.jsx("div",{className:"text-sm text-slate-600",children:m.description})]},n))}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 border-2 border-slate-200",children:[e.jsx("h5",{className:"text-xl font-bold text-slate-900 mb-6",children:i.name}),e.jsxs("div",{className:" from-slate-50 to-slate-100 rounded-lg p-6 mb-6",children:[e.jsx("h6",{className:"font-bold text-slate-900 mb-4",children:"Typical Workflow"}),e.jsx("div",{className:"space-y-3",children:i.workflow.map((n,m)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center text-sm font-bold flex-shrink-0",children:m+1}),e.jsx("div",{className:"text-sm text-slate-700",children:n})]},m))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-green-50 rounded-xl p-6 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(N,{className:"w-5 h-5 text-green-600"}),e.jsx("h6",{className:"font-bold text-slate-900",children:"Pros"})]}),e.jsx("ul",{className:"space-y-2",children:i.pros.map((n,m)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-green-600 mt-0.5",children:"+"}),e.jsx("span",{children:n})]},m))})]}),e.jsxs("div",{className:"bg-red-50 rounded-xl p-6 border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-red-600",children:"âš "}),e.jsx("h6",{className:"font-bold text-slate-900",children:"Cons"})]}),e.jsx("ul",{className:"space-y-2",children:i.cons.map((n,m)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-red-600 mt-0.5",children:"-"}),e.jsx("span",{children:n})]},m))})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h6",{className:"font-bold text-slate-900 mb-3 text-sm",children:"Best For"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:i.bestFor.map((n,m)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:n})]},m))})]})]})]}),e.jsxs("div",{className:" from-purple-50 to-pink-50 rounded-2xl p-8 border-2 border-purple-200",children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-6",children:"OpenAPI Specification Example"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"A complete OpenAPI 3.0 spec for an e-commerce API. This single file describes all endpoints, request/response schemas, authentication, and more."}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-sm font-semibold text-purple-700",children:"openapi.yaml"}),e.jsx("div",{className:"text-xs text-slate-500",children:"OpenAPI 3.0.0"})]}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto max-h-96",children:e.jsx("code",{children:c})})]}),e.jsx("div",{className:"bg-purple-100 rounded-lg p-4 mt-4",children:e.jsxs("div",{className:"text-sm text-purple-900",children:[e.jsx("span",{className:"font-bold",children:"Key Features:"})," ",e.jsx("code",{className:"bg-purple-200 px-2 py-0.5 rounded",children:"$ref"})," for reusable schemas,",e.jsx("code",{className:"bg-purple-200 px-2 py-0.5 rounded mx-1",children:"tags"})," for grouping endpoints,",e.jsx("code",{className:"bg-purple-200 px-2 py-0.5 rounded mr-1",children:"securitySchemes"})," for authentication,",e.jsx("code",{className:"bg-purple-200 px-2 py-0.5 rounded",children:"examples"})," for documentation,",e.jsx("code",{className:"bg-purple-200 px-2 py-0.5 rounded ml-1",children:"enum"})," for validation"]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 border-2 border-slate-200",children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Code Annotations (Code-First)"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Add annotations to your API code, and the framework generates the OpenAPI spec automatically."}),e.jsxs("div",{className:"flex gap-2 mb-6 border-b border-slate-200",children:[e.jsx("button",{onClick:()=>l("fastapi"),className:`px-4 py-2 font-semibold transition-colors ${s==="fastapi"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-900"}`,children:"Python (FastAPI)"}),e.jsx("button",{onClick:()=>l("springBoot"),className:`px-4 py-2 font-semibold transition-colors ${s==="springBoot"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-900"}`,children:"Java (Spring Boot)"}),e.jsx("button",{onClick:()=>l("nestjs"),className:`px-4 py-2 font-semibold transition-colors ${s==="nestjs"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-900"}`,children:"TypeScript (NestJS)"})]}),e.jsx("div",{className:"bg-slate-50 rounded-xl p-4",children:e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto",children:e.jsx("code",{children:r[s]})})})]}),e.jsxs("div",{className:" from-slate-50 to-slate-100 rounded-2xl p-6 border-2 border-slate-200",children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Code Generation & Tooling"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:d.map((n,m)=>e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.icon,e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-slate-900",children:n.name}),e.jsx("p",{className:"text-xs text-slate-600",children:n.description})]})]}),e.jsx("div",{className:"space-y-3",children:n.tools.map((p,g)=>e.jsxs("div",{className:"border-l-2 border-blue-200 pl-3",children:[e.jsx("div",{className:"font-semibold text-slate-900 text-sm",children:p.name}),e.jsx("div",{className:"text-xs text-slate-600",children:p.langs})]},g))})]},m))})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:"CLI Commands"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Generate TypeScript client"}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-3 rounded",children:`npx openapi-typescript openapi.yaml -o schema.ts

// Usage
import { paths } from './schema'

type GetProducts = paths['/products']['get']
type ProductResponse = GetProducts['responses']['200']['content']['application/json']`})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Generate Python server (FastAPI)"}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-3 rounded",children:`openapi-generator generate \\
  -i openapi.yaml \\
  -g python-fastapi \\
  -o ./server

cd server && pip install -r requirements.txt && uvicorn main:app`})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Run mock server with Prism"}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-3 rounded",children:`npx @stoplight/prism-cli mock openapi.yaml

# Returns example responses from spec
curl http://localhost:4010/products/prod_123`})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Validate spec"}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-3 rounded",children:`npx @redocly/cli lint openapi.yaml

# Or validate online
https://editor.swagger.io`})]})]})]}),e.jsxs("div",{className:" from-green-50 to-emerald-50 rounded-xl p-6 border-2 border-green-200",children:[e.jsxs("h4",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(gs,{className:"w-5 h-5 text-green-600"}),"Real-World OpenAPI Specs"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-1",children:"Stripe API"}),e.jsx("div",{className:"text-sm text-slate-600 mb-2",children:"650+ endpoints, comprehensive payment API"}),e.jsx("a",{href:"https://github.com/stripe/openapi",className:"text-xs text-blue-600 hover:underline",children:"github.com/stripe/openapi"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-1",children:"GitHub API"}),e.jsx("div",{className:"text-sm text-slate-600 mb-2",children:"Complete OpenAPI 3.1 spec for GitHub REST API"}),e.jsx("a",{href:"https://github.com/github/rest-api-description",className:"text-xs text-blue-600 hover:underline",children:"github.com/github/rest-api-description"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-1",children:"Kubernetes API"}),e.jsx("div",{className:"text-sm text-slate-600 mb-2",children:"OpenAPI spec for Kubernetes API server"}),e.jsx("a",{href:"https://github.com/kubernetes/kubernetes",className:"text-xs text-blue-600 hover:underline",children:"Available at /openapi/v2 or /openapi/v3"})]})]})]}),e.jsxs("div",{className:" from-amber-50 to-orange-50 rounded-xl p-6 border-2 border-amber-200",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:"Best Practices"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"Use $ref for reuse:"})," Define schemas once in components, reference everywhere"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"Include examples:"})," Makes documentation clearer, enables mock servers"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"Validate responses:"})," Use validation middleware to ensure API matches spec"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"Version your spec:"})," Commit to git, treat like code"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"Use tags for grouping:"})," Organize endpoints logically (Products, Orders, Users)"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"Document security:"})," Specify auth schemes (OAuth2, API keys, JWT)"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"Use enums for constraints:"})," Better validation and autocompletion"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"CI/CD integration:"})," Auto-generate docs and clients on commit"]})]})]})]})]}),e.jsxs("div",{className:" from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[e.jsxs("h4",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’¡"}),"Interview Tips"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:`Q: "What's the difference between Swagger and OpenAPI?"`}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),` "OpenAPI is the specification format (JSON/YAML) for describing REST APIs. Swagger was the original name, donated to the OpenAPI Initiative in 2015. Now 'Swagger' refers to the toolsâ€”Swagger UI for interactive docs, Swagger Editor for authoring specs, Swagger Codegen for code generation. So OpenAPI is the spec, Swagger is the tooling."`]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "Contract-first or code-first?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),' "Contract-first for public APIs with multiple consumersâ€”design spec upfront, get alignment, then generate stubs and clients. Code-first for internal microservices or rapid prototypingâ€”implement quickly with annotations, spec always matches code. At my last company, we used contract-first for our customer-facing API (needed stable contracts) but code-first for internal services (moved faster)."']})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "How do you keep spec in sync with implementation?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),` "Code-first approach: spec auto-generated, always in sync. Contract-first: use validation middleware to compare runtime behavior against spec (libraries like express-openapi-validator). Add CI check: run requests against spec, fail build if mismatch. Better yet, generate server stubs from specâ€”if you implement the interfaces, you're guaranteed to match. Also treat spec as code: version control, code review, require spec update in PR."`]})]})]})]})]})}function cr(){const[s,l]=x.useState("traditional"),[t,o]=x.useState(0),[a,c]=x.useState("initial"),r=[{id:1,type:"AccountCreated",data:{accountId:"acc_123",owner:"Alice",balance:0},timestamp:"2024-01-01T10:00:00Z"},{id:2,type:"MoneyDeposited",data:{accountId:"acc_123",amount:1e3},timestamp:"2024-01-02T14:30:00Z"},{id:3,type:"MoneyWithdrawn",data:{accountId:"acc_123",amount:200},timestamp:"2024-01-03T09:15:00Z"},{id:4,type:"MoneyDeposited",data:{accountId:"acc_123",amount:500},timestamp:"2024-01-04T16:45:00Z"},{id:5,type:"MoneyWithdrawn",data:{accountId:"acc_123",amount:300},timestamp:"2024-01-05T11:20:00Z"}],i=(n=>{let m=0,p=[];for(let g=0;g<=n;g++){const h=r[g];switch(h.type){case"AccountCreated":m=0;break;case"MoneyDeposited":m+=h.data.amount,p.push({type:"deposit",amount:h.data.amount});break;case"MoneyWithdrawn":m-=h.data.amount,p.push({type:"withdrawal",amount:h.data.amount});break}}return{balance:m,transactions:p.length}})(t);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-3",children:"Event Sourcing"}),e.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"Store every state change as an immutable event. Rebuild current state by replaying events. Never lose history."})]}),e.jsxs("div",{className:" from-blue-50 to-indigo-50 rounded-2xl p-8 border-2 border-blue-200",children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Traditional vs Event Sourcing"}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx("button",{onClick:()=>l("traditional"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${s==="traditional"?"bg-blue-600 text-white":"bg-white text-blue-600 border-2 border-blue-600 hover:bg-blue-50"}`,children:"Traditional (State-Based)"}),e.jsx("button",{onClick:()=>l("eventSourcing"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${s==="eventSourcing"?"bg-blue-600 text-white":"bg-white text-blue-600 border-2 border-blue-600 hover:bg-blue-50"}`,children:"Event Sourcing"})]}),s==="traditional"?e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-blue-200",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-4",children:"Traditional Approach: Store Current State"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Database Table"}),e.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200",children:[e.jsx("th",{className:"text-left py-2 font-semibold",children:"account_id"}),e.jsx("th",{className:"text-left py-2 font-semibold",children:"owner"}),e.jsx("th",{className:"text-left py-2 font-semibold",children:"balance"}),e.jsx("th",{className:"text-left py-2 font-semibold",children:"updated_at"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"py-2",children:"acc_123"}),e.jsx("td",{className:"py-2",children:"Alice"}),e.jsx("td",{className:"py-2 font-bold text-green-600",children:"$1000"}),e.jsx("td",{className:"py-2 text-slate-500",children:"2024-01-05 11:20"})]})})]})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Update Operations"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:`// Update current state (history is overwritten)
UPDATE accounts SET balance = balance + 500 WHERE account_id = 'acc_123';
UPDATE accounts SET balance = balance - 200 WHERE account_id = 'acc_123';

// Result: balance = $1000
// But you can't replay/audit past changes âŒ`})})]}),e.jsx("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ce,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-red-900",children:[e.jsx("span",{className:"font-bold",children:"Problem:"})," You only know the current balance. You don't know:",e.jsxs("ul",{className:"mt-2 space-y-1 ml-4",children:[e.jsx("li",{children:"â€¢ How did we get to $1000?"}),e.jsx("li",{children:"â€¢ What were the individual transactions?"}),e.jsx("li",{children:"â€¢ Who made changes and when?"}),e.jsx("li",{children:"â€¢ Can't audit or replay history"})]})]})]})})]})]}):e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-blue-200",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-4",children:"Event Sourcing: Store Every Change"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Event Store (Append-Only Log)"}),e.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200",children:[e.jsx("th",{className:"text-left py-2 font-semibold",children:"event_id"}),e.jsx("th",{className:"text-left py-2 font-semibold",children:"type"}),e.jsx("th",{className:"text-left py-2 font-semibold",children:"data"}),e.jsx("th",{className:"text-left py-2 font-semibold",children:"timestamp"})]})}),e.jsxs("tbody",{className:"text-slate-700",children:[e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-2",children:"1"}),e.jsx("td",{className:"py-2 font-semibold",children:"AccountCreated"}),e.jsx("td",{className:"py-2 font-mono",children:'{ owner: "Alice", balance: 0 }'}),e.jsx("td",{className:"py-2 text-slate-500",children:"2024-01-01 10:00"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-2",children:"2"}),e.jsx("td",{className:"py-2 font-semibold",children:"MoneyDeposited"}),e.jsx("td",{className:"py-2 font-mono",children:"{ amount: 1000 }"}),e.jsx("td",{className:"py-2 text-slate-500",children:"2024-01-02 14:30"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-2",children:"3"}),e.jsx("td",{className:"py-2 font-semibold",children:"MoneyWithdrawn"}),e.jsx("td",{className:"py-2 font-mono",children:"{ amount: 200 }"}),e.jsx("td",{className:"py-2 text-slate-500",children:"2024-01-03 09:15"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-2",children:"4"}),e.jsx("td",{className:"py-2 font-semibold",children:"MoneyDeposited"}),e.jsx("td",{className:"py-2 font-mono",children:"{ amount: 500 }"}),e.jsx("td",{className:"py-2 text-slate-500",children:"2024-01-04 16:45"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-2",children:"5"}),e.jsx("td",{className:"py-2 font-semibold",children:"MoneyWithdrawn"}),e.jsx("td",{className:"py-2 font-mono",children:"{ amount: 300 }"}),e.jsx("td",{className:"py-2 text-slate-500",children:"2024-01-05 11:20"})]})]})]})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Rebuilding State by Replay"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:`// Replay events to rebuild state
let balance = 0
for (const e of events) {
  if (e.type === 'MoneyDeposited') balance += e.data.amount
  if (e.type === 'MoneyWithdrawn') balance -= e.data.amount
}

// Result: balance = $1000
// History stays preserved âœ“`})})]}),e.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-green-900",children:[e.jsx("span",{className:"font-bold",children:"Benefits:"})," Full audit trail preserved. You can:",e.jsxs("ul",{className:"mt-2 space-y-1 ml-4",children:[e.jsx("li",{children:"â€¢ Replay events to any point in time"}),e.jsx("li",{children:"â€¢ Debug issues by seeing exact sequence"}),e.jsx("li",{children:"â€¢ Build multiple projections from same events"}),e.jsx("li",{children:"â€¢ Never lose historical data"})]})]})]})})]})]})]}),e.jsxs("div",{className:" from-purple-50 to-pink-50 rounded-2xl p-8 border-2 border-purple-200",children:[e.jsxs("h4",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[e.jsx(ta,{className:"w-6 h-6 text-purple-600"}),"Interactive: Time Travel with Event Replay"]}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Slide through events to see how state changes over time. This is the power of event sourcing!"}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-purple-200",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:["Event: ",t+1," of ",r.length]}),e.jsx("input",{type:"range",min:"0",max:r.length-1,value:t,onChange:n=>o(parseInt(n.target.value)),className:"w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[e.jsx("span",{children:"Start"}),e.jsx("span",{children:"Now"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:" from-green-50 to-emerald-50 rounded-lg p-6 border-2 border-green-200",children:[e.jsx("div",{className:"text-sm text-slate-600 mb-2",children:"Current Balance"}),e.jsxs("div",{className:"text-4xl font-bold text-green-700",children:["$",i.balance]}),e.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:[i.transactions," transactions processed"]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Current Event"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Type"}),e.jsx("div",{className:"font-bold text-slate-900",children:r[t].type}),e.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Data"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-2 sm:p-3 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:JSON.stringify(r[t].data,null,2)})})]})]})]}),e.jsx("div",{className:"space-y-2",children:r.map((n,m)=>e.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-lg transition-all ${m===t?"bg-purple-100 border-2 border-purple-400 shadow-lg":m<t?"bg-blue-50 border border-blue-200":"bg-slate-50 border border-slate-200 opacity-50"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${m===t?"bg-purple-500":m<t?"bg-blue-500":"bg-slate-300 text-slate-500"}`,children:n.id}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm text-slate-900",children:n.type}),e.jsxs("div",{className:"text-xs text-slate-600",children:[n.type==="MoneyDeposited"&&`+$${n.data.amount}`,n.type==="MoneyWithdrawn"&&`-$${n.data.amount}`,n.type==="AccountCreated"&&`Owner: ${n.data.owner}`]})]}),e.jsx("div",{className:"text-xs text-slate-500",children:new Date(n.timestamp).toLocaleString()})]},n.id))})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(K,{className:"w-6 h-6 text-blue-600"}),e.jsx("h5",{className:"font-bold text-slate-900 text-lg",children:"Append-Only Event Store"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Events are never updated or deleted. Only append new events. This gives you an immutable audit log."}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full mb-4",children:e.jsx("code",{className:"text-slate-100",children:`// Append-only write
eventStore.append({ aggregateId: 'acc_123', type: 'MoneyDeposited', data: { amount: 500 } })

// Never update/delete events:
// UPDATE events ...  âŒ
// DELETE FROM events ... âŒ`})}),e.jsx("div",{className:"text-xs text-slate-600",children:"Common implementations: EventStoreDB, Kafka, PostgreSQL (with append-only constraints), AWS EventBridge"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(as,{className:"w-6 h-6 text-purple-600"}),e.jsx("h5",{className:"font-bold text-slate-900 text-lg",children:"Event Replay"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Rebuild state by replaying events from the beginning. Essential for debugging, testing, and building new projections."}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full mb-4",children:e.jsx("code",{className:"text-slate-100",children:`// Time-travel query (conceptual)
const stateAt = (ts) => replay(eventStore.get('acc_123').filter(e => e.ts <= ts))

// What was balance on Jan 3?
const snapshot = stateAt('2024-01-03')`})}),e.jsx("div",{className:"text-xs text-slate-600",children:"Use cases: Time travel debugging, regulatory compliance, analytics, testing"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(aa,{className:"w-6 h-6 text-green-600"}),e.jsx("h5",{className:"font-bold text-slate-900 text-lg",children:"Projections (Read Models)"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Create optimized read views by processing events. Multiple projections from same events."}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full mb-4",children:e.jsx("code",{className:"text-slate-100",children:`// Same events â†’ multiple read models
on('MoneyDeposited', (e) => projection.balance += e.amount)
on('MoneyDeposited', (e) => projection.monthly[getMonth(e.ts)] += e.amount)
on('MoneyWithdrawn', (e) => projection.balance -= e.amount)`})}),e.jsx("div",{className:"text-xs text-slate-600",children:"Projections can be rebuilt anytime by replaying events"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(ra,{className:"w-6 h-6 text-orange-600"}),e.jsx("h5",{className:"font-bold text-slate-900 text-lg",children:"Snapshots (Optimization)"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Store periodic state snapshots to avoid replaying millions of events. Trade storage for speed."}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full mb-4",children:e.jsx("code",{className:"text-slate-100",children:`// Snapshot optimization (conceptual)
if (version % 1000 === 0) snapshotStore.save({ aggregateId: 'acc_123', version, state })

// Restore: snapshot + tail events
const snap = snapshotStore.latest('acc_123')
const stateNow = replay(eventStore.getAfter('acc_123', snap.version), snap.state)`})}),e.jsx("div",{className:"text-xs text-slate-600",children:"Example: Snapshot every 1000 events instead of replaying all 1M events"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:"Implementation Example"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Define Events"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:`// Domain event (small example)
type AccountEvent =
  | { type: 'AccountCreated'; accountId: string }
  | { type: 'MoneyDeposited'; accountId: string; amount: number }
  | { type: 'MoneyWithdrawn'; accountId: string; amount: number }`})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Aggregate (Write Model)"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:`class BankAccount {
  balance = 0
  pending = []

  apply(e) {
    if (e.type === 'MoneyDeposited') this.balance += e.amount
    if (e.type === 'MoneyWithdrawn') this.balance -= e.amount
    this.pending.push(e)
  }

  deposit(amount) { this.apply({ type: 'MoneyDeposited', amount }) }
  withdraw(amount) { this.apply({ type: 'MoneyWithdrawn', amount }) }
}`})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Event Store"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:`class EventStore {
  append(aggregateId, events) { /* store (aggregateId, version, event) */ }
  getEvents(aggregateId) { /* return ordered events */ }

  load(aggregateId) {
    const account = new BankAccount()
    for (const e of this.getEvents(aggregateId)) account.apply(e)
    return account
  }
}`})})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-green-50 rounded-xl p-6 border-2 border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(N,{className:"w-6 h-6 text-green-600"}),e.jsx("h5",{className:"font-bold text-slate-900 text-lg",children:"Benefits"})]}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Complete Audit Trail:"})," Every change recorded, perfect for compliance"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Time Travel:"})," Replay to any point in history for debugging"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Event Replay:"})," Rebuild state, test new features, fix bugs retroactively"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Multiple Projections:"})," Same events, different read models"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Event-Driven Architecture:"})," Publish events for other services"]})]})]})]}),e.jsxs("div",{className:"bg-red-50 rounded-xl p-6 border-2 border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ce,{className:"w-6 h-6 text-red-600"}),e.jsx("h5",{className:"font-bold text-slate-900 text-lg",children:"Challenges"})]}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-red-600 mt-1",children:"-"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Complexity:"})," Requires different thinking, steep learning curve"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-red-600 mt-1",children:"-"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Eventual Consistency:"})," Projections lag behind events"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-red-600 mt-1",children:"-"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Event Versioning:"})," Changing event schema is hard"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-red-600 mt-1",children:"-"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Storage Growth:"})," Events accumulate, need archival strategy"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-red-600 mt-1",children:"-"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Tooling:"})," Less mature than traditional databases"]})]})]})]})]}),e.jsxs("div",{className:" from-amber-50 to-orange-50 rounded-xl p-6 border-2 border-amber-200",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:"When to Use Event Sourcing"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-green-700 mb-3 text-sm",children:"âœ“ Great Fit"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Financial systems (banking, trading, accounting)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Audit-heavy domains (healthcare, legal, government)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Complex business logic with many state transitions"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Event-driven architectures (microservices)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Need multiple read models from same data"})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-red-700 mb-3 text-sm",children:"âœ— Overkill"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 mt-1 flex-shrink-0",children:"âœ—"}),e.jsx("span",{children:"Simple CRUD applications"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 mt-1 flex-shrink-0",children:"âœ—"}),e.jsx("span",{children:"Systems where history doesn't matter"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 mt-1 flex-shrink-0",children:"âœ—"}),e.jsx("span",{children:"When strong consistency is required"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 mt-1 flex-shrink-0",children:"âœ—"}),e.jsx("span",{children:"Teams unfamiliar with event-driven patterns"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 mt-1 flex-shrink-0",children:"âœ—"}),e.jsx("span",{children:"Need simple SQL queries on current state"})]})]})]})]})]}),e.jsxs("div",{className:" from-slate-50 to-slate-100 rounded-xl p-6 border-2 border-slate-200",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:"Real-World Implementations"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"Microsoft Azure"}),e.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Uses event sourcing internally for Azure Active Directory and other services. Billion+ events/day."}),e.jsx("div",{className:"text-xs text-blue-600",children:"Technology: EventStoreDB, Kafka"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"Uber"}),e.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Trip history, rider/driver state changes stored as events. Enables complex analytics and dispute resolution."}),e.jsx("div",{className:"text-xs text-blue-600",children:"Technology: Apache Kafka as event store"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"Goldman Sachs (Securities Database)"}),e.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Built internal event-sourced database for financial transactions. Complete audit trail for regulatory compliance."}),e.jsx("div",{className:"text-xs text-blue-600",children:"Technology: Custom event store + CQRS"})]})]})]}),e.jsxs("div",{className:" from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[e.jsxs("h4",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’¡"}),"Interview Tips"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "What is event sourcing and when would you use it?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),` "Instead of storing current state, you store every change as an immutable event. To get current state, you replay all events. Benefits: complete audit trail, time travel debugging, multiple projections. Use it for domains where history mattersâ€”banking, healthcare, legal. Don't use it for simple CRUD. At my last company, we used it for order processing to maintain full audit trail for disputes."`]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "How do you handle event schema changes?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),` "Events are immutable, so you can't change old events. Options: (1) Upcastingâ€”transform old events to new format during replay. (2) Versioningâ€”support multiple event versions in code. (3) Weak schemaâ€”use flexible JSON, optional fields. (4) Tolerant readersâ€”ignore unknown fields. Best practice: keep events backward compatible, add optional fields only."`]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "What if replaying events is too slow?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),' "Use snapshots. Save aggregate state every N events (e.g., every 100). To load, get latest snapshot + events since snapshot. Example: Instead of replaying 10,000 events, load snapshot at event 9,900 and replay last 100. Trade storage for speed. Also use projectionsâ€”materialized views updated as events arrive, so reads are fast."']})]})]})]})]})}function or(){const[s,l]=x.useState("traditional"),[t,o]=x.useState("simple"),a={simple:{name:"Simple CQRS (Same Database)",description:"Separate models for writes and reads, same database. Good starting point.",diagram:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Simple CQRS Pattern                   â”‚
â”‚                                                  â”‚
â”‚  Commands          Single Database     Queries   â”‚
â”‚  (Writes)                              (Reads)   â”‚
â”‚     â”‚                                      â–²     â”‚
â”‚     â–¼                                      â”‚     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚Write â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚  Read   â”‚â”‚
â”‚  â”‚Model â”‚              â”‚            â”‚  Model  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜              â–¼            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚                   â”‚ Databaseâ”‚                   â”‚
â”‚                   â”‚  Tables â”‚                   â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                  â”‚
â”‚  Write Model: Validates business rules          â”‚
â”‚  Read Model: Optimized for queries              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,pros:["Easy to implement","No eventual consistency issues","Can start with existing database","Simpler operations"],cons:["Still shares same database","Read/write contention possible","Can't scale independently"]},separate:{name:"Separate Databases",description:"Different databases for writes and reads. Eventual consistency via events.",diagram:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          CQRS with Separate Databases            â”‚
â”‚                                                  â”‚
â”‚  Commands                              Queries   â”‚
â”‚  (Writes)                              (Reads)   â”‚
â”‚     â”‚                                      â–²     â”‚
â”‚     â–¼                                      â”‚     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”         Events            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚Write â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Read   â”‚â”‚
â”‚  â”‚Model â”‚          â”‚                 â”‚  Model  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜          â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚     â”‚              â–¼                      â–²      â”‚
â”‚     â–¼         Event Bus                   â”‚      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Write   â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Read  â”‚ â”‚
â”‚  â”‚Database â”‚                          â”‚Databaseâ”‚ â”‚
â”‚  â”‚(Postgres)                          â”‚(Redis) â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                  â”‚
â”‚  Write: Normalized, ACID                        â”‚
â”‚  Read: Denormalized, fast queries               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,pros:["Independent scaling","Optimized storage per use case","Read/write isolation","Can use different technologies"],cons:["Eventual consistency","More complex operations","Event synchronization needed","Higher operational cost"]},eventSourcing:{name:"CQRS + Event Sourcing",description:"Event store as source of truth. Multiple read models built from events.",diagram:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        CQRS + Event Sourcing                     â”‚
â”‚                                                  â”‚
â”‚  Commands                              Queries   â”‚
â”‚     â”‚                                      â–²     â”‚
â”‚     â–¼                                      â”‚     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚Write â”‚                           â”‚Read     â”‚ â”‚
â”‚  â”‚Model â”‚                           â”‚Model 1  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚     â”‚              Events                â–²      â”‚
â”‚     â–¼                â”‚                   â”‚      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Event Store â”‚â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚Read     â”‚ â”‚
â”‚  â”‚ (Append-Only)    â”‚              â”‚Model 2  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                     â”‚                   â–²      â”‚
â”‚                     â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚Read     â”‚ â”‚
â”‚                                    â”‚Model 3  â”‚ â”‚
â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                 â”‚
â”‚  Single source: Event log                      â”‚
â”‚  Multiple projections for different queries    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,pros:["Complete audit trail","Time travel debugging","Unlimited read models","Event-driven by design"],cons:["Highest complexity","Event versioning challenges","Eventually consistent","Steep learning curve"]}},c={traditional:{title:"Traditional Approach",code:`// Single model for both reads and writes
class UserService {
  async createUser(data) {
    // Write operation
    const user = await db.users.create({
      name: data.name,
      email: data.email,
      address: data.address
    })
    return user
  }
  
  async getUserProfile(userId) {
    // Read operation - same model
    const user = await db.users.findOne({
      where: { id: userId },
      include: ['orders', 'addresses', 'preferences']
    })
    // Complex JOIN, slow for reads
    return user
  }
}

// âŒ Problems:
// - Same model optimized for neither reads nor writes
// - Complex queries slow down writes
// - Denormalization for reads affects write logic`},cqrs:{title:"CQRS Approach",code:`// WRITE SIDE: Command Model
class UserCommandService {
  async createUser(command: CreateUserCommand) {
    // Validate business rules
    this.validateEmail(command.email)
    
    // Write to normalized database
    const user = await writeDb.users.create({
      name: command.name,
      email: command.email
    })
    
    // Publish event
    await eventBus.publish('UserCreated', {
      userId: user.id,
      name: user.name,
      email: user.email
    })
    
    return user.id
  }
}

// READ SIDE: Query Model
class UserQueryService {
  async getUserProfile(userId: string) {
    // Read from denormalized cache
    const profile = await readDb.get(\`user:\${userId}\`)
    
    if (!profile) {
      // Rebuild from events if missing
      return this.rebuildProfile(userId)
    }
    
    return profile
  }
}

// Event Handler: Updates read model
eventBus.on('UserCreated', async (event) => {
  await readDb.set(\`user:\${event.userId}\`, {
    id: event.userId,
    name: event.name,
    email: event.email,
    orderCount: 0,
    lastActive: new Date()
  })
})

// âœ“ Benefits:
// - Write model: normalized, validates rules
// - Read model: denormalized, optimized for queries
// - Independent scaling
// - Clear separation of concerns`}},r=a[t],d=c[s];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-3",children:"CQRS (Command Query Responsibility Segregation)"}),e.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"Separate models for reading and writing data. Optimize each side independently."})]}),e.jsx("div",{className:" from-blue-50 to-indigo-50 rounded-2xl p-8 border-2 border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx(ns,{className:"w-8 h-8 text-blue-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-3",children:"The Core Idea"}),e.jsxs("p",{className:"text-slate-700 mb-4",children:["Instead of using the same model for reads and writes, ",e.jsx("span",{className:"font-bold",children:"split them into separate models"}),". Commands change state, queries read stateâ€”each optimized for its purpose."]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(z,{className:"w-5 h-5 text-purple-600"}),e.jsx("h5",{className:"font-bold text-slate-900 text-sm",children:"Command Side (Writes)"})]}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Validates business rules"}),e.jsx("li",{children:"â€¢ Changes system state"}),e.jsx("li",{children:"â€¢ Returns simple acknowledgment"}),e.jsx("li",{children:"â€¢ Normalized data structure"}),e.jsx("li",{children:"â€¢ Focus: consistency, validation"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(K,{className:"w-5 h-5 text-green-600"}),e.jsx("h5",{className:"font-bold text-slate-900 text-sm",children:"Query Side (Reads)"})]}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[e.jsx("li",{children:"â€¢ No business logic"}),e.jsx("li",{children:"â€¢ Never modifies state"}),e.jsx("li",{children:"â€¢ Returns rich DTOs"}),e.jsx("li",{children:"â€¢ Denormalized for fast reads"}),e.jsx("li",{children:"â€¢ Focus: performance, simplicity"})]})]})]}),e.jsx("div",{className:"bg-blue-100 rounded-lg p-4",children:e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("span",{className:"font-bold",children:"Key Insight:"})," Reads and writes have different requirements. Writes need ACID guarantees and validation. Reads need speed and denormalized data. Why force them to share the same model?"]})})]})]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Code Comparison"}),e.jsxs("div",{className:"flex gap-3 mb-6",children:[e.jsx("button",{onClick:()=>l("traditional"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${s==="traditional"?"bg-blue-600 text-white":"bg-white text-blue-600 border-2 border-blue-600 hover:bg-blue-50"}`,children:"Traditional"}),e.jsx("button",{onClick:()=>l("cqrs"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${s==="cqrs"?"bg-blue-600 text-white":"bg-white text-blue-600 border-2 border-blue-600 hover:bg-blue-50"}`,children:"CQRS"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200",children:[e.jsx("h5",{className:"text-xl font-bold text-slate-900 mb-4",children:d.title}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto",children:e.jsx("code",{children:d.code})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-6",children:"CQRS Variations"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:Object.entries(a).map(([i,n])=>e.jsxs("button",{onClick:()=>o(i),className:`p-6 rounded-xl border-2 transition-all text-left ${t===i?"border-blue-500 bg-blue-50 shadow-lg":"border-slate-200 bg-white hover:border-blue-300"}`,children:[e.jsx("div",{className:"font-bold text-lg text-slate-900 mb-2",children:n.name}),e.jsx("div",{className:"text-sm text-slate-600",children:n.description})]},i))}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 border-2 border-slate-200",children:[e.jsx("h5",{className:"text-xl font-bold text-slate-900 mb-6",children:r.name}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200 mb-6",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Architecture"}),e.jsx("pre",{className:"text-xs text-slate-700 whitespace-pre overflow-x-auto",children:r.diagram})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-green-50 rounded-xl p-6 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(N,{className:"w-5 h-5 text-green-600"}),e.jsx("h6",{className:"font-bold text-slate-900",children:"Pros"})]}),e.jsx("ul",{className:"space-y-2",children:r.pros.map((i,n)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-green-600 mt-0.5",children:"+"}),e.jsx("span",{children:i})]},n))})]}),e.jsxs("div",{className:"bg-red-50 rounded-xl p-6 border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ce,{className:"w-5 h-5 text-red-600"}),e.jsx("h6",{className:"font-bold text-slate-900",children:"Cons"})]}),e.jsx("ul",{className:"space-y-2",children:r.cons.map((i,n)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-red-600 mt-0.5",children:"-"}),e.jsx("span",{children:i})]},n))})]})]})]})]}),e.jsxs("div",{className:" from-purple-50 to-pink-50 rounded-2xl p-8 border-2 border-purple-200",children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Implementation Patterns"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(z,{className:"w-5 h-5 text-purple-600"}),e.jsx("h5",{className:"font-bold text-slate-900",children:"Commands (Write Operations)"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Commands express intent to change state. They can fail due to business rule violations."}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-4 rounded-lg",children:`// Command: Intent to do something
interface CreateOrderCommand {
  userId: string
  items: Array<{ productId: string; quantity: number }>
  shippingAddress: Address
}

// Command Handler
class CreateOrderHandler {
  async handle(command: CreateOrderCommand) {
    // 1. Validate business rules
    const user = await this.userRepo.findById(command.userId)
    if (!user.isVerified) {
      throw new Error('User not verified')
    }
    
    // 2. Check inventory
    await this.inventoryService.reserve(command.items)
    
    // 3. Create order
    const order = new Order({
      userId: command.userId,
      items: command.items,
      status: 'pending'
    })
    
    await this.orderRepo.save(order)
    
    // 4. Publish event
    await this.eventBus.publish('OrderCreated', {
      orderId: order.id,
      userId: command.userId,
      total: order.total
    })
    
    // Return simple result
    return { orderId: order.id }
  }
}

// Usage
await commandBus.send(new CreateOrderCommand({
  userId: 'user_123',
  items: [{ productId: 'prod_456', quantity: 2 }],
  shippingAddress: { ... }
}))`})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(K,{className:"w-5 h-5 text-green-600"}),e.jsx("h5",{className:"font-bold text-slate-900",children:"Queries (Read Operations)"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Queries retrieve data without side effects. Never modify state."}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-4 rounded-lg",children:`// Query: Request for data
interface GetUserOrdersQuery {
  userId: string
  status?: string
  page: number
  limit: number
}

// Query Handler
class GetUserOrdersHandler {
  async handle(query: GetUserOrdersQuery) {
    // Read from optimized read model (denormalized)
    const orders = await this.readDb.query(\`
      SELECT 
        o.id,
        o.status,
        o.total,
        o.created_at,
        COUNT(i.id) as item_count
      FROM orders_view o
      LEFT JOIN order_items i ON i.order_id = o.id
      WHERE o.user_id = $1
        AND ($2 IS NULL OR o.status = $2)
      GROUP BY o.id
      ORDER BY o.created_at DESC
      LIMIT $3 OFFSET $4
    \`, [query.userId, query.status, query.limit, query.page * query.limit])
    
    // Return rich DTO
    return {
      orders: orders.map(o => ({
        id: o.id,
        status: o.status,
        total: o.total,
        itemCount: o.item_count,
        createdAt: o.created_at
      })),
      page: query.page,
      hasMore: orders.length === query.limit
    }
  }
}

// Usage
const result = await queryBus.send(new GetUserOrdersQuery({
  userId: 'user_123',
  status: 'shipped',
  page: 0,
  limit: 20
}))`})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Oe,{className:"w-5 h-5 text-blue-600"}),e.jsx("h5",{className:"font-bold text-slate-900",children:"Event Handlers (Sync Read Models)"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Update read models when commands emit events. Ensures eventual consistency."}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-4 rounded-lg",children:`// Event Handler: Updates read model
class OrderCreatedHandler {
  @Subscribe('OrderCreated')
  async handle(event: OrderCreated) {
    // Update denormalized read model
    await this.readDb.exec(\`
      INSERT INTO orders_view (
        id, user_id, status, total, item_count, created_at
      ) VALUES ($1, $2, $3, $4, $5, $6)
    \`, [
      event.orderId,
      event.userId,
      'pending',
      event.total,
      event.items.length,
      event.timestamp
    ])
    
    // Update user statistics
    await this.redis.incr(\`user:\${event.userId}:order_count\`)
    
    // Update search index
    await this.elasticsearch.index({
      index: 'orders',
      id: event.orderId,
      body: {
        userId: event.userId,
        status: 'pending',
        total: event.total,
        createdAt: event.timestamp
      }
    })
  }
}

// Multiple read models from same event!`})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-green-50 rounded-xl p-6 border-2 border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(N,{className:"w-6 h-6 text-green-600"}),e.jsx("h5",{className:"font-bold text-slate-900 text-lg",children:"Benefits"})]}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Optimized Models:"})," Write model normalized, read model denormalized for queries"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Independent Scaling:"})," Scale reads separately from writes (most apps read-heavy)"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Technology Choice:"})," PostgreSQL for writes, Redis/Elasticsearch for reads"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Clear Separation:"})," Writes validate business logic, reads just return data"]})]})]})]}),e.jsxs("div",{className:"bg-red-50 rounded-xl p-6 border-2 border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ce,{className:"w-6 h-6 text-red-600"}),e.jsx("h5",{className:"font-bold text-slate-900 text-lg",children:"Challenges"})]}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-red-600 mt-1",children:"-"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Eventual Consistency:"})," Read model may lag behind writes"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-red-600 mt-1",children:"-"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Complexity:"})," More moving parts, harder to understand"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-red-600 mt-1",children:"-"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Code Duplication:"})," Separate models mean more code"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[e.jsx("span",{className:"text-red-600 mt-1",children:"-"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Synchronization:"})," Need to keep read model in sync via events"]})]})]})]})]}),e.jsxs("div",{className:" from-amber-50 to-orange-50 rounded-xl p-6 border-2 border-amber-200",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:"When to Use CQRS"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-green-700 mb-3 text-sm",children:"âœ“ Good Fit"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Read-heavy applications (10:1 or higher read/write ratio)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Complex domain with heavy business logic"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Need different query views (reports, search, dashboards)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Collaborative domains (multiple users editing)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Event-driven architecture already in place"})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-red-700 mb-3 text-sm",children:"âœ— Overkill"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 mt-1 flex-shrink-0",children:"âœ—"}),e.jsx("span",{children:"Simple CRUD applications"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 mt-1 flex-shrink-0",children:"âœ—"}),e.jsx("span",{children:"Similar read/write patterns"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 mt-1 flex-shrink-0",children:"âœ—"}),e.jsx("span",{children:"Small scale applications"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 mt-1 flex-shrink-0",children:"âœ—"}),e.jsx("span",{children:"Team unfamiliar with pattern"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 mt-1 flex-shrink-0",children:"âœ—"}),e.jsx("span",{children:"Strong immediate consistency required"})]})]})]})]})]}),e.jsxs("div",{className:" from-slate-50 to-slate-100 rounded-xl p-6 border-2 border-slate-200",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:"Real-World Examples"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"Stack Overflow"}),e.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Writes to SQL Server (questions, answers). Reads from Elasticsearch (search) and Redis (hot data). Separate read models for search and real-time views."}),e.jsx("div",{className:"text-xs text-blue-600",children:"Pattern: Separate databases + denormalized reads"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"Amazon"}),e.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Order writes go to transactional DB. Multiple read models: order history (DynamoDB), search (Elasticsearch), recommendations (graph DB), analytics (data warehouse)."}),e.jsx("div",{className:"text-xs text-blue-600",children:"Pattern: CQRS + Event Sourcing for some domains"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"Uber"}),e.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Trip commands (start trip, end trip) write events. Multiple projections: driver app (current trip), rider app (trip history), analytics (heatmaps), billing (invoices)."}),e.jsx("div",{className:"text-xs text-blue-600",children:"Pattern: CQRS + Event Sourcing + Kafka"})]})]})]}),e.jsxs("div",{className:" from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[e.jsxs("h4",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’¡"}),"Interview Tips"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "What is CQRS and when would you use it?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),` "CQRS separates read and write models. Commands change state and validate business rules. Queries just return data, no side effects. Use it when reads and writes have very different requirementsâ€”like e-commerce where you write orders rarely but read product catalogs constantly. Benefit: optimize each side independently. Drawback: eventual consistencyâ€”read model may lag behind writes. I'd start simple (same DB) and only go to separate databases if scaling demands it."`]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "How is CQRS different from Event Sourcing?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),` "CQRS is about separationâ€”different models for reads and writes. Event Sourcing is about storageâ€”storing events instead of current state. They're independent patterns. You can do CQRS without Event Sourcing (same database, separate models). You can do Event Sourcing without CQRS (single model replaying events). They work great togetherâ€”Event Store as write side, projections as read sideâ€”but you don't need both."`]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "How do you handle eventual consistency in CQRS?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),` "Several strategies: (1) Show 'processing' state in UI after writes. (2) Optimistic updatesâ€”assume success, update UI immediately. (3) Version numbersâ€”client checks if read model caught up. (4) Push notificationsâ€”server notifies when projection ready. (5) For critical cases, read from write model temporarily. Most users don't notice lag under 100ms. Also make sure event processing is fast and monitored."`]})]})]})]})]})}function mr(){const[s,l]=x.useState("dualWrite"),[t,o]=x.useState(0),a={dualWrite:{name:"Dual Write (âŒ Problematic)",icon:e.jsx(F,{className:"w-6 h-6 text-red-600"}),description:"Write to database and publish event separately. Can fail inconsistently.",diagram:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Dual Write Problem                     â”‚
â”‚                                                  â”‚
â”‚  1. Write to DB      2. Publish Event            â”‚
â”‚     â”‚                    â”‚                       â”‚
â”‚     â–¼                    â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ Database â”‚      â”‚  Message â”‚                 â”‚
â”‚  â”‚          â”‚      â”‚   Queue  â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                  â”‚
â”‚  âŒ Problem: What if DB succeeds but event fails?â”‚
â”‚  âŒ Or event succeeds but DB fails?              â”‚
â”‚  âŒ Inconsistent state!                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,code:`// âŒ Dual Write - DON'T DO THIS
async function createOrder(orderData) {
  // Write 1: Database
  const order = await db.orders.create(orderData)
  
  // Write 2: Message queue
  await messageQueue.publish('OrderCreated', {
    orderId: order.id,
    ...orderData
  })
  
  return order
}

// FAILURE SCENARIOS:

// Scenario 1: DB succeeds, event fails
// - Order saved âœ“
// - Event not published âœ—
// - Other services don't know about order!

// Scenario 2: Event succeeds, DB fails  
// - Order not saved âœ—
// - Event published âœ“
// - Other services process non-existent order!

// Scenario 3: Event sent twice (retry)
// - DB transaction rolled back
// - But event already sent once
// - Duplicate event!`,problem:"No atomicity between database write and event publish. Can't guarantee both succeed or both fail.",severity:"critical"},outbox:{name:"Transactional Outbox (âœ“ Reliable)",icon:e.jsx(N,{className:"w-6 h-6 text-green-600"}),description:"Write event to outbox table in same transaction. Publish later.",diagram:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Transactional Outbox Pattern              â”‚
â”‚                                                  â”‚
â”‚  1. Single Transaction                           â”‚
â”‚     â”‚                                            â”‚
â”‚     â”œâ”€â”€â–¶ Write to orders table                  â”‚
â”‚     â”‚                                            â”‚
â”‚     â””â”€â”€â–¶ Write to outbox table                  â”‚
â”‚          (both succeed or both fail)             â”‚
â”‚                                                  â”‚
â”‚  2. Separate Process                             â”‚
â”‚     â”‚                                            â”‚
â”‚     â””â”€â”€â–¶ Poll outbox table                      â”‚
â”‚          Publish to message queue               â”‚
â”‚          Mark as sent                            â”‚
â”‚                                                  â”‚
â”‚  âœ“ Atomic write (single transaction)            â”‚
â”‚  âœ“ At-least-once delivery                       â”‚
â”‚  âœ“ No inconsistent state                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,code:`// âœ“ Transactional Outbox - DO THIS
async function createOrder(orderData) {
  // Start database transaction
  await db.transaction(async (trx) => {
    
    // Write 1: Business data
    const order = await trx.orders.create(orderData)
    
    // Write 2: Outbox entry (same transaction!)
    await trx.outbox.create({
      aggregateId: order.id,
      aggregateType: 'Order',
      eventType: 'OrderCreated',
      payload: JSON.stringify({
        orderId: order.id,
        userId: orderData.userId,
        total: orderData.total
      }),
      createdAt: new Date()
    })
    
    // BOTH writes succeed or BOTH fail
  })
}

// Separate background job (runs every 100ms)
setInterval(async () => {
  // 1. Fetch unpublished events
  const events = await db.outbox.find({
    published: false
  }).limit(100)
  
  for (const event of events) {
    // 2. Publish to message queue
    await messageQueue.publish(
      event.eventType,
      JSON.parse(event.payload)
    )
    
    // 3. Mark as published
    await db.outbox.update(event.id, {
      published: true,
      publishedAt: new Date()
    })
  }
}, 100)`,problem:null,severity:"solution"},cdc:{name:"Change Data Capture (Advanced)",icon:e.jsx(z,{className:"w-6 h-6 text-purple-600"}),description:"Database streams changes automatically. No polling needed.",diagram:`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Change Data Capture (CDC)                â”‚
â”‚                                                  â”‚
â”‚  1. Write to DB                                  â”‚
â”‚     â”‚                                            â”‚
â”‚     â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚ Database â”‚                                    â”‚
â”‚  â”‚ (Postgres)                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚       â”‚                                          â”‚
â”‚       â”‚ Transaction Log                          â”‚
â”‚       â”‚ (WAL - Write-Ahead Log)                  â”‚
â”‚       â”‚                                          â”‚
â”‚       â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚   CDC    â”‚ (Debezium, Kafka Connect)         â”‚
â”‚  â”‚  Tool    â”‚                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚       â”‚                                          â”‚
â”‚       â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚  Kafka   â”‚                                    â”‚
â”‚  â”‚  Events  â”‚                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚                                                  â”‚
â”‚  âœ“ Zero-code event publishing                   â”‚
â”‚  âœ“ Guaranteed delivery                          â”‚
â”‚  âœ“ Exactly-once semantics possible              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`,code:`// Setup Debezium connector (JSON config)
{
  "name": "orders-connector",
  "config": {
    "connector.class": "io.debezium.connector.postgresql.PostgresConnector",
    "database.hostname": "postgres",
    "database.port": "5432",
    "database.user": "app",
    "database.password": "secret",
    "database.dbname": "orders_db",
    "database.server.name": "orders",
    "table.include.list": "public.orders,public.outbox",
    "transforms": "outbox",
    "transforms.outbox.type": "io.debezium.transforms.outbox.EventRouter",
    "transforms.outbox.table.expand.json.payload": "true"
  }
}

// Application code - just write to DB!
async function createOrder(orderData) {
  await db.transaction(async (trx) => {
    const order = await trx.orders.create(orderData)
    
    // Write to outbox (CDC will detect this)
    await trx.outbox.create({
      aggregateId: order.id,
      aggregateType: 'Order',
      eventType: 'OrderCreated',
      payload: { orderId: order.id, ...orderData }
    })
  })
  
  // That's it! No manual polling needed.
  // Debezium reads transaction log and publishes to Kafka
}

// Events appear in Kafka automatically:
// Topic: orders.Order.OrderCreated
// Payload: { orderId: "123", userId: "456", total: 99.99 }`,problem:null,severity:"advanced"}},c=[{step:0,description:"Initial State",dbState:"Empty",outboxState:"Empty",eventState:"None",status:"idle"},{step:1,description:"Start Transaction: Write Order + Outbox",dbState:"Order #123 (uncommitted)",outboxState:"Event for Order #123 (uncommitted)",eventState:"None",status:"in-transaction"},{step:2,description:"Commit Transaction âœ“",dbState:"Order #123 (committed)",outboxState:"Event for Order #123 (unpublished)",eventState:"None",status:"committed"},{step:3,description:"Background Job: Fetch Unpublished Events",dbState:"Order #123",outboxState:"Event for Order #123 (processing)",eventState:"None",status:"processing"},{step:4,description:"Publish to Message Queue âœ“",dbState:"Order #123",outboxState:"Event for Order #123 (published)",eventState:"OrderCreated published",status:"published"}],r=a[s],d=c[t],i=()=>{t<c.length-1&&o(t+1)},n=()=>{o(0)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-3",children:"Transactional Outbox Pattern"}),e.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"Reliably publish events when saving data. Solve the dual-write problem with guaranteed delivery."})]}),e.jsx("div",{className:" from-red-50 to-orange-50 rounded-2xl p-8 border-2 border-red-200",children:e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx(ce,{className:"w-8 h-8 text-red-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-3",children:"The Dual-Write Problem"}),e.jsxs("p",{className:"text-slate-700 mb-4",children:["You want to save data to a database ",e.jsx("span",{className:"font-bold",children:"and"})," publish an event to a message queue. But these are two separate systemsâ€”how do you ensure both succeed or both fail?"]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-red-200 mb-4",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-3 text-sm",children:"Failure Scenarios:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-red-100 text-red-700 flex items-center justify-center text-xs font-bold flex-shrink-0",children:"1"}),e.jsxs("div",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-bold",children:"Database succeeds, event fails:"})," Data saved but other services don't know. Lost event, missing notifications."]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-red-100 text-red-700 flex items-center justify-center text-xs font-bold flex-shrink-0",children:"2"}),e.jsxs("div",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-bold",children:"Event succeeds, database fails:"})," Event published but data not saved. Other services process non-existent data."]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-red-100 text-red-700 flex items-center justify-center text-xs font-bold flex-shrink-0",children:"3"}),e.jsxs("div",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-bold",children:"Event sent twice on retry:"})," Transaction rolled back but event already published. Duplicate processing."]})]})]})]}),e.jsxs("div",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-bold text-red-700",children:"Root cause:"})," No distributed transaction between database and message queue. Can't guarantee atomicity across two systems."]})]})]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Solutions Comparison"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:Object.entries(a).map(([m,p])=>e.jsxs("button",{onClick:()=>l(m),className:`p-6 rounded-xl border-2 transition-all text-left ${s===m?p.severity==="critical"?"border-red-500 bg-red-50 shadow-lg":p.severity==="solution"?"border-green-500 bg-green-50 shadow-lg":"border-purple-500 bg-purple-50 shadow-lg":"border-slate-200 bg-white hover:border-blue-300"}`,children:[e.jsx("div",{className:`mb-3 ${s===m?"":"opacity-50"}`,children:p.icon}),e.jsx("div",{className:"font-bold text-lg text-slate-900 mb-2",children:p.name}),e.jsx("div",{className:"text-sm text-slate-600",children:p.description})]},m))}),e.jsxs("div",{className:`rounded-2xl p-8 border-2 ${r.severity==="critical"?"bg-red-50 border-red-200":r.severity==="solution"?"bg-green-50 border-green-200":"bg-purple-50 border-purple-200"}`,children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.icon,e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"text-2xl font-bold text-slate-900 mb-2",children:r.name}),e.jsx("p",{className:"text-slate-700",children:r.description})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-slate-200 mb-6",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Architecture"}),e.jsx("pre",{className:"text-xs text-slate-700 whitespace-pre overflow-x-auto",children:r.diagram})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-slate-200 mb-6",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Implementation"}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto",children:e.jsx("code",{children:r.code})})]}),r.problem&&e.jsx("div",{className:"bg-red-100 rounded-lg p-4 border-2 border-red-300",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ce,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-red-900",children:[e.jsx("span",{className:"font-bold",children:"Why This Fails:"})," ",r.problem]})]})}),r.severity==="solution"&&e.jsx("div",{className:"bg-green-100 rounded-lg p-4 border-2 border-green-300",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-green-900",children:[e.jsx("span",{className:"font-bold",children:"Why This Works:"})," Both writes (business data + event) happen in a single database transaction. Either both succeed or both fail. Events published separately by polling the outbox table."]})]})}),r.severity==="advanced"&&e.jsx("div",{className:"bg-purple-100 rounded-lg p-4 border-2 border-purple-300",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(z,{className:"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-purple-900",children:[e.jsx("span",{className:"font-bold",children:"Advanced Approach:"})," Database streams its own transaction log. No application code needed for event publishing. Tools like Debezium monitor database changes and publish to Kafka automatically."]})]})})]})]}),e.jsxs("div",{className:" from-blue-50 to-indigo-50 rounded-2xl p-8 border-2 border-blue-200",children:[e.jsxs("h4",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[e.jsx(Oe,{className:"w-6 h-6 text-blue-600"}),"Interactive: Outbox Pattern Flow"]}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Step through the transactional outbox pattern to see how it guarantees reliable event delivery."}),e.jsxs("div",{className:"flex gap-3 mb-6",children:[e.jsx("button",{onClick:i,disabled:t===c.length-1,className:`px-6 py-3 rounded-lg font-semibold transition-colors ${t===c.length-1?"bg-slate-200 text-slate-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:"Next Step â†’"}),e.jsx("button",{onClick:n,className:"px-6 py-3 rounded-lg font-semibold border-2 border-blue-600 text-blue-600 hover:bg-blue-50 transition-colors",children:"Reset"}),e.jsxs("div",{className:"flex-1 flex items-center justify-end text-sm text-slate-600",children:["Step ",t+1," of ",c.length]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-blue-200 mb-6",children:[e.jsx("div",{className:"text-xl font-bold text-slate-900 mb-4",children:d.description}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:`rounded-lg p-4 border-2 ${d.status==="in-transaction"||d.status==="committed"?"bg-green-50 border-green-200":"bg-slate-50 border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(K,{className:"w-5 h-5 text-slate-600"}),e.jsx("div",{className:"font-bold text-sm text-slate-900",children:"Database"})]}),e.jsx("div",{className:"text-sm text-slate-700",children:d.dbState})]}),e.jsxs("div",{className:`rounded-lg p-4 border-2 ${d.status==="processing"||d.status==="published"?"bg-blue-50 border-blue-200":d.status==="committed"?"bg-yellow-50 border-yellow-200":"bg-slate-50 border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(K,{className:"w-5 h-5 text-slate-600"}),e.jsx("div",{className:"font-bold text-sm text-slate-900",children:"Outbox Table"})]}),e.jsx("div",{className:"text-sm text-slate-700",children:d.outboxState})]}),e.jsxs("div",{className:`rounded-lg p-4 border-2 ${d.status==="published"?"bg-purple-50 border-purple-200":"bg-slate-50 border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(la,{className:"w-5 h-5 text-slate-600"}),e.jsx("div",{className:"font-bold text-sm text-slate-900",children:"Event Queue"})]}),e.jsx("div",{className:"text-sm text-slate-700",children:d.eventState})]})]})]}),e.jsx("div",{className:"space-y-2",children:c.map((m,p)=>e.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-lg transition-all ${p===t?"bg-blue-100 border-2 border-blue-400 shadow-lg":p<t?"bg-green-50 border border-green-200":"bg-slate-50 border border-slate-200 opacity-50"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${p===t?"bg-blue-500 ":p<t?"bg-green-500 ":"bg-slate-300 text-slate-500"}`,children:p+1}),e.jsx("div",{className:"flex-1 text-sm text-slate-900 font-semibold",children:m.description}),p<t&&e.jsx(N,{className:"w-5 h-5 text-green-600"})]},p))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Oe,{className:"w-6 h-6 text-blue-600"}),e.jsx("h5",{className:"font-bold text-slate-900 text-lg",children:"Polling Outbox"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Background job periodically checks outbox table for unpublished events."}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-3 rounded-lg mb-4",children:`// Background worker (every 100ms)
setInterval(async () => {
  const events = await db.outbox
    .where('published', false)
    .orderBy('created_at')
    .limit(100)
  
  for (const event of events) {
    try {
      await messageQueue.publish(
        event.eventType,
        JSON.parse(event.payload)
      )
      
      await db.outbox.update(event.id, {
        published: true,
        publishedAt: new Date()
      })
    } catch (error) {
      // Retry on next poll
      console.error(error)
    }
  }
}, 100)`}),e.jsxs("div",{className:"space-y-2 text-xs text-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:"Simple to implement"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:"Works with any database"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-orange-600",children:"âš "}),e.jsx("span",{children:"Polling delay (100ms+)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-orange-600",children:"âš "}),e.jsx("span",{children:"Database load from polling"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(z,{className:"w-6 h-6 text-purple-600"}),e.jsx("h5",{className:"font-bold text-slate-900 text-lg",children:"Change Data Capture (CDC)"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Database streams changes from transaction log automatically."}),e.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-3 rounded-lg mb-4",children:`// Debezium monitors transaction log
// No application code needed!

// Just write to outbox:
await db.outbox.create({
  aggregateType: 'Order',
  eventType: 'OrderCreated',
  payload: { orderId: '123' }
})

// Debezium automatically:
// 1. Detects insert in transaction log
// 2. Publishes to Kafka topic:
//    orders.outbox.OrderCreated
// 3. Transforms event to final format

// Consumers receive event from Kafka`}),e.jsxs("div",{className:"space-y-2 text-xs text-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:"Near real-time (milliseconds)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:"No polling overhead"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:"Exactly-once possible"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-orange-600",children:"âš "}),e.jsx("span",{children:"Complex setup (Kafka, Debezium)"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:"Outbox Table Schema"}),e.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200 mb-4",children:e.jsx("pre",{className:"bg-slate-50 text-slate-700 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre max-w-full",children:e.jsx("code",{className:"text-slate-700",children:`CREATE TABLE outbox (
  id                UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  aggregate_id      VARCHAR(255) NOT NULL,
  aggregate_type    VARCHAR(255) NOT NULL,
  event_type        VARCHAR(255) NOT NULL,
  payload           JSONB NOT NULL,
  created_at        TIMESTAMP NOT NULL DEFAULT NOW(),
  published         BOOLEAN NOT NULL DEFAULT FALSE,
  published_at      TIMESTAMP,
  
  INDEX idx_outbox_published (published, created_at)
);

-- Example row:
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "aggregate_id": "order_123",
  "aggregate_type": "Order",
  "event_type": "OrderCreated",
  "payload": {
    "orderId": "order_123",
    "userId": "user_456",
    "total": 99.99,
    "items": [...]
  },
  "created_at": "2024-01-15T10:30:00Z",
  "published": false,
  "published_at": null
}`})})}),e.jsxs("div",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-bold",children:"Key points:"}),e.jsxs("ul",{className:"mt-2 space-y-1 ml-4",children:[e.jsxs("li",{children:["â€¢ ",e.jsx("code",{className:"bg-slate-200 px-1 rounded",children:"payload"})," stores full event data (JSONB for Postgres)"]}),e.jsxs("li",{children:["â€¢ Index on ",e.jsx("code",{className:"bg-slate-200 px-1 rounded",children:"(published, created_at)"})," for fast polling"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("code",{className:"bg-slate-200 px-1 rounded",children:"aggregate_id"})," links event to business entity"]}),e.jsxs("li",{children:["â€¢ Optional: add ",e.jsx("code",{className:"bg-slate-200 px-1 rounded",children:"version"})," for event ordering"]})]})]})]}),e.jsxs("div",{className:" from-slate-50 to-slate-100 rounded-xl p-6 border-2 border-slate-200",children:[e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:"Real-World Implementations"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"LinkedIn"}),e.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Uses Change Data Capture (Databus) to stream database changes to Kafka. Powers news feed, search indexing, and analytics."}),e.jsx("div",{className:"text-xs text-blue-600",children:"Technology: Custom CDC (Databus) + Kafka"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"Uber"}),e.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Transactional outbox pattern for trip events. Polling-based relay publishes to Kafka for downstream services (billing, analytics, driver app)."}),e.jsx("div",{className:"text-xs text-blue-600",children:"Technology: Polling + Kafka"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("div",{className:"font-bold text-slate-900 mb-2",children:"Shopify"}),e.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Uses outbox pattern with Debezium CDC for order processing. Guarantees event delivery even during database failures or rollbacks."}),e.jsx("div",{className:"text-xs text-blue-600",children:"Technology: Debezium + Kafka Connect"})]})]})]}),e.jsxs("div",{className:" from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[e.jsxs("h4",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’¡"}),"Interview Tips"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "What is the transactional outbox pattern?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),' "It solves the dual-write problemâ€”reliably publishing events when saving data. Instead of writing to DB and publishing to queue separately (which can fail inconsistently), you write the event to an outbox table in the same transaction as your business data. A separate process polls the outbox and publishes events. This guarantees both succeed or both failâ€”atomic write to database, at-least-once delivery to message queue."']})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "Polling vs Change Data Captureâ€”which should you use?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),` "Polling is simplerâ€”just a background job checking the outbox table every 100ms. Works with any database, easy to implement. Downside: polling delay and database load. CDC (like Debezium) streams transaction log automatically, near real-time with no polling overhead. But requires more infrastructure (Kafka, Debezium). I'd start with polling for MVP, switch to CDC if you need millisecond latency or have high event volume."`]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:'Q: "How do you handle duplicate events?"'}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"A:"}),' "Outbox guarantees at-least-once delivery, so duplicates are possible (e.g., publisher crashes after publishing but before marking as sent). Consumers must be idempotent. Use event ID for deduplicationâ€”store processed event IDs and ignore duplicates. Or make operations naturally idempotent (PUT vs POST). Also add idempotency keys if supported by your message queue (SQS message deduplication, Kafka with exactly-once semantics)."']})]})]})]})]})}function xr(){const s=le();return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"relative gradient-overlay py-20 md:py-28 overflow-hidden",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-teal-50 border border-teal-100 mb-6",children:e.jsx("span",{className:"text-sm font-medium text-teal-700",children:"Module 5"})}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6",children:["APIs, Integration & ",e.jsx("span",{className:"text-gradient",children:"Data Movement"})]}),e.jsx("p",{className:"text-lg md:text-xl text-slate-600 mb-8 mx-auto",children:"A deep dive into how systems communicate. Master protocols, gateway patterns, asynchronous messaging, and real-time data streaming."}),e.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:e.jsx("button",{onClick:()=>s("/"),className:"btn-secondary",children:"Back to Home"})})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-7xl",children:[e.jsxs("section",{className:"mb-16",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"text-sm font-bold text-teal-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-teal-600 text-white flex items-center justify-center text-sm",children:"01"}),"API PROTOCOLS"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4",children:"REST vs GraphQL vs gRPC"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-4xl mb-6",children:"The protocol defines the contract, performance, and coupling between services. Choosing the wrong one can lead to chatty interfaces or rigid contracts."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-2xl p-7 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸŒ"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"REST"}),e.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-4",children:"Representational State Transfer. The standard for public web APIs."}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Resource-based (Nouns)"}),e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Stateless"}),e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Cacheable (HTTP)"}),e.jsx("div",{className:"text-xs font-semibold text-red-700 bg-red-50 px-3 py-1 rounded",children:"âœ— Over/Under-fetching"}),e.jsx("div",{className:"text-xs font-semibold text-red-700 bg-red-50 px-3 py-1 rounded",children:"âœ— Multiple round-trips"})]}),e.jsxs("div",{className:"text-xs text-slate-500 border-t pt-3",children:[e.jsx("strong",{children:"Best for:"})," Public APIs, Simple CRUD, Browser clients"]})]}),e.jsxs("div",{className:"bg-white border-2 border-pink-200 rounded-2xl p-7 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ”—"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"GraphQL"}),e.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-4",children:"Query language for APIs. Client specifies exactly what data it needs."}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Single Endpoint"}),e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Strongly Typed Schema"}),e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ No Over-fetching"}),e.jsx("div",{className:"text-xs font-semibold text-red-700 bg-red-50 px-3 py-1 rounded",children:"âœ— Complexity (Resolvers)"}),e.jsx("div",{className:"text-xs font-semibold text-red-700 bg-red-50 px-3 py-1 rounded",children:"âœ— Caching is hard"})]}),e.jsxs("div",{className:"text-xs text-slate-500 border-t pt-3",children:[e.jsx("strong",{children:"Best for:"})," Complex data graphs, Mobile apps (bandwidth), Aggregation"]})]}),e.jsxs("div",{className:"bg-white border-2 border-teal-200 rounded-2xl p-7 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"âš¡"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"gRPC"}),e.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-4",children:"High-performance RPC framework using Protocol Buffers."}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Binary (ProtoBuf)"}),e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ HTTP/2 Streaming"}),e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Low Latency"}),e.jsx("div",{className:"text-xs font-semibold text-red-700 bg-red-50 px-3 py-1 rounded",children:"âœ— Browser support (requires proxy)"}),e.jsx("div",{className:"text-xs font-semibold text-red-700 bg-red-50 px-3 py-1 rounded",children:"âœ— Steep learning curve"})]}),e.jsxs("div",{className:"text-xs text-slate-500 border-t pt-3",children:[e.jsx("strong",{children:"Best for:"})," Internal Microservices, Polyglot systems, Low latency"]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:" from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-6",children:"Deep Dive: REST API Design"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Versioning Strategies"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"font-mono bg-white px-2 py-1 rounded text-xs",children:"URI Path"}),e.jsxs("span",{children:[e.jsx("code",{className:"text-xs",children:"/v1/users"})," - Most common, easy to cache/route."]})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"font-mono bg-white px-2 py-1 rounded text-xs",children:"Query Param"}),e.jsxs("span",{children:[e.jsx("code",{className:"text-xs",children:"/users?v=1"})," - Easy, but can be messy."]})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"font-mono bg-white px-2 py-1 rounded text-xs",children:"Header"}),e.jsxs("span",{children:[e.jsx("code",{className:"text-xs",children:"Accept: application/vnd.myapi.v1+json"}),' - "Purest" REST, but harder to test in browser.']})]})]})]}),e.jsxs("div",{className:"border-t border-blue-200 pt-6",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Pagination Patterns"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsx("span",{className:"font-semibold block mb-1 text-sm",children:"Offset-based"}),e.jsx("code",{className:"text-xs text-slate-600",children:"GET /users?offset=100&limit=20"}),e.jsx("p",{className:"mt-2 text-xs text-slate-600",children:"Simple (SQL LIMIT/OFFSET). Slow on large datasets (DB scans offset). Unstable if items added/deleted."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsx("span",{className:"font-semibold block mb-1 text-sm",children:"Cursor-based (Keyset)"}),e.jsx("code",{className:"text-xs text-slate-600",children:"GET /users?cursor=user_123&limit=20"}),e.jsx("p",{className:"mt-2 text-xs text-slate-600",children:'Performant (uses index). Stable results. Harder to implement "Jump to page 10".'})]})]})]}),e.jsxs("div",{className:"border-t border-blue-200 pt-6",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Idempotency"}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Ensuring that making the same request multiple times produces the same result. Critical for payments and network retries."}),e.jsxs("div",{className:"bg-slate-900 text-slate-50 p-4 rounded-lg font-mono text-xs",children:["POST /payments",e.jsx("br",{}),'Idempotency-Key: "unique-uuid-from-client"',e.jsx("br",{}),"...",e.jsx("br",{}),"// Server checks if key exists. If yes, return saved response."]})]})]})]}),e.jsxs("div",{className:" from-teal-50 to-cyan-50 border-2 border-teal-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-teal-900 mb-6",children:"Deep Dive: gRPC & Protocol Buffers"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-teal-900 mb-3",children:"Protocol Buffers (ProtoBuf)"}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"A language-neutral, platform-neutral extensible mechanism for serializing structured data. It compiles to a binary format that is significantly smaller and faster to parse than JSON."}),e.jsxs("div",{className:"bg-slate-900 text-slate-50 p-4 rounded-lg font-mono text-xs overflow-x-auto",children:[e.jsx("span",{className:"text-purple-400",children:"message"})," ",e.jsx("span",{className:"text-yellow-300",children:"Person"})," ","{",e.jsx("br",{}),"Â Â ",e.jsx("span",{className:"text-purple-400",children:"string"})," name = 1;",e.jsx("br",{}),"Â Â ",e.jsx("span",{className:"text-purple-400",children:"int32"})," id = 2;",e.jsx("br",{}),"Â Â ",e.jsx("span",{className:"text-purple-400",children:"string"})," email = 3;",e.jsx("br",{}),"}"]})]}),e.jsxs("div",{className:"border-t border-teal-200 pt-6",children:[e.jsx("h4",{className:"font-semibold text-teal-900 mb-3",children:"HTTP/2 Features"}),e.jsxs("ul",{className:"space-y-3 text-sm text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:"âœ“"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-900",children:"Multiplexing:"})," Multiple requests/responses sent in parallel over a single TCP connection. No Head-of-Line blocking."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:"âœ“"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-900",children:"Header Compression (HPACK):"})," Reduces overhead, especially for large headers (auth tokens)."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:"âœ“"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-900",children:"Streaming:"})," Native support for Unary, Server Streaming, Client Streaming, and Bidirectional Streaming."]})]})]})]})]})]})]})]}),e.jsxs("section",{className:"mb-16",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"text-sm font-bold text-purple-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-purple-600 text-white flex items-center justify-center text-sm",children:"02"}),"API GATEWAY & AUTHENTICATION"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4",children:'The "Front Door" for Microservices'}),e.jsx("p",{className:"text-lg text-slate-600 max-w-4xl mb-6",children:"Decouples clients from internal service architecture. Handles cross-cutting concerns centrally."})]}),e.jsxs("div",{className:"space-y-6 mb-12",children:[e.jsxs("div",{className:" from-purple-50 to-pink-50 border-2 border-purple-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"API Gateway Pattern"}),e.jsx("p",{className:"text-slate-700 mb-6",children:"Instead of clients calling services directly (Mesh), they call a Gateway. The Gateway handles cross-cutting concerns, decoupling the client from the internal microservices architecture."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-purple-200",children:[e.jsx("h4",{className:"font-semibold mb-3 text-sm text-purple-900",children:"Core Responsibilities"}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-2 list-disc list-inside",children:[e.jsx("li",{children:"Request Routing (L7)"}),e.jsx("li",{children:"Authentication & Authorization"}),e.jsx("li",{children:"Rate Limiting & Throttling"}),e.jsx("li",{children:"SSL Termination"}),e.jsx("li",{children:"Request/Response Transformation"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-purple-200",children:[e.jsx("h4",{className:"font-semibold mb-3 text-sm text-purple-900",children:"Backend for Frontend (BFF)"}),e.jsx("p",{className:"text-xs text-slate-600 mb-3",children:"A variation where you create separate gateways for different client types (Mobile vs Web vs Public API)."}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-2 list-disc list-inside",children:[e.jsx("li",{children:"Optimized payloads for mobile"}),e.jsx("li",{children:"Session auth for Web, JWT for Mobile"})]})]})]})]}),e.jsxs("div",{className:" from-amber-50 to-orange-50 border-2 border-amber-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-amber-900 mb-6",children:"Rate Limiting Algorithms"}),e.jsx("p",{className:"text-slate-700 mb-6 text-sm",children:"Protecting your services from abuse and spikes"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-amber-200",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Token Bucket"}),e.jsxs("p",{className:"text-sm text-slate-600 mb-3",children:["Tokens are added at a fixed rate. Requests consume tokens. Allows for ",e.jsx("strong",{children:"bursts"})," up to bucket size."]}),e.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 w-3/4"})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-amber-200",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Leaky Bucket"}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Requests enter a queue and are processed at a constant rate. Smooths out bursts completely."}),e.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-500 w-1/2"})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-amber-200",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Fixed Window"}),e.jsx("p",{className:"text-sm text-slate-600",children:'"100 reqs per minute". Simple, but suffers from "edge case" spikes (e.g., 100 reqs at 12:00:59 and 100 at 12:01:01).'})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-amber-200",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Sliding Window"}),e.jsx("p",{className:"text-sm text-slate-600",children:"More accurate. Tracks timestamps or weighted counts to prevent window edge spikes. Higher memory cost."})]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-8 shadow-lg",children:[e.jsxs("h3",{className:"text-2xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-3xl",children:"âš¡"})," Interactive API Gateway Simulator"]}),e.jsx("p",{className:"text-slate-700 mb-6",children:"Try to overwhelm the gateway or access protected routes without a key. Experiment with rate limiting and authentication."}),e.jsx(Bs,{})]})]})]}),e.jsxs("section",{className:"mb-16",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"text-sm font-bold text-orange-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-orange-600 text-white flex items-center justify-center text-sm",children:"03"}),"ASYNCHRONOUS MESSAGING"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4",children:"Event-Driven Architecture"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-4xl mb-6",children:"Synchronous (HTTP) chains availability. Async decouples uptime and levels load."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white border-2 border-orange-200 rounded-2xl p-7 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ“¬"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Message Queues (Point-to-Point)"}),e.jsxs("p",{className:"text-slate-700 text-sm mb-4",children:["A producer sends a message to a queue. ",e.jsx("strong",{children:"One"})," consumer processes it. Used for decoupling and load leveling."]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Load Leveling: Workers process at their own pace"}),e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Reliability: Messages persist if workers are down"}),e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Ordering: FIFO queues guarantee order (with lower throughput)"})]}),e.jsxs("div",{className:"text-xs text-slate-500 border-t pt-3 mt-4",children:[e.jsx("strong",{children:"Examples:"})," SQS, RabbitMQ, ActiveMQ"]})]}),e.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-2xl p-7 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ“¢"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Pub/Sub (Fan-out)"}),e.jsxs("p",{className:"text-slate-700 text-sm mb-4",children:["A publisher sends a message to a topic. ",e.jsx("strong",{children:"All"})," subscribers receive a copy. Used for event-driven architectures."]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Decoupling: Publisher doesn't know subscribers"}),e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Scalability: Add new features without changing producer"}),e.jsx("div",{className:"text-xs font-semibold text-green-700 bg-green-50 px-3 py-1 rounded",children:"âœ“ Streaming: Kafka allows replaying history"})]}),e.jsxs("div",{className:"text-xs text-slate-500 border-t pt-3 mt-4",children:[e.jsx("strong",{children:"Examples:"})," SNS, Kafka, Google Pub/Sub"]})]})]}),e.jsxs("div",{className:" from-red-50 to-rose-50 border-2 border-red-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-red-900 mb-6",children:"Resilience Patterns"}),e.jsx("p",{className:"text-slate-700 mb-6 text-sm",children:"Handling failures in asynchronous systems"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-red-200",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Dead Letter Queues (DLQ)"}),e.jsx("p",{className:"text-sm text-slate-600",children:'If a message fails processing multiple times, move it to a DLQ instead of blocking the queue forever. Allows for manual inspection and debugging of "poison pills".'})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-red-200",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Exponential Backoff & Jitter"}),e.jsx("p",{className:"text-sm text-slate-600",children:`Don't retry immediately. Wait 1s, then 2s, then 4s. Add "Jitter" (randomness) to prevent "Thundering Herd" problem where all retries hit at once.`})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-red-200",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Backpressure"}),e.jsx("p",{className:"text-sm text-slate-600",children:"If consumers are overwhelmed, they must signal producers to slow down (or drop messages). Prevents system collapse under load."})]})]})]})]}),e.jsxs("section",{className:"mb-16",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"text-sm font-bold text-cyan-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-cyan-600 text-white flex items-center justify-center text-sm",children:"04"}),"REAL-TIME COMMUNICATION"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4",children:"Beyond Request/Response"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-4xl mb-6",children:"Users expect instant updates without refreshing. When standard HTTP Request/Response isn't enough."})]}),e.jsx("div",{className:"bg-white border-2 border-slate-200 rounded-2xl shadow-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:" from-cyan-50 to-blue-50 text-slate-900 font-semibold",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Technology"}),e.jsx("th",{className:"p-4",children:"Direction"}),e.jsx("th",{className:"p-4",children:"Connection"}),e.jsx("th",{className:"p-4",children:"Best Use Case"}),e.jsx("th",{className:"p-4",children:"Challenges"})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{className:"p-4 font-medium",children:"WebSockets"}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium",children:"Bidirectional"})}),e.jsx("td",{className:"p-4",children:"Persistent (TCP)"}),e.jsx("td",{className:"p-4",children:"Chat, Multiplayer Games, Collab Tools"}),e.jsx("td",{className:"p-4",children:"Stateful (Hard to scale LBs), Firewall issues"})]}),e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{className:"p-4 font-medium",children:"Server-Sent Events (SSE)"}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:"Server â†’ Client"})}),e.jsx("td",{className:"p-4",children:"Persistent (HTTP)"}),e.jsx("td",{className:"p-4",children:"News Feeds, Stock Tickers, Notifications"}),e.jsx("td",{className:"p-4",children:"Text only, Connection limit (browser)"})]}),e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{className:"p-4 font-medium",children:"Long Polling"}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium",children:"Client â†’ Server"})}),e.jsx("td",{className:"p-4",children:"Request (Held open)"}),e.jsx("td",{className:"p-4",children:"Legacy support, Low frequency updates"}),e.jsx("td",{className:"p-4",children:"High server overhead, Latency"})]}),e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{className:"p-4 font-medium",children:"Webhooks"}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 rounded text-xs font-medium",children:"Server â†’ Server"})}),e.jsx("td",{className:"p-4",children:"Discrete HTTP POST"}),e.jsx("td",{className:"p-4",children:"Event notifications (Stripe, GitHub)"}),e.jsx("td",{className:"p-4",children:"Requires public endpoint, Security verification"})]})]})]})})})]}),e.jsxs("section",{className:"mb-16",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"text-sm font-bold text-purple-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-purple-600 text-white flex items-center justify-center text-sm",children:"05"}),"INTERACTIVE DEEP DIVES"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4",children:"Hands-On Learning"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-4xl mb-6",children:"Explore interactive visualizations and code examples for API design patterns and distributed system communication."})]}),e.jsxs("div",{className:"space-y-12",children:[e.jsx("div",{className:"border-t-4 border-blue-500 pt-8",children:e.jsx(rr,{})}),e.jsx("div",{className:"border-t-4 border-green-500 pt-8",children:e.jsx(lr,{})}),e.jsx("div",{className:"border-t-4 border-amber-500 pt-8",children:e.jsx(nr,{})}),e.jsx("div",{className:"border-t-4 border-cyan-500 pt-8",children:e.jsx(dr,{})}),e.jsx("div",{className:"border-t-4 border-red-500 pt-8",children:e.jsx(ir,{})}),e.jsx("div",{className:"border-t-4 border-indigo-500 pt-8",children:e.jsx(cr,{})}),e.jsx("div",{className:"border-t-4 border-pink-500 pt-8",children:e.jsx(or,{})}),e.jsx("div",{className:"border-t-4 border-teal-500 pt-8",children:e.jsx(mr,{})}),e.jsx("div",{className:"border-t-4 border-orange-500 pt-8",children:e.jsx(Bs,{})})]})]}),e.jsx("section",{className:"py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{onClick:()=>s("/compute-runtime"),className:"btn-secondary",children:"â† Previous: Compute Runtime"}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("button",{onClick:()=>s("/"),className:"btn-tertiary",children:"Home"})})]})})]})]})}function hr(){const s=le(),l=x.useRef([]);x.useEffect(()=>{const a=new IntersectionObserver(c=>{c.forEach(r=>{r.isIntersecting&&(r.target.classList.add("opacity-100","translate-y-0"),r.target.classList.remove("opacity-0","translate-y-8"))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return l.current.forEach(c=>{c&&a.observe(c)}),()=>a.disconnect()},[]);const t=[{id:1,number:"01",title:"Core Principles & Sizing",color:"blue",icon:e.jsx(vs,{className:"w-8 h-8"}),description:"Interview flow, performance vs scalability, back-of-envelope estimates, and scaling strategies",keyPoints:["Interview flow & requirements mapping","Performance vs scalability","Back-of-envelope estimates","Vertical vs horizontal scaling"],demos:["Capacity/QPS planner","Availability calculator","CAP theorem visualizer","Scaling comparison tool"]},{id:2,number:"02",title:"Networking & Edge Delivery",color:"indigo",icon:e.jsx(ie,{className:"w-8 h-8"}),description:"DNS, protocols, load balancing, CDN, and edge computing",keyPoints:["IP/DNS basics & geo-routing","HTTP/2/3 & TCP vs UDP","Load balancers (L4/L7)","CDN strategies"],demos:["DNS resolution flow","CDN cache simulator","OSI model diagram","Load balancer algorithms"]},{id:3,number:"03",title:"Data Architecture & Storage",color:"purple",icon:e.jsx(K,{className:"w-8 h-8"}),description:"Database selection, storage models, replication, sharding, and caching",keyPoints:["SQL vs NoSQL selection","Storage models (KV, document, graph)","Replication & sharding","Caching patterns"],demos:["Database selector","Caching strategy simulator","Sharding calculator","Consistent hashing visualizer"]},{id:4,number:"04",title:"Compute & Runtime Models",color:"amber",icon:e.jsx(se,{className:"w-8 h-8"}),description:"Containers, serverless, Kubernetes, and deployment strategies",keyPoints:["Runtime choices (VM/container/function)","Monolith vs microservices","Kubernetes orchestration","Deployment strategies"],demos:["Deployment simulator","K8s rollout visualizer","Runtime decision tree","Autoscaling simulator"]},{id:5,number:"05",title:"APIs, Integration & Data Movement",color:"teal",icon:e.jsx(z,{className:"w-8 h-8"}),description:"REST/gRPC/GraphQL, API gateways, messaging, and real-time communication",keyPoints:["REST vs gRPC vs GraphQL","API Gateway patterns","Async messaging (queues/pub-sub)","Real-time (WebSockets/SSE)"],demos:["API Gateway simulator","Protocol comparator","Rate limiter sandbox","Message queue simulator"]},{id:6,number:"06",title:"Reliability & Resilience",color:"red",icon:e.jsx(he,{className:"w-8 h-8"}),description:"SLOs, error budgets, graceful degradation, circuit breakers, and disaster recovery",keyPoints:["SLO-driven design","Graceful degradation","Circuit breakers & bulkheads","DR/backup strategies","Distributed consensus (Raft)"],demos:["SLO/Error Budget calculator","Circuit breaker simulator","DR scenario planner","Raft leader election"]},{id:7,number:"07",title:"Security, Governance & Compliance",color:"green",icon:e.jsx(ls,{className:"w-8 h-8"}),description:"AuthN/AuthZ, network security, secrets management, and zero-trust",keyPoints:["OAuth2/OIDC/JWT","mTLS & key management","VPC segmentation & WAF","Secrets management","Zero-trust architecture"],demos:["OAuth2 flow visualizer","JWT token decoder","IAM policy builder","Network segmentation designer"]},{id:8,number:"08",title:"Observability & Operations",color:"cyan",icon:e.jsx(Le,{className:"w-8 h-8"}),description:"Metrics, logs, traces, dashboards, alerts, and incident response",keyPoints:["Metrics/logs/traces","OpenTelemetry","Dashboard & alert design","Incident response playbooks","Cost optimization"],demos:["Observability stack builder","Alert tuning simulator","SLO dashboard","Cost optimization calculator"]},{id:9,number:"09",title:"Cloud Service Comparisons",color:"orange",icon:e.jsx(Me,{className:"w-8 h-8"}),description:"Managed service comparisons across GCP, AWS, and Azure",keyPoints:["Database services (SQL, NoSQL, Data Warehouses)","Messaging/streaming platforms","Compute options (serverless, containers, K8s)","Storage & caching services","Networking & CDN"],demos:["Service comparison matrix","Cost calculator","Feature comparison tool"]},{id:10,number:"10",title:"Real-World Case Studies",color:"emerald",icon:e.jsx(pe,{className:"w-8 h-8"}),description:"Learning from Netflix, Uber, Discord, WhatsApp, and Twitter",keyPoints:["Netflix: Chaos Engineering","Uber: Geospatial Scaling (H3)","Discord: Trillions of Messages","WhatsApp: Extreme Efficiency","Twitter: Fan-out Hybrid Model"],demos:["Timeline fan-out simulator","Geospatial visualizer","Chaos sandbox","Message sharding lab"]}],o=a=>{const c={blue:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",badge:"bg-blue-600",hover:"hover:border-blue-400"},indigo:{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-700",badge:"bg-indigo-600",hover:"hover:border-indigo-400"},purple:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-700",badge:"bg-purple-600",hover:"hover:border-purple-400"},amber:{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-700",badge:"bg-amber-600",hover:"hover:border-amber-400"},teal:{bg:"bg-teal-50",border:"border-teal-200",text:"text-teal-700",badge:"bg-teal-600",hover:"hover:border-teal-400"},red:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",badge:"bg-red-600",hover:"hover:border-red-400"},green:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",badge:"bg-green-600",hover:"hover:border-green-400"},cyan:{bg:"bg-cyan-50",border:"border-cyan-200",text:"text-cyan-700",badge:"bg-cyan-600",hover:"hover:border-cyan-400"},orange:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-700",badge:"bg-orange-600",hover:"hover:border-orange-400"},pink:{bg:"bg-pink-50",border:"border-pink-200",text:"text-pink-700",badge:"bg-pink-600",hover:"hover:border-pink-400"}};return c[a]||c.blue};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"relative gradient-overlay py-20 md:py-32 overflow-hidden",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-blue-50 border border-blue-100 mb-6",children:[e.jsxs("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),e.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Complete Topics Guide"})]}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6",children:["System Design &"," ",e.jsx("span",{className:"text-gradient",children:"Cloud Engineering"})," ","Essentials"]}),e.jsx("p",{className:"text-lg md:text-xl text-slate-600 mb-8 mx-auto leading-relaxed",children:"A comprehensive guide to system design and cloud fundamentals. Learn to pick the right data/compute patterns and compare managed cloud options through interactive tutorials and real-world examples."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 my-5",children:[e.jsx("button",{onClick:()=>s("/"),className:"btn-secondary",children:"Back to Home"}),e.jsx("button",{onClick:()=>s("/foundations"),className:"btn-primary",children:"Start Learning"})]})]})})}),e.jsx("section",{className:"py-16  from-slate-50 to-blue-50",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"All Topics Covered"}),e.jsx("p",{className:"text-lg text-slate-600 mx-auto",children:"Explore 10 comprehensive modules covering everything from core principles to advanced cloud engineering practices"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((a,c)=>{const r=o(a.color),i={1:"/foundations",2:"/networking",3:"/data-architecture",4:"/compute-runtime",5:"/apis-integration",6:"/reliability-resilience",7:"/security-governance",8:"/observability-operations",9:"/cloud-comparisons",10:"/case-studies"}[a.id];return e.jsxs("div",{ref:n=>l.current[c]=n,onClick:i?()=>s(i):void 0,className:`transition-all duration-700 bg-white border-2 ${r.border} rounded-2xl p-6 md:p-8 hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 ${r.hover} flex flex-col ${i?"cursor-pointer":""}`,children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:`w-14 h-14 rounded-xl ${r.badge} flex items-center justify-center font-bold text-lg flex-shrink-0`,children:e.jsx("span",{className:`${r.text}`,children:a.icon})}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"flex items-center gap-3 mb-2",children:e.jsxs("h3",{className:"text-xl font-bold text-slate-900",children:[a.number,". ",a.title]})})})]}),e.jsx("p",{className:"text-sm text-slate-600 my-2",children:a.description}),e.jsxs("div",{className:"mb-6 flex-1 my-5",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Key Topics:"}),e.jsx("ul",{className:"space-y-1 my-2",children:a.keyPoints.map((n,m)=>e.jsxs("li",{className:"text-xs text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:`${r.text} mt-1`,children:"â€¢"}),e.jsx("span",{children:n})]},m))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Interactive Demos:"}),e.jsx("div",{className:"flex flex-wrap gap-2 my-2",children:a.demos.map((n,m)=>e.jsx("span",{className:`text-xs px-2 py-1 rounded-md ${r.bg} ${r.text} border ${r.border}`,children:n},m))})]})]}),e.jsx("div",{className:"mt-auto pt-4 border-t border-slate-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-slate-500",children:["Topic ",a.number]}),e.jsxs("div",{className:`text-xs font-semibold ${r.text} flex items-center gap-1`,children:[e.jsx("span",{children:"Explore"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]},a.id)})})]})}),e.jsx("section",{className:"py-6 bg-white",children:e.jsx("div",{className:"container mx-auto px-4 max-w-7xl",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{onClick:()=>s("/"),className:"btn-secondary",children:"â† Back to Home"}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("button",{onClick:()=>s("/foundations"),className:"btn-primary",children:"Start Learning â†’"})})]})})})]})}const xs=(s,l,t)=>{const o=Number(s);return Number.isNaN(o)?l:Math.min(t,Math.max(l,o))},pr=({attempts:s,baseDelayMs:l,maxDelayMs:t,multiplier:o})=>{const a=Math.max(1,Math.floor(s)),c=xs(l,1,6e4),r=xs(t,c,12e4),d=xs(o,1,10);return Array.from({length:a},(i,n)=>{const m=c*Math.pow(d,n);return Math.min(r,Math.round(m))})},ur=({delayMs:s,strategy:l})=>{const t=Math.max(0,Math.round(s));switch(l){case"none":return t;case"full":return Math.floor(Math.random()*(t+1));case"equal":{const o=Math.floor(t/2);return o+Math.floor(Math.random()*(o+1))}case"decorrelated":{const o=t,a=t*3;return o+Math.floor(Math.random()*(a-o+1))}default:return t}},Je=s=>`${Math.round(s)}ms`,js=({items:s,maxValue:l,colorClassName:t})=>e.jsx("div",{className:"space-y-2",children:s.map(o=>{const a=l>0?Math.max(2,o.value/l*100):0;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-16 text-xs text-slate-600",children:["#",o.attempt]}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"h-2 rounded bg-slate-100 overflow-hidden",children:e.jsx("div",{className:`h-2 rounded ${t}`,style:{width:`${a}%`}})})}),e.jsx("div",{className:"w-20 text-right text-xs font-semibold text-slate-800",children:Je(o.value)})]},o.id)})});js.propTypes={items:v.arrayOf(v.shape({id:v.string.isRequired,attempt:v.number.isRequired,value:v.number.isRequired})).isRequired,maxValue:v.number.isRequired,colorClassName:v.string.isRequired};const Ke=({id:s,label:l,valueLabel:t,min:o,max:a,step:c,value:r,onChange:d})=>e.jsxs("div",{children:[e.jsxs("label",{htmlFor:s,className:"text-sm font-semibold text-slate-700 mb-2 block",children:[l,": ",t]}),e.jsx("input",{id:s,type:"range",min:o,max:a,step:c,value:r,onChange:d,className:"w-full accent-emerald-600"})]});Ke.propTypes={id:v.string.isRequired,label:v.string.isRequired,valueLabel:v.string.isRequired,min:v.number.isRequired,max:v.number.isRequired,step:v.number.isRequired,value:v.number.isRequired,onChange:v.func.isRequired};const st=({strategy:s,onStrategyChange:l})=>e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Jitter strategy"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"none",label:"None"},{id:"full",label:"Full"},{id:"equal",label:"Equal"},{id:"decorrelated",label:"Decorrelated"}].map(t=>e.jsx("button",{type:"button",onClick:()=>l(t.id),className:`text-xs font-semibold rounded-lg px-3 py-2 border transition-colors ${s===t.id?"bg-emerald-50 border-emerald-300 text-emerald-800":"bg-white border-slate-200 text-slate-700 hover:border-slate-300"}`,children:t.label},t.id))})]});st.propTypes={strategy:v.string.isRequired,onStrategyChange:v.func.isRequired};const br=()=>e.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 text-sm text-slate-700",children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-1",children:"Rule of thumb"}),e.jsx("div",{children:"Add jitter so many clients donâ€™t retry at the same time after an outage."})]}),tt=({attempts:s,baseDelayMs:l,maxDelayMs:t,multiplier:o,strategy:a,onAttemptsChange:c,onBaseDelayChange:r,onMaxDelayChange:d,onMultiplierChange:i,onStrategyChange:n,onReroll:m})=>{const p="retry-attempts",g="retry-base",h="retry-max",u="retry-mult",C=w=>c(Number(w.target.value)),S=w=>r(Number(w.target.value)),V=w=>d(Number(w.target.value)),D=w=>i(Number(w.target.value)),ee=w=>n(w);return e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ke,{id:p,label:"Attempts",valueLabel:`${s}`,min:1,max:10,step:1,value:s,onChange:C}),e.jsx(Ke,{id:g,label:"Base delay",valueLabel:Je(l),min:25,max:1e3,step:25,value:l,onChange:S}),e.jsx(Ke,{id:h,label:"Max delay",valueLabel:Je(t),min:500,max:15e3,step:250,value:t,onChange:V}),e.jsx(Ke,{id:u,label:"Multiplier",valueLabel:`${o}x`,min:1,max:3,step:.25,value:o,onChange:D}),e.jsx(st,{strategy:a,onStrategyChange:ee}),e.jsx("button",{type:"button",onClick:m,className:"w-full bg-emerald-600 text-white rounded-lg px-4 py-2 font-semibold hover:bg-emerald-700 transition-colors",children:"Reroll jitter sample"}),e.jsx(br,{})]})};tt.propTypes={attempts:v.number.isRequired,baseDelayMs:v.number.isRequired,maxDelayMs:v.number.isRequired,multiplier:v.number.isRequired,strategy:v.string.isRequired,onAttemptsChange:v.func.isRequired,onBaseDelayChange:v.func.isRequired,onMaxDelayChange:v.func.isRequired,onMultiplierChange:v.func.isRequired,onStrategyChange:v.func.isRequired,onReroll:v.func.isRequired};const qs=s=>s.map((l,t)=>({id:`attempt-${t+1}`,attempt:t+1,value:l})),gr=({attempts:s,baseDelayMs:l,maxDelayMs:t,multiplier:o,strategy:a,seed:c})=>{const r=x.useMemo(()=>pr({attempts:s,baseDelayMs:l,maxDelayMs:t,multiplier:o}),[s,l,t,o]),d=x.useMemo(()=>r.map(p=>ur({delayMs:p,strategy:a})),[r,a,c]),i=x.useMemo(()=>Math.max(...r,...d,1),[r,d]),n=x.useMemo(()=>qs(r),[r]),m=x.useMemo(()=>qs(d),[d]);return{baseSeries:r,jitteredSeries:d,maxValue:i,baseItems:n,jitterItems:m}},jr=()=>{const[s,l]=x.useState(6),[t,o]=x.useState(150),[a,c]=x.useState(5e3),[r,d]=x.useState(2),[i,n]=x.useState("full"),[m,p]=x.useState(0),{baseSeries:g,jitteredSeries:h,maxValue:u,baseItems:C,jitterItems:S}=gr({attempts:s,baseDelayMs:t,maxDelayMs:a,multiplier:r,strategy:i,seed:m}),V=T=>l(T),D=T=>o(T),ee=T=>c(T),w=T=>d(T),H=T=>n(T),ae=()=>p(T=>T+1);return e.jsxs("div",{className:"bg-white border-2 border-emerald-200 rounded-2xl p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-emerald-500 to-teal-600 flex items-center justify-center text-white text-2xl",children:"ðŸ”"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Retry + Jitter Demo"}),e.jsx("div",{className:"text-xs text-slate-500",children:"See why jitter prevents thundering herds"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx(tt,{attempts:s,baseDelayMs:t,maxDelayMs:a,multiplier:r,strategy:i,onAttemptsChange:V,onBaseDelayChange:D,onMaxDelayChange:ee,onMultiplierChange:w,onStrategyChange:H,onReroll:ae}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-slate-900 mb-2",children:"Base backoff"}),e.jsx(js,{items:C,maxValue:u,colorClassName:"bg-emerald-600"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-slate-900 mb-2",children:"With jitter"}),e.jsx(js,{items:S,maxValue:u,colorClassName:"bg-teal-600"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Total (base)"}),e.jsx("div",{className:"text-sm font-bold text-slate-900",children:Je(g.reduce((T,E)=>T+E,0))})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Total (jittered)"}),e.jsx("div",{className:"text-sm font-bold text-slate-900",children:Je(h.reduce((T,E)=>T+E,0))})]})]})]})]})]})};function fr(){const[s,l]=x.useState(99.9),[t,o]=x.useState("month"),a=x.useMemo(()=>{const c=s/100,r=1-c,i={year:{total:365*24*60,label:"year"},month:{total:30*24*60,label:"month"},week:{total:7*24*60,label:"week"},day:{total:24*60,label:"day"}}[t],n=r*i.total,m=r*100;return{uptime:(c*100).toFixed(4),downtime:(r*100).toFixed(4),downtimeMinutes:n.toFixed(2),errorBudget:m.toFixed(4),windowLabel:i.label}},[s,t]);return e.jsxs("div",{className:"bg-white border-2 border-red-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-red-500 to-pink-600 flex items-center justify-center text-white text-2xl",children:"ðŸ“Š"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"SLO/Error Budget Calculator"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Calculate downtime and error budgets"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:["SLO (Service Level Objective): ",s,"%"]}),e.jsx("input",{type:"range",min:90,max:99.999,step:.01,value:s,onChange:c=>l(Number(c.target.value)),className:"w-full accent-red-600"}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[e.jsx("span",{children:"90%"}),e.jsx("span",{children:"99.999%"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:"Time Window"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["day","week","month","year"].map(c=>e.jsx("button",{type:"button",onClick:()=>o(c),className:`text-xs font-semibold rounded-lg px-3 py-2 border transition-colors ${t===c?"bg-red-50 border-red-300 text-red-700":"bg-white border-slate-200 text-slate-700 hover:border-slate-300"}`,children:c},c))})]}),e.jsxs("div",{className:" from-red-50 to-pink-50 rounded-xl p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-700",children:"Uptime:"}),e.jsxs("span",{className:"font-bold text-green-700",children:[a.uptime,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-700",children:"Downtime:"}),e.jsxs("span",{className:"font-bold text-red-700",children:[a.downtime,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-slate-700",children:["Downtime per ",a.windowLabel,":"]}),e.jsxs("span",{className:"font-bold text-slate-900",children:[a.downtimeMinutes," minutes"]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-red-200",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Error Budget:"}),e.jsxs("span",{className:"font-bold text-indigo-700",children:[a.errorBudget,"%"]})]})]})]})]})}function Nr(){const[s,l]=x.useState("token-bucket"),[t,o]=x.useState(10),[a,c]=x.useState(20),[r,d]=x.useState([]),i=()=>{const m=Date.now(),p=r.filter(h=>m-h<1e3);let g=!1;if(s==="token-bucket")g=p.length<a;else if(s==="sliding-window")g=p.length<t;else{const h=Math.floor(m/1e3)*1e3;g=r.filter(C=>C>=h).length<t}g&&d([...r,m].slice(-100))},n=x.useMemo(()=>{const m=Date.now(),p=r.filter(g=>m-g<1e3).length;return{total:r.length,lastSecond:p,allowed:p<=(s==="token-bucket"?a:t)}},[r,s,t,a]);return e.jsxs("div",{className:"bg-white border-2 border-indigo-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-indigo-500 to-purple-600 flex items-center justify-center text-white text-2xl",children:"ðŸš¦"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Rate Limiter Simulator"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Compare token bucket vs sliding window"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:"Algorithm"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"token-bucket",label:"Token Bucket"},{id:"sliding-window",label:"Sliding Window"},{id:"fixed-window",label:"Fixed Window"}].map(m=>e.jsx("button",{type:"button",onClick:()=>l(m.id),className:`text-xs font-semibold rounded-lg px-3 py-2 border transition-colors ${s===m.id?"bg-indigo-50 border-indigo-300 text-indigo-700":"bg-white border-slate-200 text-slate-700 hover:border-slate-300"}`,children:m.label},m.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:["Rate: ",t," req/sec"]}),e.jsx("input",{type:"range",min:1,max:50,value:t,onChange:m=>o(Number(m.target.value)),className:"w-full accent-indigo-600"})]}),s==="token-bucket"&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:["Burst: ",a," requests"]}),e.jsx("input",{type:"range",min:1,max:50,value:a,onChange:m=>c(Number(m.target.value)),className:"w-full accent-indigo-600"})]})]}),e.jsxs("div",{className:"bg-indigo-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-slate-700",children:"Requests (last second):"}),e.jsxs("span",{className:`font-bold ${n.allowed?"text-green-700":"text-red-700"}`,children:[n.lastSecond," / ",s==="token-bucket"?a:t]})]}),e.jsx("button",{type:"button",onClick:i,className:"w-full bg-indigo-600 text-white rounded-lg px-4 py-2 font-semibold hover:bg-indigo-700 transition-colors",children:"Send Request"})]})]})]})}function vr(){const[s,l]=x.useState("closed"),[t,o]=x.useState(0),[a,c]=x.useState(0),[r,d]=x.useState(5),i=m=>{if(s!=="open")if(m){const p=t+1;o(p),p>=r&&(l("open"),setTimeout(()=>l("half-open"),5e3))}else{const p=a+1;c(p),s==="half-open"&&p>=2&&(l("closed"),o(0),c(0))}},n={closed:"bg-green-600",open:"bg-red-600","half-open":"bg-yellow-600"};return e.jsxs("div",{className:"bg-white border-2 border-amber-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-amber-500 to-orange-600 flex items-center justify-center text-white text-2xl",children:"âš¡"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Circuit Breaker Simulator"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Visualize open/half-open/closed states"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:["Failure Threshold: ",r]}),e.jsx("input",{type:"range",min:1,max:10,value:r,onChange:m=>d(Number(m.target.value)),className:"w-full accent-amber-600"})]}),e.jsxs("div",{className:`${n[s]} rounded-xl p-4 text-center`,children:[e.jsx("div",{className:"text-sm font-semibold mb-1",children:"Current State"}),e.jsx("div",{className:"text-2xl font-bold uppercase",children:s}),e.jsxs("div",{className:"text-xs mt-2 opacity-90",children:[s==="closed"&&"Normal operation, requests allowed",s==="open"&&"Circuit open, requests rejected (auto-recover in 5s)",s==="half-open"&&"Testing recovery, allowing limited requests"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-red-50 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-sm text-slate-700",children:"Failures"}),e.jsx("div",{className:"text-2xl font-bold text-red-700",children:t})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-sm text-slate-700",children:"Successes"}),e.jsx("div",{className:"text-2xl font-bold text-green-700",children:a})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>i(!0),className:"bg-red-600 text-white rounded-lg px-4 py-2 font-semibold hover:bg-red-700 transition-colors",children:"Simulate Failure"}),e.jsx("button",{type:"button",onClick:()=>i(!1),className:"bg-green-600 text-white rounded-lg px-4 py-2 font-semibold hover:bg-green-700 transition-colors",children:"Simulate Success"})]}),e.jsx("button",{type:"button",onClick:()=>{l("closed"),o(0),c(0)},className:"w-full bg-slate-600 text-white rounded-lg px-4 py-2 font-semibold hover:bg-slate-700 transition-colors",children:"Reset"})]})]})}function yr(){const[s,l]=x.useState(4),[t,o]=x.useState(1),[a,c]=x.useState("hourly"),r=x.useMemo(()=>{const d=s<1,i=t<.5,n=t<1?"continuous":t<4?"hourly":"daily";return{needsActiveActive:d,needsContinuousBackup:i,recommendedFrequency:n,strategy:d?"Active-Active":"Active-Passive"}},[s,t]);return e.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-blue-500 to-cyan-600 flex items-center justify-center text-white text-2xl",children:"ðŸ›¡ï¸"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"DR Scenario Planner"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Calculate RTO/RPO and backup strategies"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:["RTO (Recovery Time Objective): ",s," hours"]}),e.jsx("input",{type:"range",min:.5,max:24,step:.5,value:s,onChange:d=>l(Number(d.target.value)),className:"w-full accent-blue-600"}),e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Maximum acceptable downtime"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:["RPO (Recovery Point Objective): ",t," hours"]}),e.jsx("input",{type:"range",min:.1,max:24,step:.1,value:t,onChange:d=>o(Number(d.target.value)),className:"w-full accent-blue-600"}),e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Maximum acceptable data loss"})]}),e.jsxs("div",{className:" from-blue-50 to-cyan-50 rounded-xl p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Recommended Strategy:"}),e.jsx("div",{className:"text-lg font-bold text-blue-700",children:r.strategy})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Backup Frequency:"}),e.jsx("div",{className:"text-lg font-bold text-indigo-700",children:r.recommendedFrequency})]}),r.needsActiveActive&&e.jsx("div",{className:"bg-yellow-100 border border-yellow-300 rounded-lg p-2 text-xs text-yellow-800",children:"âš ï¸ Low RTO requires Active-Active setup (higher cost)"}),r.needsContinuousBackup&&e.jsx("div",{className:"bg-yellow-100 border border-yellow-300 rounded-lg p-2 text-xs text-yellow-800",children:"âš ï¸ Low RPO requires continuous replication"})]})]})]})}function wr(){const s=le(),l=x.useRef([]);return x.useEffect(()=>{const t=new IntersectionObserver(o=>{o.forEach(a=>{a.isIntersecting&&(a.target.classList.add("opacity-100","translate-y-0"),a.target.classList.remove("opacity-0","translate-y-8"))})},{threshold:.1,rootMargin:"0px 0px -100px 0px"});return l.current.forEach(o=>{o&&t.observe(o)}),()=>t.disconnect()},[]),e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"relative gradient-overlay py-20 md:py-32 overflow-hidden",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-red-50 border border-red-100 mb-6",children:e.jsx("span",{className:"text-sm font-medium text-red-700",children:"Module 6"})}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6",children:["Reliability & ",e.jsx("span",{className:"text-gradient",children:"Resilience"})]}),e.jsx("p",{className:"text-lg md:text-xl text-slate-600 mb-8 mx-auto",children:"Master SLO-driven design, error budgets, graceful degradation, circuit breakers, disaster recovery, and distributed consensus. Build systems that fail gracefully and recover quickly."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[e.jsx("button",{onClick:()=>s("/"),className:"btn-secondary",children:"Back to Home"}),e.jsx("button",{onClick:()=>s("/topics"),className:"btn-secondary",children:"View All Topics"})]})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-7xl",children:[e.jsxs("section",{ref:t=>l.current[0]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-red-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-red-600 text-white flex items-center justify-center text-sm",children:"01"}),"SLO-DRIVEN DESIGN"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"SLO-driven Design, Error Budgets & Testing"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Define clear reliability targets that align engineering effort with business outcomes. Use error budgets to make data-driven decisions about reliability vs features."})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:" from-red-50 to-pink-50 border-2 border-red-200 rounded-2xl p-8",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-4xl",children:"ðŸ’¡"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-red-900 mb-3",children:"Why This Matters"}),e.jsx("p",{className:"text-lg text-slate-700 leading-relaxed",children:"Without clear reliability targets, teams optimize for the wrong metrics. SLOs align engineering effort with business outcomes. Error budgets provide a quantitative way to decide when to prioritize reliability work vs new features."})]})]})}),e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Key Concepts"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"SLI (Service Level Indicator)"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Measured metric: latency p99, error rate, availability percentage. What you actually measure."})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"SLO (Service Level Objective)"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Target: p99 < 200ms, error rate < 0.1%, 99.9% uptime. What you commit to."})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"Error Budget"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Error budget = 100% - SLO. If SLO is 99.9%, error budget is 0.1%. Use this to decide when to stop feature work and focus on reliability."})]})]})]})]}),e.jsx("div",{children:e.jsx(fr,{})})]}),e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Chaos Engineering & Load Testing"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"Chaos Engineering"}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Intentionally inject failures to test resilience:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-slate-700",children:[e.jsx("li",{children:"â€¢ Kill pods/containers randomly"}),e.jsx("li",{children:"â€¢ Inject network latency/partitions"}),e.jsx("li",{children:"â€¢ Simulate database failures"}),e.jsx("li",{children:"â€¢ Test failover procedures"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"Load Testing"}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Simulate production traffic patterns:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-slate-700",children:[e.jsx("li",{children:"â€¢ Baseline: normal traffic"}),e.jsx("li",{children:"â€¢ Stress: beyond normal capacity"}),e.jsx("li",{children:"â€¢ Spike: sudden traffic increases"}),e.jsx("li",{children:"â€¢ Soak: sustained load over time"})]})]})]})]})]}),e.jsxs("section",{ref:t=>l.current[1]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-amber-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-amber-600 text-white flex items-center justify-center text-sm",children:"02"}),"GRACEFUL DEGRADATION"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Graceful Degradation & Tail-Latency Mitigation"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Not all failures are catastrophic. Systems should degrade functionality rather than fail completely."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white border-2 border-amber-200 rounded-2xl p-6 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸŽ¯"}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Graceful Degradation"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Disable non-critical features (recommendations, analytics) when under load. Keep core functionality working."})]}),e.jsxs("div",{className:"bg-white border-2 border-amber-200 rounded-2xl p-6 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ“‰"}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Brownouts"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Reduce quality (lower video resolution, simplified UI) instead of rejecting requests. Better user experience than errors."})]}),e.jsxs("div",{className:"bg-white border-2 border-amber-200 rounded-2xl p-6 shadow-lg",children:[e.jsx("div",{className:"text-3xl mb-3",children:"âš¡"}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Hedged Requests"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Send duplicate requests to multiple servers, use first response, cancel others. Reduces tail latency significantly."})]})]})]}),e.jsxs("section",{ref:t=>l.current[2]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-indigo-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-600 text-white flex items-center justify-center text-sm",children:"03"}),"RATE LIMITING & CIRCUIT BREAKERS"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Rate Limiting, Throttling & Circuit Breaking"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Protect systems from traffic spikes, abuse, and cascading failures."})]}),e.jsx("div",{className:"mb-8",children:e.jsx(jr,{})}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:[e.jsx("div",{children:e.jsx(Nr,{})}),e.jsx("div",{children:e.jsx(vr,{})})]}),e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Rate Limiting Algorithms"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"Token Bucket"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Tokens added at fixed rate, requests consume tokens. Allows bursts up to bucket size. Good for traffic smoothing."})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"Sliding Window"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Track requests in time windows. Most accurate but higher memory cost. Best for precise rate limiting."})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"Fixed Window"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Simple counters per time period. Suffers from edge-case spikes at window boundaries. Fastest to implement."})]})]})]}),e.jsxs("div",{className:" from-indigo-50 to-purple-50 border-2 border-indigo-200 rounded-2xl p-8 mt-8",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Bulkheads"}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Isolate resources (thread pools, connections) so one failing component doesn't starve others. Like watertight compartments on a ship. If one service fails, others continue operating with their allocated resources."})]})]}),e.jsxs("section",{ref:t=>l.current[3]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-blue-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-blue-600 text-white flex items-center justify-center text-sm",children:"04"}),"DISASTER RECOVERY"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"DR/Backup/Restore & RTO/RPO Planning"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Disasters happen. Recovery planning determines business continuity."})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:[e.jsx("div",{children:e.jsx(yr,{})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Active-Active vs Active-Passive"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900 mb-2",children:"Active-Passive"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Primary region serves traffic, secondary region is standby. Lower cost, higher RTO (recovery time). Good for most applications."})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900 mb-2",children:"Active-Active"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Both regions serve traffic simultaneously. Lower RTO, higher cost and complexity. Required for critical systems with <1 hour RTO."})]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Backup Strategies"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-1",children:"Full Backups"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Complete snapshot. Simple but storage-intensive. Good for periodic archives."})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-1",children:"Incremental"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Changes since last backup. Efficient storage, requires full + incrementals for restore."})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-1",children:"Continuous"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Streaming replication. Lowest RPO, highest cost. Best for critical systems."})]})]})]})]})]})]}),e.jsxs("section",{ref:t=>l.current[4]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-purple-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-purple-600 text-white flex items-center justify-center text-sm",children:"05"}),"DISTRIBUTED CONSENSUS"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Distributed Consensus & Leader Election"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Distributed systems need agreement on state, leader selection, and configuration changes."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Raft Algorithm"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-slate-700",children:"Leader-based consensus algorithm. Simpler to understand than Paxos."}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-purple-900 mb-2",children:"How it works:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-slate-700",children:[e.jsx("li",{children:"â€¢ Leader handles all writes"}),e.jsx("li",{children:"â€¢ Replicates logs to followers"}),e.jsx("li",{children:"â€¢ Leader election via majority vote"}),e.jsx("li",{children:"â€¢ Requires majority of nodes healthy"})]})]}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-3 text-sm text-slate-700",children:"Used in: etcd, Consul, CockroachDB"})]})]}),e.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Paxos Algorithm"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-slate-700",children:"Classic consensus algorithm, more complex but proven. Multi-round voting process."}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-purple-900 mb-2",children:"Characteristics:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-slate-700",children:[e.jsx("li",{children:"â€¢ Multi-round voting"}),e.jsx("li",{children:"â€¢ Handles network partitions"}),e.jsx("li",{children:"â€¢ More complex to implement"}),e.jsx("li",{children:"â€¢ Industry-proven algorithm"})]})]}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-3 text-sm text-slate-700",children:"Used in: Chubby, Google's distributed systems"})]})]})]}),e.jsxs("div",{className:" from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Leader Election Use Cases"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"Distributed Locks"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Coordinate access to shared resources across multiple nodes."})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"Master Selection"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Elect a single leader to coordinate work (e.g., job schedulers)."})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"Configuration Management"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Centralized config store with strong consistency guarantees."})]})]})]})]}),e.jsx("section",{className:"py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{onClick:()=>s("/topics"),className:"btn-secondary",children:"â† Back to Topics"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>s("/apis-integration"),className:"btn-secondary",children:"â† Previous: APIs"}),e.jsx("button",{onClick:()=>s("/security-governance"),className:"btn-primary",children:"Next: Security â†’"})]})]})})]})]})}const Sr=[{title:"RBAC",summary:"Roles grant permissions; simple to reason about.",pros:["Easy audits","Great for small/medium teams","Role explosion if too granular"]},{title:"ABAC",summary:"Decisions based on attributes (user, resource, context).",pros:["Fine-grained + context aware","Great for multi-tenant SaaS","Needs strong policy engine + observability"]},{title:"Hybrid",summary:"RBAC for core duties, ABAC for context (tenant, region, risk).",pros:["Balance simplicity and flexibility","Use policies for high-risk actions","Centralize in PDP (OPA, Cedar)"]}];function Cr(){return e.jsxs("div",{className:"bg-white border-2 border-teal-200 rounded-2xl p-6 h-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-teal-500 to-emerald-600 flex items-center justify-center text-white text-2xl",children:"ðŸ§­"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"RBAC vs ABAC"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Choose the right access model"})]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-3 text-xs text-slate-700",children:Sr.map(s=>e.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-3 space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:s.title}),e.jsx("div",{className:"text-slate-700",children:s.summary}),e.jsx("ul",{className:"list-disc ml-4 space-y-1",children:s.pros.map(l=>e.jsx("li",{children:l},l))})]},s.title))})]})}const hs=s=>s?s.split(",").map(l=>l.trim()).filter(Boolean).map(l=>l.toLowerCase()):[],kr=s=>s?s.split(",").map(l=>l.trim()).filter(Boolean):[],at=s=>{const l=s.toLowerCase();return l==="accept"||l==="accept-language"||l==="content-language"||l==="content-type"},Ar=s=>{const l=String(s||"").toLowerCase().trim();return l==="application/x-www-form-urlencoded"||l==="multipart/form-data"||l==="text/plain"||l===""},Pr=({origin:s,allowOrigins:l})=>!!s&&(l.includes("*")||l.includes(s)),Tr=({method:s,requestHeaders:l,contentType:t})=>{const o=String(s||"GET").toUpperCase(),a=["GET","HEAD","POST"].includes(o),c=l.every(at),r=Ar(t);return!a||!c||o==="POST"&&!r},Rr=({needsPreflight:s,originAllowed:l,method:t,requestHeaders:o,allowMethods:a,allowHeaders:c})=>{if(!s)return!0;if(!l)return!1;const r=String(t||"GET").toUpperCase().toLowerCase();return a.includes(r)?o.every(i=>c.includes(i)||at(i)):!1},Er=({origin:s,allowOrigins:l,allowMethodsCsv:t,allowHeadersCsv:o,allowCredentials:a,withCredentials:c})=>({"access-control-allow-origin":l.includes("*")&&!c?"*":s||"","access-control-allow-credentials":a?"true":"false","access-control-allow-methods":t||"","access-control-allow-headers":o||"",vary:"Origin"}),Ir=({origin:s,originAllowed:l,needsPreflight:t,preflightAllowed:o,withCredentials:a,allowCredentials:c,wildcardWithCredsInvalid:r})=>{const d=[];return s||d.push("No Origin header (not a CORS request)"),s&&!l&&d.push("Origin not allowed"),t&&!o&&d.push("Preflight would fail"),a&&!c&&d.push("Credentials not allowed"),r&&d.push("Invalid: allow-origin '*' cannot be used with credentials"),d},Dr=({request:{origin:s,method:l,withCredentials:t,requestHeadersCsv:o,contentType:a},server:{allowOriginsCsv:c,allowMethodsCsv:r,allowHeadersCsv:d,allowCredentials:i}})=>{const n=kr(c),m=hs(r),p=hs(d),g=hs(o),h=Pr({origin:s,allowOrigins:n}),u=Tr({method:l,requestHeaders:g,contentType:a}),C=Rr({needsPreflight:u,originAllowed:h,method:l,requestHeaders:g,allowMethods:m,allowHeaders:p}),S=t&&n.includes("*")&&i,V=h&&C&&(!t||i)&&!S,D=Er({origin:s,allowOrigins:n,allowMethodsCsv:r,allowHeadersCsv:d,allowCredentials:i,withCredentials:t}),ee=Ir({origin:s,originAllowed:h,needsPreflight:u,preflightAllowed:C,withCredentials:t,allowCredentials:i,wildcardWithCredsInvalid:S});return{needsPreflight:u,preflight:{needed:u,allowed:C},actual:{allowed:V},isOriginAllowed:h,responseHeaders:D,reasons:ee}},Ae=({id:s,label:l,children:t})=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:s,className:"text-sm font-semibold text-slate-700 mb-2 block",children:l}),t]});Ae.propTypes={id:v.string.isRequired,label:v.string.isRequired,children:v.node.isRequired};const Lr=s=>Object.entries(s).filter(([,l])=>String(l).length>0).map(([l,t])=>`${l}: ${t}`).join(`
`),Mr="bg-slate-900 text-white border-slate-900",Or="bg-white text-slate-700 border-slate-300",fs=({title:s,children:l})=>e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 min-w-0",children:[e.jsx("div",{className:"text-sm font-bold text-slate-900 mb-3",children:s}),l]});fs.propTypes={title:v.string.isRequired,children:v.node.isRequired};const Ns=({title:s,description:l,isOn:t,onToggle:o,onLabel:a,offLabel:c})=>{const r=()=>o(!t);return e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-white px-3 py-2 min-w-0",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900 break-words whitespace-normal",children:s}),e.jsx("div",{className:"text-xs text-slate-500 break-words whitespace-normal",children:l})]}),e.jsx("button",{type:"button",onClick:r,className:`rounded-lg px-3 py-1.5 text-xs font-bold border ${t?Mr:Or}`,children:t?a:c})]})};Ns.propTypes={title:v.string.isRequired,description:v.string.isRequired,isOn:v.bool.isRequired,onToggle:v.func.isRequired,onLabel:v.string.isRequired,offLabel:v.string.isRequired};const Br=({request:s,server:l})=>x.useMemo(()=>Dr({request:s,server:l}),[s,l]),rt=({outcome:s})=>{const l=s.actual.allowed?"ALLOWED":"BLOCKED",t=s.actual.allowed?"bg-green-600":"bg-red-600";return e.jsxs("div",{className:`${t} text-white rounded-xl p-4 text-center`,children:[e.jsx("div",{className:"text-xs font-semibold mb-1",children:"Browser verdict"}),e.jsx("div",{className:"text-2xl font-extrabold tracking-wide",children:l}),e.jsx("div",{className:"text-xs mt-2 opacity-90",children:s.needsPreflight?"Preflight required before actual request":"No preflight (simple CORS request)"})]})};rt.propTypes={outcome:v.shape({actual:v.shape({allowed:v.bool.isRequired}).isRequired,needsPreflight:v.bool.isRequired}).isRequired};const lt=({outcome:s})=>e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:[e.jsx("div",{className:"text-sm font-bold text-slate-900 mb-2",children:"Preflight"}),e.jsxs("div",{className:"text-sm text-slate-700",children:["Needed"," ",e.jsx("span",{className:"font-semibold",children:s.preflight.needed?"Yes":"No"})]}),e.jsxs("div",{className:"text-sm text-slate-700",children:["Would pass"," ",e.jsx("span",{className:"font-semibold",children:s.preflight.allowed?"Yes":"No"})]})]});lt.propTypes={outcome:v.shape({preflight:v.shape({needed:v.bool.isRequired,allowed:v.bool.isRequired}).isRequired}).isRequired};const it=({headers:s})=>e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:[e.jsx("div",{className:"text-sm font-bold text-slate-900 mb-2",children:"Response headers"}),e.jsx("pre",{className:"text-xs bg-slate-50 p-3 rounded border border-slate-200 overflow-x-auto break-words whitespace-pre-wrap max-w-full",children:Lr(s)})]});it.propTypes={headers:v.object.isRequired};const nt=({reasons:s})=>e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[e.jsx("div",{className:"text-sm font-bold text-red-900 mb-2",children:"Why blocked"}),e.jsx("ul",{className:"text-sm text-red-800 space-y-1",children:s.map(l=>e.jsxs("li",{children:["â€¢ ",l]},l))})]});nt.propTypes={reasons:v.arrayOf(v.string).isRequired};const qr=()=>e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 text-sm text-yellow-900",children:["Tip: set allow-origin to ",e.jsx("span",{className:"font-semibold",children:"*"})," and turn credentials ON to see the common misconfiguration."]}),Ur=()=>{const[s,l]=x.useState("https://app.example.com"),[t,o]=x.useState("GET"),[a,c]=x.useState(!1),[r,d]=x.useState("Authorization"),[i,n]=x.useState("application/json"),[m,p]=x.useState("https://app.example.com, https://admin.example.com"),[g,h]=x.useState("GET, POST"),[u,C]=x.useState("Authorization, Content-Type"),[S,V]=x.useState(!1),D=x.useMemo(()=>({origin:s,method:t,withCredentials:a,requestHeadersCsv:r,contentType:i}),[s,t,a,r,i]),ee=x.useMemo(()=>({allowOriginsCsv:m,allowMethodsCsv:g,allowHeadersCsv:u,allowCredentials:S}),[m,g,u,S]),w=Br({request:D,server:ee}),H="cors-origin",ae="cors-method",T="cors-headers",E="cors-ctype",L="cors-allow-origins",q="cors-allow-methods",Y="cors-allow-headers",J=Q=>l(Q.target.value),ge=Q=>o(Q.target.value),Pe=Q=>d(Q.target.value),Ce=Q=>n(Q.target.value),y=Q=>p(Q.target.value),M=Q=>h(Q.target.value),O=Q=>C(Q.target.value),Z=Q=>c(Q),xe=Q=>V(Q);return e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-slate-700 to-slate-900 flex items-center justify-center text-white text-2xl",children:"ðŸŒ"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"CORS Simulator"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Predict preflight + browser allow/block"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 min-w-0",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(fs,{title:"Request",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ae,{id:H,label:"Origin",children:e.jsx("input",{id:H,value:s,onChange:J,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm"})}),e.jsx(Ae,{id:ae,label:"Method",children:e.jsx("select",{id:ae,value:t,onChange:ge,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",children:["GET","POST","PUT","PATCH","DELETE"].map(Q=>e.jsx("option",{value:Q,children:Q},Q))})}),e.jsx(Ae,{id:T,label:"Request headers (CSV)",children:e.jsx("input",{id:T,value:r,onChange:Pe,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",placeholder:"Authorization, X-Trace-Id"})}),e.jsx(Ae,{id:E,label:"Content-Type",children:e.jsx("input",{id:E,value:i,onChange:Ce,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",placeholder:"application/json"})}),e.jsx(Ns,{title:"Credentials",description:"Cookies / Authorization in fetch",isOn:a,onToggle:Z,onLabel:"ON",offLabel:"OFF"})]})}),e.jsx(fs,{title:"Server policy",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ae,{id:L,label:"Access-Control-Allow-Origin (CSV)",children:e.jsx("input",{id:L,value:m,onChange:y,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",placeholder:"*, https://app.example.com"})}),e.jsx(Ae,{id:q,label:"Access-Control-Allow-Methods (CSV)",children:e.jsx("input",{id:q,value:g,onChange:M,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",placeholder:"GET, POST"})}),e.jsx(Ae,{id:Y,label:"Access-Control-Allow-Headers (CSV)",children:e.jsx("input",{id:Y,value:u,onChange:O,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",placeholder:"Authorization, Content-Type"})}),e.jsx(Ns,{title:"Access-Control-Allow-Credentials",description:"true/false",isOn:S,onToggle:xe,onLabel:"TRUE",offLabel:"FALSE"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(rt,{outcome:w}),e.jsx(lt,{outcome:w}),e.jsx(it,{headers:w.responseHeaders}),!w.actual.allowed&&w.reasons.length>0&&e.jsx(nt,{reasons:w.reasons}),e.jsx(qr,{})]})]})]})},Fr=["Simple requests skip preflight (GET/POST with simple headers)","Preflight uses OPTIONS to ask what is allowed","Access-Control-Allow-Origin must echo origin or be * when no credentials","With credentials=true you cannot use * for ACAO","Keep allowed methods/headers tight; avoid broad wildcards"];function Hr(){return e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6 h-full min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-slate-700 to-slate-900 flex items-center justify-center text-white text-2xl",children:"ðŸŒ"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"CORS Explained + Simulator"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Preflight, credentials, and policy outcomes"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"lg:col-span-1 bg-slate-50 border border-slate-200 rounded-xl p-4 space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Key Rules"}),e.jsx("ul",{className:"text-xs text-slate-700 space-y-2 list-disc ml-4",children:Fr.map(s=>e.jsx("li",{className:"break-words whitespace-normal",children:s},s))}),e.jsx("div",{className:"text-xs text-slate-600 break-words whitespace-normal",children:"Preflight fails? Check allowed origin, methods, headers, and credentials alignment."})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Ur,{})})]})]})}const Wr=[{name:"default-src",detail:"Fallback for all resource types; set to 'self' or https:"},{name:"script-src",detail:"Use nonces/hashes, avoid unsafe-inline/unsafe-eval"},{name:"frame-ancestors",detail:"Control who can iframe you; set to 'none' to stop clickjacking"},{name:"upgrade-insecure-requests",detail:"Auto-upgrade http assets to https"},{name:"report-to / report-uri",detail:"Send violation reports to an endpoint to tune policies"}],Gr="Content-Security-Policy: default-src 'self'; script-src 'nonce-{RANDOM}' 'strict-dynamic'; object-src 'none'; base-uri 'none'; frame-ancestors 'none'; report-to csp-endpoint; upgrade-insecure-requests";function zr(){return e.jsxs("div",{className:"bg-white border-2 border-indigo-200 rounded-2xl p-6 h-full min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-indigo-500 to-blue-600 flex items-center justify-center text-white text-2xl",children:"ðŸ§±"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Content Security Policy (CSP)"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Defense-in-depth against XSS & clickjacking"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-4 space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Strict CSP Template"}),e.jsx("pre",{className:"text-xs bg-white border border-indigo-200 rounded p-3 overflow-x-auto break-words whitespace-pre-wrap max-w-full",children:Gr}),e.jsx("div",{className:"text-xs text-slate-700",children:"Use nonces or hashes per response. Avoid unsafe-inline/unsafe-eval. Test with report-only first."})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4 space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Core Directives"}),e.jsx("ul",{className:"text-xs text-slate-700 space-y-2 list-disc ml-4",children:Wr.map(s=>e.jsxs("li",{className:"break-words whitespace-normal",children:[e.jsxs("span",{className:"font-semibold",children:[s.name,":"]})," ",s.detail]},s.name))})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-3 text-xs text-slate-700 min-w-0",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 min-w-0",children:[e.jsx("div",{className:"font-semibold text-green-900 mb-1",children:"Nonce-based"}),e.jsx("p",{className:"break-words whitespace-normal",children:"Generate a fresh nonce per response and attach it to allowed <script>/<style> tags."})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 min-w-0",children:[e.jsx("div",{className:"font-semibold text-amber-900 mb-1",children:"Hash-based"}),e.jsx("p",{className:"break-words whitespace-normal",children:"Hash inline scripts/styles (sha256/384/512). Great for static sites; rehash on changes."})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 min-w-0",children:[e.jsx("div",{className:"font-semibold text-red-900 mb-1",children:"Reporting"}),e.jsx("p",{className:"break-words whitespace-normal",children:"Send violations via report-to/report-uri. Start in report-only to tune before enforcing."})]})]})]})}const _r=[{title:"Encryption In Transit",points:["TLS 1.2+ with modern ciphers; enable HSTS","Mutual TLS for service-to-service in zero-trust","Pin audience + hostname; prefer HTTP/3 where available"]},{title:"Encryption At Rest",points:["AES-256-GCM for data at rest (managed KMS preferred)","Encrypt backups, logs, and object storage by default","Isolate keys from data plane; separate duties"]}],$r=["Use managed KMS or HSM; avoid app-level key storage","Envelope encryption: data key encrypted by KMS master key","Rotate keys (90d high-risk, 180â€“365d low-risk) with versioning","Tag keys with owners + expiration; alert before expiry","Audit key usage and deny unused principals"];function Kr(){return e.jsxs("div",{className:"bg-white border-2 border-emerald-200 rounded-2xl p-6 h-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-emerald-500 to-teal-600 flex items-center justify-center text-white text-2xl",children:"ðŸ”’"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Encryption & Key Management"}),e.jsx("div",{className:"text-xs text-slate-500",children:"At rest vs in transit, envelope patterns"})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:_r.map(s=>e.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4 space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:s.title}),e.jsx("ul",{className:"text-xs text-slate-700 space-y-1 list-disc ml-4",children:s.points.map(l=>e.jsx("li",{children:l},l))})]},s.title))}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4 space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Key Management Playbook"}),e.jsx("ul",{className:"text-xs text-slate-700 space-y-1 list-disc ml-4",children:$r.map(s=>e.jsx("li",{children:s},s))}),e.jsx("div",{className:"text-xs text-slate-600 mt-2",children:"Prefer short-lived data keys, rotate CMKs, and monitor usage anomalies. Never log secrets or keys."})]})]})}function Vr(){const[s,l]=x.useState("s3://my-bucket/*"),[t,o]=x.useState(["s3:GetObject","s3:PutObject"]),[a,c]=x.useState(["arn:aws:iam::123456789012:user/john"]),r=x.useMemo(()=>({Version:"2012-10-17",Statement:[{Effect:"Allow",Principal:a.length>0?{AWS:a}:"*",Action:t,Resource:s}]}),[s,t,a]),d=x.useMemo(()=>{const i=[];return t.includes("*")&&i.push("Avoid wildcard actions - specify exact permissions needed"),s.includes("*")&&!s.endsWith("/*")&&i.push("Wildcard resources should end with /* for safety"),(a.length===0||a.includes("*"))&&i.push("Specify exact principals - avoid wildcards"),t.length>10&&i.push("Consider grouping actions into separate statements"),i},[s,t,a]);return e.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-2xl p-6 h-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-purple-500 to-pink-600 flex items-center justify-center text-white text-2xl",children:"ðŸ›¡ï¸"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"IAM Policy Builder"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Create least-privilege policies"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:"Resource"}),e.jsx("input",{type:"text",value:s,onChange:i=>l(i.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",placeholder:"s3://my-bucket/*"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:"Actions (comma-separated)"}),e.jsx("input",{type:"text",value:t.join(", "),onChange:i=>o(i.target.value.split(",").map(n=>n.trim())),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",placeholder:"s3:GetObject, s3:PutObject"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:"Principals (ARNs, comma-separated)"}),e.jsx("input",{type:"text",value:a.join(", "),onChange:i=>c(i.target.value.split(",").map(n=>n.trim())),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",placeholder:"arn:aws:iam::123456789012:user/john"})]}),d.length>0&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-semibold text-yellow-900 mb-1",children:"Least-Privilege Recommendations:"}),e.jsx("ul",{className:"text-xs text-yellow-800 space-y-1",children:d.map(i=>e.jsxs("li",{children:["â€¢ ",i]},i))})]}),e.jsxs("div",{className:"bg-slate-900 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-white mb-2",children:"Generated Policy"}),e.jsx("pre",{className:"text-xs text-green-400 overflow-x-auto break-words whitespace-pre-wrap max-w-full",children:JSON.stringify(r,null,2)})]})]})]})}const Us=s=>{const l=s.replace(/-/g,"+").replace(/_/g,"/"),t=l.padEnd(Math.ceil(l.length/4)*4,"=");return JSON.parse(atob(t))};function Qr(){const[s,l]=x.useState("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyLCJyb2xlIjoiYWRtaW4iLCJleHAiOjE1MTYyNDI2MjJ9.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"),t=x.useMemo(()=>{try{const o=s.split(".");if(o.length!==3)return null;const a=Us(o[0]),c=Us(o[1]),r=o[2],d=Math.floor(Date.now()/1e3),i=c.exp&&c.exp<d,n=a.alg==="none";return{header:a,payload:c,signature:r,isExpired:i,weakAlg:n}}catch{return null}},[s]);return e.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-2xl p-6 h-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-blue-500 to-cyan-600 flex items-center justify-center text-white text-2xl",children:"ðŸŽ«"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"JWT Token Decoder"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Decode, inspect claims, spot risks"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:"JWT Token"}),e.jsx("textarea",{value:s,onChange:o=>l(o.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-xs font-mono",rows:3,placeholder:"Paste JWT token here..."})]}),t?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Header"}),e.jsx("pre",{className:"text-xs bg-white p-3 rounded border border-blue-200 overflow-x-auto",children:JSON.stringify(t.header,null,2)}),t.weakAlg&&e.jsx("div",{className:"text-xs text-red-700 mt-2",children:'âš ï¸ Reject tokens using alg "none".'})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm font-semibold text-green-900",children:"Payload (Claims)"}),t.isExpired&&e.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded",children:"EXPIRED"})]}),e.jsx("pre",{className:"text-xs bg-white p-3 rounded border border-green-200 overflow-x-auto",children:JSON.stringify(t.payload,null,2)})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Common Claims"}),e.jsxs("div",{className:"space-y-1 text-xs text-slate-700",children:[t.payload.sub&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"sub:"})," ",t.payload.sub," (Subject/User ID)"]}),t.payload.exp&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"exp:"})," ",new Date(t.payload.exp*1e3).toLocaleString()," (Expiration)"]}),t.payload.iat&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"iat:"})," ",new Date(t.payload.iat*1e3).toLocaleString()," (Issued At)"]}),t.payload.role&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"role:"})," ",t.payload.role," (Role)"]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-3 text-xs text-yellow-800",children:[e.jsx("div",{className:"font-semibold mb-1",children:"Best Practices"}),e.jsxs("ul",{className:"space-y-1 ml-4 list-disc",children:[e.jsx("li",{children:"Validate issuer (iss), audience (aud), expiration (exp)"}),e.jsx("li",{children:"Use RS256/ES256 with key rotation and kid headers"}),e.jsx("li",{children:"Keep access tokens short-lived; use refresh token rotation"}),e.jsx("li",{children:"Store tokens in httpOnly, secure cookies when possible"})]})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-xs text-red-800",children:[e.jsx("div",{className:"font-semibold mb-1",children:"Common Pitfalls"}),e.jsxs("ul",{className:"space-y-1 ml-4 list-disc",children:[e.jsx("li",{children:"Accepting tokens without verifying signatures"}),e.jsx("li",{children:"Using symmetric keys in public clients"}),e.jsx("li",{children:"Over-trusting claims without checking scope/audience"}),e.jsx("li",{children:"Long-lived tokens without revocation strategy"})]})]})]})]}):e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-sm text-red-700",children:"Invalid JWT token format"})]})]})}const Yr=[{name:"Public Tier",description:"Load balancers, API gateways",subnets:["10.0.1.0/24","10.0.2.0/24"],allowedInbound:["Internet (HTTPS)","CDN/WAF"],allowedOutbound:["Private Tier"],color:"red"},{name:"Private Tier",description:"Application servers",subnets:["10.0.10.0/24","10.0.11.0/24"],allowedInbound:["Public Tier"],allowedOutbound:["Data Tier","Internet (updates via NAT)","Observability"],color:"blue"},{name:"Data Tier",description:"Databases, caches",subnets:["10.0.20.0/24"],allowedInbound:["Private Tier"],allowedOutbound:["None (isolated)","Backup network only"],color:"green"}],Jr={red:"bg-red-50 border-red-200 text-red-900",blue:"bg-blue-50 border-blue-200 text-blue-900",green:"bg-green-50 border-green-200 text-green-900"};function Xr(){const[s,l]=x.useState(null);return e.jsxs("div",{className:"bg-white border-2 border-indigo-200 rounded-2xl p-6 h-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-indigo-500 to-purple-600 flex items-center justify-center text-white text-2xl",children:"ðŸŒ"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Network Segmentation Designer"}),e.jsx("div",{className:"text-xs text-slate-500",children:"VPC/subnet/security group visualization"})]})]}),e.jsx("div",{className:"space-y-3",children:Yr.map((t,o)=>e.jsxs("div",{onClick:()=>l(s===o?null:o),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${s===o?"border-indigo-500 bg-indigo-50":"border-slate-200 bg-white hover:border-slate-300"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-semibold text-slate-900 truncate",children:t.name}),e.jsx("div",{className:"text-xs text-slate-600 break-words whitespace-normal",children:t.description})]}),e.jsxs("div",{className:`px-2 py-1 rounded text-xs font-semibold ${Jr[t.color]}`,children:["Tier ",o+1]})]}),s===o&&e.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-700 mb-1",children:"Subnets:"}),e.jsx("div",{className:"text-xs text-slate-600 space-y-1",children:t.subnets.map(a=>e.jsx("div",{className:"font-mono break-words whitespace-pre-wrap max-w-full",children:a},a))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-700 mb-1",children:"Allowed Inbound:"}),e.jsx("div",{className:"text-xs text-slate-600 break-words whitespace-normal max-w-full",children:t.allowedInbound.join(", ")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-700 mb-1",children:"Allowed Outbound:"}),e.jsx("div",{className:"text-xs text-slate-600 break-words whitespace-normal max-w-full",children:t.allowedOutbound.join(", ")})]})]})]},t.name))}),e.jsxs("div",{className:"mt-4 bg-indigo-50 rounded-lg p-3 text-xs text-slate-700",children:[e.jsx("div",{className:"font-semibold mb-1",children:"Security Best Practices"}),e.jsxs("ul",{className:"space-y-1 ml-4",children:[e.jsx("li",{children:"â€¢ Use security groups to restrict traffic between tiers"}),e.jsx("li",{children:"â€¢ No direct internet access to private/data tiers"}),e.jsx("li",{children:"â€¢ NAT gateway for controlled egress; enable VPC Flow Logs"}),e.jsx("li",{children:"â€¢ Pair with WAF + DDoS protection at the edge"})]})]})]})}const Fs={"authorization-code":{label:"Authorization Code",description:"Trusted web apps with a backend that can keep a client secret.",steps:[{title:"User requests login",actor:"User",action:"â†’ Authorization Server"},{title:"Authenticate user",actor:"Authorization Server",action:"Validates credentials"},{title:"Return authorization code",actor:"Authorization Server",action:"â†’ Client"},{title:"Exchange code for tokens",actor:"Client",action:"â†’ Authorization Server"},{title:"Access API",actor:"Client",action:"â†’ Resource Server with access token"}],highlights:["Best for server-rendered apps","Keep client secret server-side","Use refresh tokens"]},pkce:{label:"PKCE (SPA / Mobile)",description:"Public clients without a client secret (mobile, SPA).",steps:[{title:"Generate code verifier + challenge",actor:"Client",action:"Store verifier locally"},{title:"Redirect to authorize",actor:"Client",action:"â†’ Authorization Server with challenge"},{title:"User authenticates",actor:"Authorization Server",action:"Validates user"},{title:"Return authorization code",actor:"Authorization Server",action:"â†’ Client"},{title:"Swap code + verifier",actor:"Client",action:"â†’ Authorization Server"},{title:"Get tokens",actor:"Authorization Server",action:"â†’ Client"}],highlights:["No client secret in browser","Mitigates code interception","Recommended for mobile/SPA"]},"device-code":{label:"Device Code",description:"Input-constrained devices (TVs, consoles).",steps:[{title:"Obtain device & user codes",actor:"Device",action:"â†’ User displays code"},{title:"User approves on browser",actor:"User",action:"â†’ Authorization Server"},{title:"Device polls token endpoint",actor:"Device",action:"â†’ Authorization Server"},{title:"Authorization granted",actor:"Authorization Server",action:"â†’ Device tokens"},{title:"Access API",actor:"Device",action:"â†’ Resource Server with access token"}],highlights:["Great for TVs/CLI","Short polling interval","Expire device codes quickly"]}},Zr=["Prefer PKCE for SPAs and mobile apps","Use short-lived access tokens (15â€“60 min) and refresh tokens with rotation","Validate scopes and audience on every API call","Store tokens in httpOnly secure cookies when you control the backend"];function el(){const[s,l]=x.useState("authorization-code"),[t,o]=x.useState(0),a=x.useMemo(()=>Fs[s],[s]);return e.jsxs("div",{className:"bg-white border-2 border-green-200 rounded-2xl p-6 h-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-green-500 to-emerald-600 flex items-center justify-center text-2xl",children:"ðŸ”"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"OAuth2 Flow Visualizer"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Authorization Code, PKCE, Device"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 mb-2 block",children:"Flow Type"}),e.jsx("select",{value:s,onChange:c=>{l(c.target.value),o(0)},className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",children:Object.entries(Fs).map(([c,r])=>e.jsx("option",{value:c,children:r.label},c))}),e.jsx("p",{className:"text-xs text-slate-600 mt-2",children:a.description})]}),e.jsx("div",{className:"space-y-2",children:a.steps.map((c,r)=>e.jsxs("div",{onClick:()=>o(r),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${t===r?"border-green-500 bg-green-50":"border-slate-200 bg-white hover:border-slate-300"}`,children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${t===r?"bg-green-600 text-white":"bg-slate-300 text-slate-700"}`,children:r+1}),e.jsx("div",{className:"font-semibold text-slate-900",children:c.title})]})}),e.jsx("p",{className:"text-sm text-slate-700 ml-8",children:c.action}),e.jsx("div",{className:"mt-2 ml-8 text-xs text-slate-600",children:e.jsx("span",{className:"font-semibold",children:c.actor})})]},c.title))}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-xs text-slate-700",children:[e.jsx("div",{className:"font-semibold mb-1",children:"Security Tips"}),e.jsx("ul",{className:"space-y-1 ml-4",children:Zr.map(c=>e.jsxs("li",{children:["â€¢ ",c]},c))})]})]})]})}const sl=[{id:"API1",title:"Broken Object Level Authorization",description:"Missing object-level access checks on IDs or paths.",defense:["Enforce per-object authorization on every request","Avoid exposing predictable IDs; use UUIDs"]},{id:"API2",title:"Broken Authentication",description:"Weak login flows, poor session handling, credential stuffing.",defense:["Use MFA + rate limiting","Rotate refresh tokens, detect reuse"]},{id:"API3",title:"Broken Object Property Level Authorization",description:"Unauthorized read/write of individual fields (mass assignment).",defense:["Use allowlists for bindable fields","Validate ownership in service layer"]},{id:"API4",title:"Unrestricted Resource Consumption",description:"Lack of pagination, rate limits, or cost controls leading to DoS costs.",defense:["Enforce pagination + rate limits","Protect expensive flows with quotas/circuit breakers"]},{id:"API5",title:"Broken Function Level Authorization",description:"Admin or privileged routes exposed without role checks.",defense:["Centralize RBAC/ABAC checks","Deny-by-default and test privileged paths"]},{id:"API6",title:"Unrestricted Access to Sensitive Business Flows",description:"Business actions abused at scale (e.g., gift-card draining).",defense:["Add velocity limits and business rules","Threat model automation paths"]},{id:"API7",title:"Server Side Request Forgery",description:"API fetches attacker-controlled URLs and reaches internal services.",defense:["Allow-list outbound destinations","Disable redirects and resolve IPs before fetch"]},{id:"API8",title:"Security Misconfiguration",description:"Debug endpoints, verbose errors, default creds, missing TLS.",defense:["Harden configs as code","Automated scans + CIS benchmarks"]},{id:"API9",title:"Improper Inventory Management",description:"Shadow/old APIs untracked or unpatched.",defense:["Maintain versioned API catalog","Sunset and block deprecated versions"]},{id:"API10",title:"Unsafe Consumption of APIs",description:"Trusting unvalidated third-party API responses.",defense:["Validate and sanitize 3rd-party inputs","Apply timeouts and schema validation"]}];function tl(){const[s,l]=x.useState("API1");return e.jsxs("div",{className:"bg-white border-2 border-amber-200 rounded-2xl p-6 h-full min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-amber-500 to-orange-600 flex items-center justify-center text-white text-2xl",children:"ðŸ§­"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"OWASP API Top 10 (2023)"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Common risks + fixes"})]})]}),e.jsx("div",{className:"space-y-3",children:sl.map(t=>e.jsxs("div",{className:`border rounded-xl p-4 cursor-pointer transition-colors ${s===t.id?"border-amber-400 bg-amber-50":"border-slate-200 bg-white hover:border-amber-200"}`,onClick:()=>l(s===t.id?null:t.id),children:[e.jsxs("div",{className:"flex items-center justify-between min-w-0",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs font-bold text-amber-700",children:t.id}),e.jsx("div",{className:"text-sm font-semibold text-slate-900 break-words whitespace-normal",children:t.title})]}),e.jsx("span",{className:"text-xs text-slate-600",children:s===t.id?"Hide":"Details"})]}),s===t.id&&e.jsxs("div",{className:"mt-3 space-y-2 text-sm text-slate-700",children:[e.jsx("p",{children:t.description}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-900 mb-1",children:"Defenses"}),e.jsx("ul",{className:"list-disc ml-4 space-y-1 text-xs",children:t.defense.map(o=>e.jsx("li",{className:"break-words whitespace-normal",children:o},o))})]})]})]},t.id))})]})}const al=["Scoping: define assets, out-of-scope, test windows, and disclosure channel","Reconnaissance: enumerate DNS, APIs, cloud assets, open ports","Exploitation: attempt auth bypass, injection, SSRF, IDOR, privilege escalation","Post-exploitation: verify impact, avoid destructive actions","Reporting & remediation: prioritized findings, retest after fixes"],rl=["DAST: OWASP ZAP, Burp Suite","SAST/SCA: CodeQL, Semgrep, Dependabot","Cloud posture: ScoutSuite, Prowler, tfsec","API testing: Postman security tests, schemathesis"];function ll(){return e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6 h-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-slate-800 to-slate-900 flex items-center justify-center text-white text-2xl",children:"ðŸ› ï¸"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Penetration Testing Essentials"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Types, tooling, and cadence"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Lifecycle"}),e.jsx("ul",{className:"text-xs text-slate-700 space-y-1 list-disc ml-4",children:al.map(s=>e.jsx("li",{children:s},s))})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Tooling"}),e.jsx("ul",{className:"text-xs text-slate-700 space-y-1 list-disc ml-4",children:rl.map(s=>e.jsx("li",{children:s},s))})]})]}),e.jsx("div",{className:"text-xs text-slate-600",children:"Run offensive testing at least annually or after major releases. Pair with bug bounty and continuous scanning."})]})}const il=["Minimize collection; default to opt-out of sensitive fields","Tokenize or pseudonymize identifiers; store mapping separately","Mask in logs/BI tools; redact before exporting","Encrypt PII at rest and in transit; restrict access via ABAC","Define retention + deletion SLAs; automate DSAR workflows"],nl=[{name:"SOC 2",focus:"Trust services (security, availability, confidentiality)."},{name:"ISO 27001",focus:"ISMS governance, risk management, controls."},{name:"GDPR",focus:"Lawful basis, consent, data subject rights, residency."},{name:"HIPAA",focus:"PHI safeguards, BAAs, audit controls."},{name:"PCI-DSS",focus:"Cardholder data handling, network segmentation, SAQ."}];function dl(){return e.jsxs("div",{className:"bg-white border-2 border-rose-200 rounded-2xl p-6 h-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-rose-500 to-pink-600 flex items-center justify-center text-white text-2xl",children:"ðŸ§¾"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"PII Handling & Compliance"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Privacy by design + frameworks"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-rose-50 border border-rose-200 rounded-xl p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"PII Handling Playbook"}),e.jsx("ul",{className:"text-xs text-slate-700 space-y-1 list-disc ml-4",children:il.map(s=>e.jsx("li",{children:s},s))})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Compliance Snapshots"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs text-slate-700",children:nl.map(s=>e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-2",children:[e.jsx("div",{className:"font-semibold text-slate-900",children:s.name}),e.jsx("div",{className:"text-slate-700",children:s.focus})]},s.name))})]})]}),e.jsx("div",{className:"text-xs text-slate-600",children:"Keep an inventory of data assets, processors, and data flows. Run DPIA/TRA for high-risk processing."})]})}const cl=[{id:"zero-downtime",label:"Zero-Downtime",notes:["Run old + new keys in parallel","Gracefully deprecate"],color:"bg-green-50 border-green-300"},{id:"scheduled",label:"Scheduled",notes:["Rotate during maintenance","Synchronous updates"],color:"bg-yellow-50 border-yellow-300"}];function ol(){const[s,l]=x.useState(90),[t,o]=x.useState(1),[a,c]=x.useState("zero-downtime"),r=x.useMemo(()=>{const d=[],i=new Date;for(let n=0;n<5;n+=1){const m=new Date(i);m.setDate(m.getDate()+n*s),d.push({date:m,keyVersion:t+n,status:n===0?"active":n===1?"next":"future"})}return d},[s,t]);return e.jsxs("div",{className:"bg-white border-2 border-amber-200 rounded-2xl p-6 h-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-amber-500 to-orange-600 flex items-center justify-center text-white text-2xl",children:"ðŸ”‘"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Secrets Rotation Simulator"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Key rotation timeline and strategies"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:["Rotation Period: ",s," days"]}),e.jsx("input",{type:"range",min:30,max:365,step:30,value:s,onChange:d=>l(Number(d.target.value)),className:"w-full accent-amber-600"}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[e.jsx("span",{children:"30 days (high-risk)"}),e.jsx("span",{children:"365 days (low-risk)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:"Rotation Strategy"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:cl.map(d=>e.jsx("button",{type:"button",onClick:()=>c(d.id),className:`text-xs font-semibold rounded-lg px-3 py-2 border transition-colors ${a===d.id?`${d.color} text-amber-800`:"bg-white border-slate-200 text-slate-700 hover:border-slate-300"}`,children:d.label},d.id))})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Rotation Timeline"}),e.jsx("div",{className:"space-y-2",children:r.map(d=>e.jsx("div",{className:`p-3 rounded-lg border-2 ${d.status==="active"?"bg-green-50 border-green-300":d.status==="next"?"bg-yellow-50 border-yellow-300":"bg-slate-100 border-slate-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-slate-900",children:["Key Version ",d.keyVersion]}),e.jsx("div",{className:"text-xs text-slate-600",children:d.date.toLocaleDateString()})]}),e.jsxs("div",{className:"text-xs font-semibold",children:[d.status==="active"&&"âœ“ Active",d.status==="next"&&"â†’ Next",d.status==="future"&&"â—‹ Future"]})]})},d.keyVersion))})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-300 rounded-lg p-3 text-xs text-amber-800",children:[e.jsx("div",{className:"font-semibold mb-1",children:a==="zero-downtime"?"Zero-Downtime Strategy":"Scheduled Strategy"}),a==="zero-downtime"?e.jsxs("ul",{className:"space-y-1 ml-4",children:[e.jsx("li",{children:"â€¢ Create new key version alongside current"}),e.jsx("li",{children:"â€¢ Update services to accept both keys"}),e.jsx("li",{children:"â€¢ Deprecate old key after grace period"}),e.jsx("li",{children:"â€¢ No service interruption"})]}):e.jsxs("ul",{className:"space-y-1 ml-4",children:[e.jsx("li",{children:"â€¢ Rotate during maintenance window"}),e.jsx("li",{children:"â€¢ Update all services simultaneously"}),e.jsx("li",{children:"â€¢ Brief downtime is acceptable"}),e.jsx("li",{children:"â€¢ Simpler implementation"})]})]})]})]})}const ps={sql:{title:"SQL Injection",vulnerable:"SELECT * FROM users WHERE email = '<user_input>' AND password = '<pass>';",fixed:"SELECT * FROM users WHERE email = ? AND password_hash = crypt(?, salt);",guidance:["Use prepared statements and parameter binding","Never concatenate user input into queries","Apply least privilege DB roles and limit network access","Centralize query helpers to avoid unsafe ad-hoc SQL"]},xss:{title:"Cross-Site Scripting",vulnerable:"<div>Welcome <script>{user_input}<\/script></div>",fixed:"<div>Welcome {{ user.name | escape }}</div>",guidance:["Encode output by context (HTML, URL, JS)","Use CSP with nonces/hashes to block inline scripts","Sanitize rich text input server-side","Prefer libraries that auto-escape (React, templating engines)"]}};function ml(){const[s,l]=x.useState("sql"),t=ps[s];return e.jsxs("div",{className:"bg-white border-2 border-red-200 rounded-2xl p-6 h-full min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-red-500 to-rose-600 flex items-center justify-center text-white text-2xl",children:"ðŸ§ª"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"SQLi & XSS Prevention Lab"}),e.jsx("div",{className:"text-xs text-slate-500",children:"See vulnerable vs fixed patterns"})]})]}),e.jsx("div",{className:"flex gap-2 mb-4",children:Object.keys(ps).map(o=>e.jsx("button",{type:"button",onClick:()=>l(o),className:`px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${s===o?"bg-red-50 border-red-300 text-red-800":"bg-white border-slate-200 text-slate-700 hover:border-slate-300"}`,children:ps[o].title},o))}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 min-w-0",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 min-w-0",children:[e.jsx("div",{className:"text-xs font-bold text-red-800 mb-1",children:"Vulnerable"}),e.jsx("pre",{className:"text-xs bg-white border border-red-200 rounded p-3 overflow-x-auto break-words whitespace-pre-wrap max-w-full",children:t.vulnerable})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 min-w-0",children:[e.jsx("div",{className:"text-xs font-bold text-green-800 mb-1",children:"Fixed"}),e.jsx("pre",{className:"text-xs bg-white border border-green-200 rounded p-3 overflow-x-auto break-words whitespace-pre-wrap max-w-full",children:t.fixed})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 p-3 mt-4",children:[e.jsx("div",{className:"text-xs font-bold text-slate-900 mb-2",children:"Defensive Playbook"}),e.jsx("ul",{className:"text-xs text-slate-700 space-y-1 list-disc ml-4",children:t.guidance.map(o=>e.jsx("li",{children:o},o))})]})]})}const xl=["Pick protocol: OIDC for web/mobile, SAML for enterprise suites","Register app with IdP (redirect URIs, scopes/claims, certs)","Implement auth code + PKCE for SPAs/mobile; validate id_token (iss, aud, exp, nonce)","Map IdP attributes to roles/groups; keep just-in-time provisioning","Harden sessions: httpOnly+Secure cookies, SameSite=Lax/Strict, short access tokens"],hl=[{label:"OIDC",fit:"Modern web/mobile",notes:"JSON tokens, discovery endpoints, supports PKCE"},{label:"SAML",fit:"Enterprise SaaS",notes:"XML assertions, widely supported by IdPs"},{label:"OAuth2",fit:"Authorization",notes:"Use for API access delegation; pair with OIDC for identity"}];function pl(){return e.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-2xl p-6 h-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-blue-500 to-indigo-600 flex items-center justify-center text-white text-2xl",children:"ðŸªª"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"SSO Implementation Guide"}),e.jsx("div",{className:"text-xs text-slate-500",children:"OIDC vs SAML, rollout checklist"})]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-3 mb-4",children:hl.map(s=>e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-xs text-slate-800",children:[e.jsx("div",{className:"font-semibold text-blue-900",children:s.label}),e.jsxs("div",{className:"text-slate-700",children:["Fit: ",s.fit]}),e.jsx("div",{className:"text-slate-600",children:s.notes})]},s.label))}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Rollout Checklist"}),e.jsx("ul",{className:"text-xs text-slate-700 space-y-1 list-disc ml-4",children:xl.map(s=>e.jsx("li",{children:s},s))}),e.jsx("div",{className:"text-xs text-slate-600 mt-2",children:"Add session revocation via logout endpoints, idle-timeout, and device binding where supported."})]})]})}const Hs={green:{text:"text-green-600",bg:"bg-green-600"},indigo:{text:"text-indigo-600",bg:"bg-indigo-600"},amber:{text:"text-amber-600",bg:"bg-amber-600"},emerald:{text:"text-emerald-600",bg:"bg-emerald-600"},teal:{text:"text-teal-600",bg:"bg-teal-600"}},$e=({number:s,accent:l,label:t,title:o,description:a})=>{const c=Hs[l]||Hs.green;return e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:`text-sm font-bold uppercase tracking-wider mb-3 flex items-center gap-2 ${c.text}`,children:[e.jsx("span",{className:`w-8 h-8 rounded-lg ${c.bg} text-white flex items-center justify-center text-sm`,children:s}),t]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:o}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:a})]})};function ul(){const s=le(),l=x.useRef([]);return x.useEffect(()=>{const t=new IntersectionObserver(o=>{o.forEach(a=>{a.isIntersecting&&(a.target.classList.add("opacity-100","translate-y-0"),a.target.classList.remove("opacity-0","translate-y-8"))})},{threshold:.1,rootMargin:"0px 0px -100px 0px"});return l.current.forEach(o=>{o&&t.observe(o)}),()=>t.disconnect()},[]),e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"relative gradient-overlay py-20 md:py-32 overflow-hidden",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-green-50 border border-green-100 mb-6",children:e.jsx("span",{className:"text-sm font-medium text-green-700",children:"Module 7"})}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6",children:["Security, Governance &"," ",e.jsx("span",{className:"text-gradient",children:"Compliance"})]}),e.jsx("p",{className:"text-lg md:text-xl text-slate-600 mb-8 mx-auto",children:"Master authentication, authorization, web security, encryption, and compliance with a zero-trust mindset."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[e.jsx("button",{onClick:()=>s("/"),className:"btn-secondary",children:"Back to Home"}),e.jsx("button",{onClick:()=>s("/topics"),className:"btn-secondary",children:"View All Topics"})]})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-7xl",children:[e.jsxs("section",{ref:t=>l.current[0]=t,className:" transition-all duration-700 mb-24",children:[e.jsx($e,{number:"01",accent:"green",label:"AUTHENTICATION & AUTHORIZATION",title:"AuthN/AuthZ: OAuth2, OIDC, JWT & mTLS",description:"Authentication (who you are) and authorization (what you can do) are foundational controls."}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:[e.jsx(el,{}),e.jsx(Qr,{})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white border-2 border-green-200 rounded-2xl p-6",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ”"}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"OAuth2"}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Delegated authorization framework for API access and third-party apps."}),e.jsx("div",{className:"text-xs text-slate-600",children:"Scopes, audiences, short-lived access tokens."})]}),e.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-2xl p-6",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ†”"}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"OIDC"}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Identity layer on OAuth2; ID tokens and claims for SSO."}),e.jsx("div",{className:"text-xs text-slate-600",children:"Use PKCE for SPAs/mobile; validate iss/aud/nonce."})]}),e.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-2xl p-6",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ”’"}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"mTLS"}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Mutual TLS for service-to-service trust in zero-trust networks."}),e.jsx("div",{className:"text-xs text-slate-600",children:"Automate cert issuance/rotation; pin SANs and CAs."})]})]})]}),e.jsxs("section",{ref:t=>l.current[1]=t,className:" transition-all duration-700 mb-24",children:[e.jsx($e,{number:"02",accent:"indigo",label:"NETWORK SECURITY",title:"Segmentation, WAF, DDoS & IAM guardrails",description:"Defense in depth to shrink blast radius and enforce least privilege."}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:[e.jsx(Xr,{}),e.jsx(Vr,{})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white border-2 border-indigo-200 rounded-2xl p-6",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ›¡ï¸"}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"WAF"}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Filter SQLi/XSS, enforce rate limits, and virtual patch CVEs at the edge."}),e.jsx("div",{className:"text-xs text-slate-600",children:"Managed: CloudFront, Cloudflare, GCP Armor."})]}),e.jsxs("div",{className:"bg-white border-2 border-red-200 rounded-2xl p-6",children:[e.jsx("div",{className:"text-3xl mb-3",children:"âš¡"}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"DDoS Protection"}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Scrub volumetric attacks, enforce per-IP quotas, and absorb bursts."}),e.jsx("div",{className:"text-xs text-slate-600",children:"Use AWS Shield Advanced/Cloudflare for L3â€“L7."})]}),e.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-2xl p-6",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ‘¤"}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Least-Privilege IAM"}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Roles over users, scoped policies, short-lived credentials."}),e.jsx("div",{className:"text-xs text-slate-600",children:"Continuously review and remove unused permissions."})]})]})]}),e.jsxs("section",{ref:t=>l.current[2]=t,className:" transition-all duration-700 mb-24",children:[e.jsx($e,{number:"03",accent:"amber",label:"WEB SECURITY & APPSEC",title:"OWASP API Top 10, Injection Defenses, CORS, CSP",description:"Close common API and frontend attack vectors with practical mitigations."}),e.jsxs("div",{className:"grid xl:grid-cols-2 gap-8 mb-8",children:[e.jsx(tl,{}),e.jsx(ml,{})]}),e.jsxs("div",{className:"grid xl:grid-cols-1 gap-8",children:[e.jsx(Hr,{}),e.jsx(zr,{})]})]}),e.jsxs("section",{ref:t=>l.current[3]=t,className:" transition-all duration-700 mb-24",children:[e.jsx($e,{number:"04",accent:"emerald",label:"CRYPTO, SECRETS & IDENTITY",title:"Encryption, Key Management, SSO, and Secret Rotation",description:"Protect data at rest/in transit, manage keys safely, and roll out enterprise SSO."}),e.jsxs("div",{className:"grid xl:grid-cols-2 gap-8 mb-8",children:[e.jsx(Kr,{}),e.jsx(pl,{})]}),e.jsxs("div",{className:"grid xl:grid-cols-2 gap-8 mb-8",children:[e.jsx(ol,{}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-3",children:"Audit Logging"}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1 list-disc ml-4",children:[e.jsx("li",{children:"Authentication attempts, authorization decisions, data access"}),e.jsx("li",{children:"Immutable storage (versioned object storage) with signatures"}),e.jsx("li",{children:"Retention 30â€“90 days; alerts on anomalies"})]})]}),e.jsxs("div",{className:" from-amber-50 to-orange-50 border-2 border-amber-200 rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-3",children:"Data Residency"}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1 list-disc ml-4",children:[e.jsx("li",{children:"Regional data stores; avoid cross-region replication by default"}),e.jsx("li",{children:"Encrypt at rest/in transit; classify data by jurisdiction"}),e.jsx("li",{children:"Implement residency early; retrofits are costly"})]})]})]})]})]}),e.jsxs("section",{ref:t=>l.current[4]=t,className:" transition-all duration-700 mb-24",children:[e.jsx($e,{number:"05",accent:"teal",label:"GOVERNANCE & VALIDATION",title:"Access Models, PII Handling, and Pen Testing",description:"Choose the right access model, meet compliance, and validate controls offensively."}),e.jsxs("div",{className:"grid xl:grid-cols-2 gap-8 mb-8",children:[e.jsx(Cr,{}),e.jsx(dl,{})]}),e.jsxs("div",{className:"grid xl:grid-cols-2 gap-8",children:[e.jsx(ll,{}),e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-3",children:"Operational Checklist"}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1 list-disc ml-4",children:[e.jsx("li",{children:"Threat model quarterly; update runbooks"}),e.jsx("li",{children:"Continuous dependency scanning and SBOM tracking"}),e.jsx("li",{children:"Security champions program per squad"}),e.jsx("li",{children:"Tabletop exercises for incident response"})]})]})]})]}),e.jsx("section",{className:"py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{onClick:()=>s("/topics"),className:"btn-secondary",children:"â† Back to Topics"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>s("/reliability-resilience"),className:"btn-secondary",children:"â† Previous: Reliability"}),e.jsx("button",{onClick:()=>s("/observability-operations"),className:"btn-primary",children:"Next: Observability â†’"})]})]})})]})]})}function bl(){const[s,l]=x.useState(50),[t,o]=x.useState(5),a=x.useMemo(()=>{const r=[];for(let d=0;d<60;d++){const i=20+Math.sin(d/5)*10,n=Math.random()>.9?Math.random()*60:0;r.push(Math.max(0,Math.min(100,i+n)))}return r},[]),c=x.useMemo(()=>{let r=0,d=!1;for(let i=0;i<a.length;i++){const n=a.slice(Math.max(0,i-t+1),i+1);n.reduce((p,g)=>p+g,0)/n.length>s?d||(r++,d=!0):d=!1}return r},[a,s,t]);return e.jsxs("div",{className:"bg-white border-2 border-orange-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-orange-500 to-red-600 flex items-center justify-center text-white text-2xl",children:"ðŸ””"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Alert Tuning Simulator"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Balance sensitivity vs alert fatigue"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"h-32 flex items-end gap-1 bg-slate-50 rounded-lg p-2 relative overflow-hidden border border-slate-100",children:[a.map((r,d)=>e.jsx("div",{className:"flex-1 bg-blue-400 rounded-t-sm transition-all duration-300",style:{height:`${r}%`,opacity:r>s?1:.4}},d)),e.jsx("div",{className:"absolute left-0 right-0 border-t-2 border-red-500 border-dashed transition-all duration-300",style:{bottom:`${s}%`},children:e.jsxs("span",{className:"absolute right-2 -top-5 text-[10px] font-bold text-red-600 bg-white px-1 rounded",children:["Threshold: ",s,"%"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:"Threshold (%)"}),e.jsx("input",{type:"range",min:"10",max:"90",value:s,onChange:r=>l(Number(r.target.value)),className:"w-full accent-orange-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:"Window (min)"}),e.jsx("input",{type:"range",min:"1",max:"15",value:t,onChange:r=>o(Number(r.target.value)),className:"w-full accent-orange-600"})]})]}),e.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Alerts Triggered"}),e.jsx("div",{className:"text-xs text-slate-500",children:"In the last 60 minutes"})]}),e.jsx("div",{className:`text-3xl font-black ${c>5?"text-red-600":c>0?"text-orange-600":"text-green-600"}`,children:c})]}),e.jsx("div",{className:"text-xs text-slate-600 leading-relaxed",children:c>5?e.jsx("p",{className:"text-red-600 font-medium",children:"âš ï¸ High alert fatigue! Engineers will likely ignore these."}):c===0?e.jsx("p",{className:"text-blue-600 font-medium",children:"â„¹ï¸ Very quiet. You might miss subtle incidents."}):e.jsx("p",{className:"text-green-600 font-medium",children:"âœ… Good balance. Alerts on significant deviations only."})})]})]})}function gl(){const[s,l]=x.useState(10),[t,o]=x.useState(20),[a,c]=x.useState("m5.large"),r={"m5.large":.096,"m5.xlarge":.192,"m5.2xlarge":.384},d=x.useMemo(()=>{const n=s*r[a]*24*30,p=Math.ceil(s*(t/50))*r[a]*24*30,g=n-p;return{current:n.toFixed(2),optimized:p.toFixed(2),savings:g.toFixed(2),percent:(g/n*100).toFixed(0)}},[s,t,a]);return e.jsxs("div",{className:"bg-white border-2 border-green-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-green-500 to-emerald-600 flex items-center justify-center text-white text-2xl",children:"ðŸ’°"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Cost Optimization Calculator"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Rightsize your resources and save"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:"Instance Type"}),e.jsxs("select",{value:a,onChange:i=>c(i.target.value),className:"w-full p-2 border border-slate-200 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-500",children:[e.jsx("option",{value:"m5.large",children:"m5.large ($0.096/hr)"}),e.jsx("option",{value:"m5.xlarge",children:"m5.xlarge ($0.192/hr)"}),e.jsx("option",{value:"m5.2xlarge",children:"m5.2xlarge ($0.384/hr)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:["Instance Count: ",s]}),e.jsx("input",{type:"range",min:"1",max:"100",value:s,onChange:i=>l(Number(i.target.value)),className:"w-full accent-green-600"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:["Avg CPU Utilization: ",t,"%"]}),e.jsx("input",{type:"range",min:"5",max:"100",value:t,onChange:i=>o(Number(i.target.value)),className:"w-full accent-green-600"}),e.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mt-1",children:[e.jsx("span",{children:"Under-provisioned"}),e.jsx("span",{children:"Over-provisioned"})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-xl p-4 space-y-3 border border-green-100",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Current Monthly Spend:"}),e.jsxs("span",{className:"text-lg font-bold text-slate-900",children:["$",d.current]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Optimized Spend:"}),e.jsxs("span",{className:"text-lg font-bold text-green-700",children:["$",d.optimized]})]}),e.jsxs("div",{className:"pt-2 border-t border-green-200 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-slate-900",children:"Potential Savings:"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xl font-black text-emerald-600",children:["$",d.savings]}),e.jsxs("div",{className:"text-[10px] font-bold text-emerald-700 uppercase",children:["Save ",d.percent,"%"]})]})]})]}),t<30&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 text-xs text-amber-800",children:["ðŸ’¡ ",e.jsx("strong",{children:"Recommendation:"})," Your utilization is very low. Consider using smaller instances or implementing aggressive auto-scaling."]})]})]})}const Re={metrics:[{id:"prometheus",name:"Prometheus (Self-hosted)",cost:100,retention:"15 days",overhead:"High"},{id:"datadog-metrics",name:"Datadog Metrics",cost:500,retention:"15 months",overhead:"Low"},{id:"cloudwatch-metrics",name:"AWS CloudWatch",cost:300,retention:"15 months",overhead:"None"}],logs:[{id:"elk",name:"ELK Stack (Self-hosted)",cost:400,retention:"7 days",overhead:"Very High"},{id:"splunk",name:"Splunk",cost:1200,retention:"90 days",overhead:"Low"},{id:"loki",name:"Grafana Loki",cost:200,retention:"30 days",overhead:"Medium"}],traces:[{id:"jaeger",name:"Jaeger (Self-hosted)",cost:150,retention:"2 days",overhead:"High"},{id:"honeycomb",name:"Honeycomb",cost:600,retention:"60 days",overhead:"Low"},{id:"aws-xray",name:"AWS X-Ray",cost:250,retention:"30 days",overhead:"None"}]};function jl(){const[s,l]=x.useState({metrics:Re.metrics[0].id,logs:Re.logs[0].id,traces:Re.traces[0].id}),t=x.useMemo(()=>({metrics:Re.metrics.find(a=>a.id===s.metrics),logs:Re.logs.find(a=>a.id===s.logs),traces:Re.traces.find(a=>a.id===s.traces)}),[s]),o=x.useMemo(()=>Object.values(t).reduce((a,c)=>a+c.cost,0),[t]);return e.jsxs("div",{className:"bg-white border-2 border-cyan-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-cyan-500 to-blue-600 flex items-center justify-center text-white text-2xl",children:"ðŸ—ï¸"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Observability Stack Builder"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Choose your tools and see the impact"})]})]}),e.jsxs("div",{className:"space-y-6",children:[Object.entries(Re).map(([a,c])=>e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700 mb-2 block capitalize",children:a}),e.jsx("select",{value:s[a],onChange:r=>l(d=>({...d,[a]:r.target.value})),className:"w-full p-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none",children:c.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))})]},a)),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-3 border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Estimated Monthly Cost:"}),e.jsxs("span",{className:"text-lg font-bold text-cyan-700",children:["$",o]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-slate-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Retention"}),e.jsxs("div",{className:"text-xs font-semibold text-slate-700",children:[t.metrics.retention," (Avg)"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Ops Overhead"}),e.jsx("div",{className:"text-xs font-semibold text-slate-700",children:t.metrics.overhead})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Vendor Lock"}),e.jsx("div",{className:"text-xs font-semibold text-slate-700",children:t.metrics.id.includes("aws")||t.metrics.id.includes("datadog")?"High":"Low"})]})]})]}),e.jsx("div",{className:"text-[11px] text-slate-500 italic",children:"* Costs are illustrative and vary based on data volume and ingestion rates."})]})]})}function fl(){const[s,l]=x.useState(99.9),[t,o]=x.useState(1.5),a=x.useMemo(()=>{const c=100-s,r=Math.max(0,c-t*.05),d=t>1?(r/(t*.001)).toFixed(1):"âˆž";return{budget:c.toFixed(3),remaining:r.toFixed(3),daysRemaining:d,status:r>0?"Healthy":"Exhausted"}},[s,t]);return e.jsxs("div",{className:"bg-white border-2 border-indigo-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-indigo-500 to-purple-600 flex items-center justify-center text-white text-2xl",children:"ðŸ“ˆ"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"SLO & Burn Rate Dashboard"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Monitor your error budget health"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:["SLO Target: ",s,"%"]}),e.jsx("input",{type:"range",min:"99",max:"99.99",step:"0.01",value:s,onChange:c=>l(Number(c.target.value)),className:"w-full accent-indigo-600"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:["Current Burn Rate: ",t,"x"]}),e.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.1",value:t,onChange:c=>o(Number(c.target.value)),className:"w-full accent-indigo-600"})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-4 border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Error Budget"}),e.jsxs("div",{className:"text-2xl font-black text-slate-900",children:[a.budget,"%"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Remaining"}),e.jsxs("div",{className:`text-2xl font-black ${Number(a.remaining)<.02?"text-red-600":"text-green-600"}`,children:[a.remaining,"%"]})]})]}),e.jsx("div",{className:"w-full bg-slate-200 h-3 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ${Number(a.remaining)<.02?"bg-red-500":"bg-green-500"}`,style:{width:`${Number(a.remaining)/Number(a.budget)*100}%`}})}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsxs("div",{className:"text-xs text-slate-600",children:["Budget will last approx: ",e.jsxs("span",{className:"font-bold text-slate-900",children:[a.daysRemaining," days"]})]}),e.jsx("div",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase ${a.status==="Healthy"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.status})]})]}),e.jsx("div",{className:"text-xs text-slate-500 italic",children:"* Burn rate > 1.0 means you are consuming your error budget faster than the 30-day window allows."})]})]})}const _=x.forwardRef(({className:s="",children:l,...t},o)=>e.jsx("div",{ref:o,role:"alert",className:`relative w-full rounded-lg border p-4 ${s}`,...t,children:l}));_.displayName="Alert";const $=x.forwardRef(({className:s="",...l},t)=>e.jsx("div",{ref:t,className:`text-sm ${s}`,...l}));$.displayName="AlertDescription";const Nl=ks("inline-flex items-center rounded-full border px-3 py-0.5 text-[0.6rem] font-semibold uppercase tracking-wide",{variants:{variant:{default:"border-slate-200 bg-slate-100 text-slate-800 dark:border-slate-200 dark:bg-slate-100 dark:text-slate-800",secondary:"border-slate-200 bg-slate-100 text-slate-700 dark:border-slate-200 dark:bg-slate-100 dark:text-slate-700",outline:"border-slate-200 text-slate-900 dark:border-slate-200 dark:text-slate-900",subtle:"border-transparent bg-slate-200/60 text-slate-700 dark:bg-slate-200/60 dark:text-slate-700"}},defaultVariants:{variant:"default"}}),f=x.forwardRef(({className:s,variant:l,...t},o)=>e.jsx("span",{ref:o,className:me(Nl({variant:l,className:s})),...t}));f.displayName="Badge";function vl(){const[s,l]=x.useState("elk"),[t,o]=x.useState("elk"),a={elk:{name:"ELK Stack",fullName:"Elasticsearch, Logstash, Kibana",description:"Most popular open-source log aggregation stack with full-text search capabilities",components:[{name:"Elasticsearch",role:"Storage & Search Engine",features:["Full-text search","Distributed architecture","Real-time indexing","RESTful API"]},{name:"Logstash",role:"Data Processing Pipeline",features:["Log parsing","Data transformation","Multiple input/output plugins","Filtering and enrichment"]},{name:"Kibana",role:"Visualization & UI",features:["Interactive dashboards","Log exploration","Alerting","Machine learning features"]}],pros:["Powerful search capabilities","Rich ecosystem","Flexible querying","Great for compliance"],cons:["Resource intensive","Complex setup","Expensive at scale","Steep learning curve"],bestFor:["Large enterprises","Compliance-heavy industries","Complex log analysis","Security monitoring"]},loki:{name:"Grafana Loki",fullName:"Prometheus-inspired log aggregation",description:"Cost-effective log aggregation designed for simplicity and efficiency",components:[{name:"Loki",role:"Log Storage",features:["Label-based indexing","S3/GCS compatible","Multi-tenancy","Low resource usage"]},{name:"Promtail",role:"Log Collector",features:["Service discovery","Label extraction","Pipeline stages","Kubernetes native"]},{name:"Grafana",role:"Visualization",features:["Unified metrics & logs","LogQL queries","Alerting","Dashboard sharing"]}],pros:["Cost-effective","Simple architecture","Excellent Kubernetes integration","Scales horizontally"],cons:["No full-text search","Less mature than ELK","Fewer advanced features","Query limitations"],bestFor:["Cloud-native apps","Kubernetes environments","Budget-conscious teams","Metrics + Logs unified view"]},cloudwatch:{name:"CloudWatch Logs",fullName:"AWS CloudWatch Logs",description:"Fully managed AWS log aggregation service with deep AWS integration",components:[{name:"Log Groups",role:"Organization",features:["Logical grouping","Retention policies","Access control","Encryption"]},{name:"Log Streams",role:"Data Flow",features:["Sequential logs","Real-time ingestion","Multiple sources","Automatic timestamp"]},{name:"Insights",role:"Query Engine",features:["SQL-like queries","Automatic field discovery","Visualization","Saved queries"]}],pros:["Zero infrastructure","Deep AWS integration","Pay-per-use","Automatic scaling"],cons:["AWS lock-in","Limited retention","Query costs add up","Not ideal for multi-cloud"],bestFor:["AWS-heavy workloads","Serverless applications","Quick setup needs","AWS Lambda monitoring"]}},c={elk:{language:"Elasticsearch Query DSL / Lucene",examples:[{title:"Find 500 errors in last hour",query:"status:500 AND timestamp:[now-1h TO now]",description:"Uses Lucene query syntax for simple searches"},{title:"Aggregation query",query:`{
  "query": {
    "bool": {
      "filter": [
        {"range": {"@timestamp": {"gte": "now-1h"}}},
        {"term": {"status": 500}}
      ]
    }
  },
  "aggs": {
    "errors_by_service": {
      "terms": {"field": "service.keyword"}
    }
  }
}`,description:"JSON-based Query DSL for complex queries"}]},loki:{language:"LogQL",examples:[{title:"Filter logs by label",query:'{app="api-service", env="production"} |= "error"',description:"Label selectors followed by log pipeline"},{title:"Rate of errors per minute",query:'rate({app="api-service"} |= "error" [5m])',description:"Metric query to calculate error rate"},{title:"Extract and count status codes",query:`sum by (status) (
  rate({app="api-service"} 
    | json 
    | status >= 500 [5m])
)`,description:"Parse JSON and aggregate by extracted field"}]},cloudwatch:{language:"CloudWatch Logs Insights Query",examples:[{title:"Parse and filter JSON logs",query:`fields @timestamp, @message
| filter statusCode >= 500
| stats count() by statusCode`,description:"SQL-like syntax with automatic field extraction"},{title:"Find slow requests",query:`fields @timestamp, requestId, duration
| filter duration > 1000
| sort duration desc
| limit 20`,description:"Filter, sort and limit results"}]}},r=[{pattern:"Centralized Logging",description:"All logs flow to a single aggregation point",useCases:["Small to medium deployments","Single region","Simplified management"],challenges:["Single point of failure","Network bottleneck","Regional latency"]},{pattern:"Distributed Aggregation",description:"Regional aggregators with central search",useCases:["Multi-region deployments","High volume","Low latency requirements"],challenges:["Complex setup","Data synchronization","Cost overhead"]},{pattern:"Tiered Storage",description:"Hot (recent) and cold (archived) storage tiers",useCases:["Cost optimization","Compliance requirements","Long retention needs"],challenges:["Query complexity","Restoration time","Access patterns"]}],d=[{strategy:"Structured Logging",impact:"30-50% reduction",description:"Use JSON with consistent fields instead of free-text logs",implementation:"Define log schema, enforce through libraries"},{strategy:"Log Sampling",impact:"60-80% reduction",description:"Sample verbose logs, keep all errors and important events",implementation:"Client-side sampling, trace-based decisions"},{strategy:"Field Indexing",impact:"40-60% reduction",description:"Index only searchable fields, not entire log body",implementation:"Configure index patterns, use keyword fields"},{strategy:"Retention Policies",impact:"50-70% reduction",description:"Aggressive retention for debug logs, longer for audit logs",implementation:"Different retention per log level/source"},{strategy:"Compression",impact:"70-80% reduction",description:"Enable compression for storage and transport",implementation:"Use gzip, enable in log shippers"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Log Aggregation Systems"}),e.jsx("p",{className:"text-lg text-slate-600",children:"Compare popular log aggregation stacks, learn query languages, and optimize costs"})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Compare Log Aggregation Stacks"})}),e.jsx(P,{children:e.jsxs(Se,{value:s,onValueChange:l,children:[e.jsxs(be,{className:"grid w-full grid-cols-3",children:[e.jsx(W,{value:"elk",children:"ELK Stack"}),e.jsx(W,{value:"loki",children:"Grafana Loki"}),e.jsx(W,{value:"cloudwatch",children:"CloudWatch Logs"})]}),Object.entries(a).map(([i,n])=>e.jsxs(de,{value:i,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900",children:n.name}),e.jsx(f,{variant:"secondary",children:n.fullName})]}),e.jsx("p",{className:"text-slate-600",children:n.description})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Components"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:n.components.map((m,p)=>e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-1",children:m.name}),e.jsx("div",{className:"text-sm text-slate-600 mb-3",children:m.role}),e.jsx("ul",{className:"space-y-1",children:m.features.map((g,h)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 mt-0.5",children:"âœ“"}),g]},h))})]},p))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-green-700 mb-3",children:"Advantages"}),e.jsx("ul",{className:"space-y-2",children:n.pros.map((m,p)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:"+"}),e.jsx("span",{className:"text-slate-700",children:m})]},p))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-red-700 mb-3",children:"Disadvantages"}),e.jsx("ul",{className:"space-y-2",children:n.cons.map((m,p)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 font-bold",children:"-"}),e.jsx("span",{className:"text-slate-700",children:m})]},p))})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Best For"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.bestFor.map((m,p)=>e.jsx(f,{variant:"outline",className:"bg-blue-50",children:m},p))})]})]},i))]})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Query Language Examples"})}),e.jsx(P,{children:e.jsxs(Se,{value:t,onValueChange:o,children:[e.jsxs(be,{className:"grid w-full grid-cols-3",children:[e.jsx(W,{value:"elk",children:"Elasticsearch"}),e.jsx(W,{value:"loki",children:"LogQL"}),e.jsx(W,{value:"cloudwatch",children:"CloudWatch Insights"})]}),Object.entries(c).map(([i,n])=>e.jsxs(de,{value:i,className:"space-y-4",children:[e.jsx(_,{children:e.jsxs($,{children:[e.jsx("strong",{children:n.language})," - Query language for"," ",a[i].name]})}),e.jsx("div",{className:"space-y-6",children:n.examples.map((m,p)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h6",{className:"font-semibold text-slate-900",children:m.title}),e.jsxs(f,{variant:"secondary",children:["Example ",p+1]})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:m.description}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto text-sm",children:e.jsx("pre",{children:m.query})})]},p))})]},i))]})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Architecture Patterns"})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-4",children:r.map((i,n)=>e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsx("h5",{className:"text-xl font-bold text-slate-900 mb-2",children:i.pattern}),e.jsx("p",{className:"text-slate-600 mb-4",children:i.description}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold text-green-700 mb-2",children:"Use Cases"}),e.jsx("ul",{className:"space-y-1",children:i.useCases.map((m,p)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600",children:"â€¢"}),m]},p))})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold text-orange-700 mb-2",children:"Challenges"}),e.jsx("ul",{className:"space-y-1",children:i.challenges.map((m,p)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-orange-600",children:"â€¢"}),m]},p))})]})]})]},n))})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Cost Optimization Strategies"})}),e.jsxs(P,{children:[e.jsx("div",{className:"space-y-4",children:d.map((i,n)=>e.jsxs("div",{className:" from-green-50 to-blue-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-xl font-bold text-slate-900",children:i.strategy}),e.jsx("p",{className:"text-slate-600 mt-1",children:i.description})]}),e.jsx(f,{className:"bg-green-600 text-white shrink-0",children:i.impact})]}),e.jsxs("div",{className:"bg-white rounded-md p-3 border border-slate-200",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Implementation"}),e.jsx("div",{className:"text-sm text-slate-600",children:i.implementation})]})]},n))}),e.jsx(_,{className:"mt-6 bg-yellow-50 border-yellow-200",children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸ’¡ Pro Tip:"})," Combine multiple strategies for maximum cost savings. A typical optimization can reduce log costs by 70-80% while maintaining observability."]})})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Decision Matrix: Which Stack to Choose?"})}),e.jsx(P,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100",children:[e.jsx("th",{className:"border p-3 text-left font-semibold",children:"Criteria"}),e.jsx("th",{className:"border p-3 text-center font-semibold",children:"ELK Stack"}),e.jsx("th",{className:"border p-3 text-center font-semibold",children:"Grafana Loki"}),e.jsx("th",{className:"border p-3 text-center font-semibold",children:"CloudWatch"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border p-3 font-medium",children:"Setup Complexity"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸ”´ High"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸŸ¡ Medium"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸŸ¢ Low"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border p-3 font-medium",children:"Search Capabilities"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸŸ¢ Excellent"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸŸ¡ Limited"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸŸ¡ Good"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border p-3 font-medium",children:"Cost at Scale"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸ”´ Expensive"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸŸ¢ Low"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸŸ¡ Medium"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border p-3 font-medium",children:"Kubernetes Integration"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸŸ¡ Good"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸŸ¢ Excellent"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸŸ¡ Fair"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border p-3 font-medium",children:"Cloud Native"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸŸ¡ Hybrid"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸŸ¢ Yes"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸŸ¢ AWS Only"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border p-3 font-medium",children:"Learning Curve"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸ”´ Steep"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸŸ¢ Easy"}),e.jsx("td",{className:"border p-3 text-center",children:"ðŸŸ¢ Easy"})]})]})]})})})]})]})}function yl(){const[s,l]=x.useState("javascript"),[t,o]=x.useState("info"),a=[{level:"DEBUG",color:"bg-gray-100 text-gray-800",usage:"Detailed diagnostic information for development",when:"Development and troubleshooting",retention:"1-7 days",volume:"Very High"},{level:"INFO",color:"bg-blue-100 text-blue-800",usage:"General informational messages about application flow",when:"Business events, milestones, state changes",retention:"30-90 days",volume:"High"},{level:"WARN",color:"bg-yellow-100 text-yellow-800",usage:"Potentially harmful situations that aren't errors",when:"Degraded performance, deprecated usage, retries",retention:"90-180 days",volume:"Medium"},{level:"ERROR",color:"bg-red-100 text-red-800",usage:"Error events that don't stop application",when:"Handled exceptions, failed operations",retention:"180-365 days",volume:"Low"},{level:"FATAL",color:"bg-red-600 text-white",usage:"Critical errors that cause application shutdown",when:"Unrecoverable errors, data corruption",retention:"1+ year",volume:"Very Low"}],c={javascript:{language:"JavaScript / Node.js",library:"winston / pino",badExample:{title:"âŒ Unstructured (Bad)",code:`console.log('User login failed for user@example.com');
console.log('API call took 2500ms');
console.log('Payment processed: $99.99 for order 12345');`},goodExample:{title:"âœ… Structured (Good)",code:`logger.info('user_login_failed', {
  email: 'user@example.com',
  reason: 'invalid_password',
  attempt: 3,
  ip: '192.168.1.1',
  correlationId: 'req-abc-123',
  traceId: 'trace-xyz-789'
});

logger.warn('slow_api_call', {
  endpoint: '/api/v1/users',
  duration_ms: 2500,
  threshold_ms: 1000,
  correlationId: 'req-abc-123',
  traceId: 'trace-xyz-789'
});

logger.info('payment_processed', {
  orderId: '12345',
  amount: 99.99,
  currency: 'USD',
  paymentMethod: 'credit_card',
  customerId: 'cust-456',
  correlationId: 'req-abc-123',
  traceId: 'trace-xyz-789'
});`}},python:{language:"Python",library:"structlog / python-json-logger",badExample:{title:"âŒ Unstructured (Bad)",code:`print(f"User {user_id} performed action at {timestamp}")
print(f"Database query slow: {query_time}ms")
print(f"Cache miss for key: {cache_key}")`},goodExample:{title:"âœ… Structured (Good)",code:`logger.info("user_action", 
  user_id=user_id,
  action="purchase",
  timestamp=datetime.utcnow().isoformat(),
  correlation_id=request.correlation_id,
  trace_id=request.trace_id
)

logger.warning("slow_query",
  query_time_ms=query_time,
  query_type="SELECT",
  table="users",
  threshold_ms=100,
  correlation_id=request.correlation_id
)

logger.info("cache_miss",
  key=cache_key,
  cache_type="redis",
  fallback="database",
  correlation_id=request.correlation_id
)`}},java:{language:"Java",library:"Logback / Log4j2 with JSON encoder",badExample:{title:"âŒ Unstructured (Bad)",code:`log.info("Processing order " + orderId);
log.error("Failed to connect to database: " + e.getMessage());
log.debug("Cache stats: hits=" + hits + " misses=" + misses);`},goodExample:{title:"âœ… Structured (Good)",code:`StructuredArguments sa = StructuredArguments.kv;

log.info("order_processing",
  sa("orderId", orderId),
  sa("userId", userId),
  sa("totalAmount", totalAmount),
  sa("correlationId", correlationId),
  sa("traceId", traceId)
);

log.error("database_connection_failed",
  sa("error", e.getMessage()),
  sa("host", dbHost),
  sa("retryCount", retryCount),
  sa("correlationId", correlationId),
  e
);

log.debug("cache_statistics",
  sa("hits", hits),
  sa("misses", misses),
  sa("hitRate", hitRate),
  sa("correlationId", correlationId)
);`}}},r=[{category:"Required (Always Include)",fields:[{name:"timestamp",type:"ISO8601",example:"2024-01-15T10:30:45.123Z",purpose:"When the event occurred"},{name:"level",type:"string",example:"INFO",purpose:"Log severity"},{name:"message",type:"string",example:"user_login_success",purpose:"Event type (machine readable)"},{name:"service",type:"string",example:"api-gateway",purpose:"Which service generated the log"}]},{category:"Tracing (Highly Recommended)",fields:[{name:"correlationId",type:"string",example:"req-abc-123",purpose:"Track single request across services"},{name:"traceId",type:"string",example:"trace-xyz-789",purpose:"Distributed trace ID (OpenTelemetry)"},{name:"spanId",type:"string",example:"span-456",purpose:"Span within a trace"},{name:"parentSpanId",type:"string",example:"span-123",purpose:"Parent span for hierarchy"}]},{category:"Context (Include When Relevant)",fields:[{name:"userId",type:"string",example:"user-123",purpose:"User performing action"},{name:"sessionId",type:"string",example:"sess-xyz",purpose:"User session identifier"},{name:"requestId",type:"string",example:"req-456",purpose:"Unique request identifier"},{name:"environment",type:"string",example:"production",purpose:"Deployment environment"},{name:"version",type:"string",example:"v1.2.3",purpose:"Application version"}]},{category:"Technical Details",fields:[{name:"duration",type:"number",example:"145",purpose:"Operation duration in ms"},{name:"statusCode",type:"number",example:"200",purpose:"HTTP/gRPC status code"},{name:"error",type:"object",example:"{ type, message, stack }",purpose:"Error details"},{name:"metadata",type:"object",example:"{...}",purpose:"Additional context"}]}],d=[{pattern:"API Gateway Injection",description:"Generate correlation ID at the edge and propagate through headers",implementation:`// API Gateway (Entry Point)
app.use((req, res, next) => {
  req.correlationId = req.headers['x-correlation-id'] 
    || \`req-\${Date.now()}-\${Math.random().toString(36)}\`;
  
  res.setHeader('x-correlation-id', req.correlationId);
  
  // Attach to all logs in this request context
  req.log = logger.child({ correlationId: req.correlationId });
  next();
});`,benefits:["Single entry point","Consistent ID format","Easy to implement"]},{pattern:"Async Context Propagation",description:"Use async local storage to propagate context without manual passing",implementation:`// Node.js AsyncLocalStorage
const { AsyncLocalStorage } = require('async_hooks');
const asyncLocalStorage = new AsyncLocalStorage();

app.use((req, res, next) => {
  const context = {
    correlationId: generateId(),
    traceId: req.headers['x-b3-traceid'],
    userId: req.user?.id
  };
  
  asyncLocalStorage.run(context, () => {
    next();
  });
});

// Access anywhere in the call stack
function logWithContext(message, data) {
  const context = asyncLocalStorage.getStore();
  logger.info(message, { ...context, ...data });
}`,benefits:["No manual propagation","Works with async code","Clean API"]},{pattern:"Service Mesh Propagation",description:"Let service mesh (Istio, Linkerd) handle trace context automatically",implementation:`# Istio automatically injects trace headers:
# - x-request-id
# - x-b3-traceid
# - x-b3-spanid
# - x-b3-parentspanid

# Your service just needs to extract and log them
const traceHeaders = [
  'x-request-id',
  'x-b3-traceid',
  'x-b3-spanid',
  'x-b3-parentspanid'
];

app.use((req, res, next) => {
  const traceContext = {};
  traceHeaders.forEach(header => {
    if (req.headers[header]) {
      traceContext[header] = req.headers[header];
    }
  });
  
  req.log = logger.child(traceContext);
  next();
});`,benefits:["Zero code changes for propagation","Standardized headers","Works across languages"]}],i=[{practice:"Use Semantic Event Names",do:"user_login_success, payment_processed, order_created",dont:"Success, Done, OK, Step 1 complete",reason:"Enables easy filtering and aggregation"},{practice:"Consistent Field Names",do:"userId (camelCase) everywhere",dont:"user_id, UserID, userid mixed across services",reason:"Simplifies cross-service queries"},{practice:"Log at Boundaries",do:"Request start/end, service calls, external API calls",dont:"Every variable assignment, loop iteration",reason:"Balance observability with performance"},{practice:"Include Units in Field Names",do:"duration_ms, size_bytes, timeout_seconds",dont:"duration, size, timeout",reason:"Eliminates ambiguity in dashboards"},{practice:"PII Handling",do:"Hash or mask: email: 'u***@example.com'",dont:"Log full emails, passwords, credit cards",reason:"Compliance (GDPR, CCPA, PCI-DSS)"},{practice:"Use Sampling for High-Volume",do:"Log 1% of successful requests, 100% of errors",dont:"Log every single request at high QPS",reason:"Cost reduction without losing visibility"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Structured Logging Best Practices"}),e.jsx("p",{className:"text-lg text-slate-600",children:"Learn how to implement structured logging with correlation IDs and trace context propagation"})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Log Levels Strategy"})}),e.jsxs(P,{children:[e.jsx("div",{className:"space-y-3",children:a.map((n,m)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx(f,{className:n.color,children:n.level}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Volume: ",n.volume]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Usage"}),e.jsx("div",{className:"text-sm text-slate-600",children:n.usage})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"When to Use"}),e.jsx("div",{className:"text-sm text-slate-600",children:n.when})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Retention"}),e.jsx("div",{className:"text-sm text-slate-600",children:n.retention})]})]})]},m))}),e.jsx(_,{className:"mt-6 bg-blue-50 border-blue-200",children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸ’¡ Tip:"})," Use different retention policies per log level to optimize costs. DEBUG logs can be 1-7 days, while ERROR logs should be kept 6-12 months for analysis."]})})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Structured vs Unstructured Logging"})}),e.jsx(P,{children:e.jsxs(Se,{value:s,onValueChange:l,children:[e.jsxs(be,{className:"grid w-full grid-cols-3",children:[e.jsx(W,{value:"javascript",children:"JavaScript"}),e.jsx(W,{value:"python",children:"Python"}),e.jsx(W,{value:"java",children:"Java"})]}),Object.entries(c).map(([n,m])=>e.jsxs(de,{value:n,className:"space-y-6",children:[e.jsx(_,{children:e.jsxs($,{children:[e.jsx("strong",{children:m.language})," using ",m.library]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-red-700 mb-3",children:m.badExample.title}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap word-break: break-word max-w-full",children:e.jsx("code",{className:"text-slate-100",children:m.badExample.code})}),e.jsx("div",{className:"mt-3 text-xs sm:text-sm text-slate-600",children:"Problems: Hard to parse, inconsistent format, no correlation"})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-green-700 mb-3",children:m.goodExample.title}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap word-break: break-word max-w-full",children:e.jsx("code",{className:"text-slate-100",children:m.goodExample.code})}),e.jsx("div",{className:"mt-3 text-xs sm:text-sm text-slate-600",children:"Benefits: Machine parseable, consistent fields, traceable"})]})]})]},n))]})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Standard Log Fields Schema"})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-6",children:r.map((n,m)=>e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-bold text-slate-900 mb-3",children:n.category}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100",children:[e.jsx("th",{className:"border p-2 text-left text-sm",children:"Field"}),e.jsx("th",{className:"border p-2 text-left text-sm",children:"Type"}),e.jsx("th",{className:"border p-2 text-left text-sm",children:"Example"}),e.jsx("th",{className:"border p-2 text-left text-sm",children:"Purpose"})]})}),e.jsx("tbody",{children:n.fields.map((p,g)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-2 text-sm font-mono font-semibold",children:p.name}),e.jsx("td",{className:"border p-2 text-sm",children:e.jsx(f,{variant:"outline",children:p.type})}),e.jsx("td",{className:"border p-2 text-sm font-mono text-slate-600",children:p.example}),e.jsx("td",{className:"border p-2 text-sm text-slate-600",children:p.purpose})]},g))})]})})]},m))})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Correlation ID Patterns"})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-6",children:d.map((n,m)=>e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-xl font-bold text-slate-900",children:n.pattern}),e.jsx("p",{className:"text-slate-600 mt-1",children:n.description})]}),e.jsxs(f,{children:["Pattern ",m+1]})]}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-4 rounded-lg overflow-x-auto text-xs sm:text-sm mb-4 break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:n.implementation})}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold text-green-700 mb-2",children:"Benefits"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.benefits.map((p,g)=>e.jsx(f,{variant:"outline",className:"bg-green-50",children:p},g))})]})]},m))})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Best Practices"})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-4",children:i.map((n,m)=>e.jsxs("div",{className:"border rounded-lg p-5",children:[e.jsx("h5",{className:"text-lg font-bold text-slate-900 mb-3",children:n.practice}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-green-800 mb-2",children:"âœ“ Do"}),e.jsx("code",{className:"text-sm text-green-900 break-all",children:n.do})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-red-800 mb-2",children:"âœ— Don't"}),e.jsx("code",{className:"text-sm text-red-900 break-all",children:n.dont})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Why?"}),e.jsx("div",{className:"text-sm text-blue-900",children:n.reason})]})]},m))})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Complete Example: User Login Flow"})}),e.jsxs(P,{children:[e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-3 sm:p-6 rounded-lg overflow-x-auto text-xs sm:text-sm break-words whitespace-pre-wrap max-w-full",children:e.jsx("code",{className:"text-slate-100",children:`// 1. API Gateway - Request received
{
  "timestamp": "2024-01-15T10:30:45.123Z",
  "level": "INFO",
  "message": "request_received",
  "service": "api-gateway",
  "correlationId": "req-abc-123",
  "traceId": "trace-xyz-789",
  "spanId": "span-001",
  "method": "POST",
  "path": "/api/v1/auth/login",
  "ip": "192.168.1.1",
  "userAgent": "Mozilla/5.0..."
}

// 2. Auth Service - Validating credentials
{
  "timestamp": "2024-01-15T10:30:45.234Z",
  "level": "INFO",
  "message": "validating_credentials",
  "service": "auth-service",
  "correlationId": "req-abc-123",
  "traceId": "trace-xyz-789",
  "spanId": "span-002",
  "parentSpanId": "span-001",
  "email": "u***@example.com",
  "method": "password"
}

// 3. Database - Query executed
{
  "timestamp": "2024-01-15T10:30:45.345Z",
  "level": "INFO",
  "message": "database_query",
  "service": "auth-service",
  "correlationId": "req-abc-123",
  "traceId": "trace-xyz-789",
  "spanId": "span-003",
  "parentSpanId": "span-002",
  "query_type": "SELECT",
  "table": "users",
  "duration_ms": 45
}

// 4. Auth Service - Success
{
  "timestamp": "2024-01-15T10:30:45.456Z",
  "level": "INFO",
  "message": "user_login_success",
  "service": "auth-service",
  "correlationId": "req-abc-123",
  "traceId": "trace-xyz-789",
  "spanId": "span-002",
  "userId": "user-123",
  "sessionId": "sess-456",
  "duration_ms": 222
}

// 5. API Gateway - Response sent
{
  "timestamp": "2024-01-15T10:30:45.567Z",
  "level": "INFO",
  "message": "request_completed",
  "service": "api-gateway",
  "correlationId": "req-abc-123",
  "traceId": "trace-xyz-789",
  "spanId": "span-001",
  "statusCode": 200,
  "duration_ms": 444
}`})}),e.jsx(_,{className:"mt-6 bg-blue-50 border-blue-200",children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸ” Notice:"})," All logs share the same correlationId and traceId, making it easy to trace the entire request flow across multiple services."]})})]})]})]})}function wl(){const[s,l]=x.useState("jaeger"),[t,o]=x.useState("probabilistic"),a={jaeger:{name:"Jaeger",organization:"CNCF (Cloud Native Computing Foundation)",description:"Open-source distributed tracing platform for monitoring microservices",architecture:{components:[{name:"Jaeger Client",role:"Instrumentation libraries",tech:"Go, Java, Node.js, Python, C++, C#"},{name:"Jaeger Agent",role:"Network daemon that listens for spans",tech:"Runs on each host"},{name:"Jaeger Collector",role:"Receives traces and writes to storage",tech:"Scalable, stateless"},{name:"Storage Backend",role:"Stores trace data",tech:"Cassandra, Elasticsearch, Kafka"},{name:"Jaeger Query",role:"API and UI for retrieving traces",tech:"gRPC, HTTP"},{name:"Jaeger UI",role:"Web interface for viewing traces",tech:"React"}]},features:["OpenTelemetry native support","Adaptive sampling","Service dependency analysis","Root cause analysis","Performance/latency optimization","Distributed context propagation"],pros:["CNCF graduated project","Cloud-native friendly","Kubernetes operator","Excellent documentation"],cons:["Requires storage setup","Can be resource intensive","Learning curve"],bestFor:["Kubernetes environments","Cloud-native apps","OpenTelemetry users","Large-scale systems"]},zipkin:{name:"Zipkin",organization:"OpenZipkin",description:"Distributed tracing system for gathering timing data needed to troubleshoot latency problems",architecture:{components:[{name:"Instrumented Libraries",role:"Collect trace data",tech:"Multiple language libraries"},{name:"Transport",role:"Send spans to Zipkin",tech:"HTTP, Kafka, RabbitMQ"},{name:"Collector",role:"Validates and stores spans",tech:"Optional: Kafka, RabbitMQ"},{name:"Storage",role:"Stores trace data",tech:"In-memory, MySQL, Cassandra, Elasticsearch"},{name:"API",role:"Query interface",tech:"RESTful JSON API"},{name:"UI",role:"Web interface",tech:"React-based"}]},features:["Simple deployment model","Low overhead instrumentation","Service dependency diagrams","Trace search and visualization","Configurable storage backends","Docker support"],pros:["Mature and stable","Simple to set up","Low resource requirements","Good community"],cons:["Less feature-rich than Jaeger","Limited sampling options","Basic UI"],bestFor:["Small to medium deployments","Simple tracing needs","Quick setup","Resource-constrained environments"]},xray:{name:"AWS X-Ray",organization:"Amazon Web Services",description:"Fully managed distributed tracing service for AWS applications",architecture:{components:[{name:"X-Ray SDK",role:"Instrument applications",tech:"Java, Node.js, Python, Go, .NET, Ruby"},{name:"X-Ray Daemon",role:"Collect and forward traces",tech:"Runs on EC2/ECS/Lambda"},{name:"X-Ray Service",role:"Store and process traces",tech:"Fully managed"},{name:"Service Map",role:"Visualize dependencies",tech:"Automatic generation"},{name:"Analytics",role:"Query and analyze traces",tech:"Console and API"},{name:"Insights",role:"Detect anomalies",tech:"ML-powered"}]},features:["Deep AWS service integration","Automatic service map generation","Anomaly detection with ML","Group traces by annotations","Integration with CloudWatch","Managed infrastructure"],pros:["Zero infrastructure management","Native AWS integration","Pay-per-use","Automatic instrumentation for some services"],cons:["AWS lock-in","Cost at scale","Limited customization","Vendor-specific format"],bestFor:["AWS-heavy workloads","Serverless applications","Quick AWS setup","CloudWatch users"]}},c={probabilistic:{name:"Probabilistic Sampling",description:"Sample a fixed percentage of all traces",example:"Sample 10% of all requests",implementation:`// OpenTelemetry SDK
const { ParentBasedSampler, TraceIdRatioBasedSampler } = require('@opentelemetry/sdk-trace-base');

const sampler = new ParentBasedSampler({
  root: new TraceIdRatioBasedSampler(0.1), // 10% sampling
});`,pros:["Simple to implement","Predictable cost","Statistically representative"],cons:["May miss rare errors","Fixed overhead","Not adaptive"],useCases:["High-volume production","Cost-sensitive environments","Uniform traffic patterns"]},rateLimit:{name:"Rate Limiting Sampling",description:"Sample up to N traces per second per service",example:"Maximum 10 traces/second per service",implementation:`// Jaeger configuration
{
  "service_strategies": {
    "api-service": {
      "type": "rateLimiting",
      "param": 10  // 10 traces per second max
    }
  }
}`,pros:["Predictable trace volume","Cost control","Per-service limits"],cons:["May miss spikes","Complex configuration","Not traffic-aware"],useCases:["Cost optimization","Storage constraints","Multiple services with different volumes"]},adaptive:{name:"Adaptive Sampling",description:"Dynamically adjust sampling based on traffic patterns and anomalies",example:"100% during errors, 1% during normal operation",implementation:`// Custom adaptive sampler
class AdaptiveSampler {
  constructor() {
    this.errorRate = 1.0;    // Always sample errors
    this.normalRate = 0.01;  // 1% for normal requests
    this.slowRate = 0.5;     // 50% for slow requests (>1s)
  }
  
  shouldSample(span) {
    if (span.statusCode >= 500) return true;
    if (span.duration > 1000) return Math.random() < this.slowRate;
    return Math.random() < this.normalRate;
  }
}`,pros:["Intelligent sampling","Captures important traces","Adapts to conditions"],cons:["Complex to implement","Requires tuning","Less predictable"],useCases:["Production systems","Error detection priority","Variable traffic patterns"]},tailBased:{name:"Tail-Based Sampling",description:"Make sampling decision after trace completes, based on final attributes",example:"Keep all traces with errors or >5s latency",implementation:`// OpenTelemetry Collector tail sampling processor
processors:
  tail_sampling:
    decision_wait: 10s
    policies:
      - name: errors
        type: status_code
        status_code: {status_codes: [ERROR]}
      - name: slow
        type: latency
        latency: {threshold_ms: 5000}
      - name: sample-normal
        type: probabilistic
        probabilistic: {sampling_percentage: 1}`,pros:["Keeps all important traces","Makes informed decisions","Optimal signal-to-noise"],cons:["Requires buffering","Adds latency","Complex infrastructure"],useCases:["Quality over quantity","Error investigation","SLA monitoring"]}},r=[{aspect:"CPU Overhead",unoptimized:"5-15%",optimized:"1-3%",tips:["Use sampling (don't trace everything)","Async span export","Batch span sending","Use agent-based collection"]},{aspect:"Memory Usage",unoptimized:"50-200 MB per service",optimized:"10-30 MB per service",tips:["Limit span attributes","Set max span queue size","Regular garbage collection","Use memory-efficient serialization"]},{aspect:"Network Bandwidth",unoptimized:"1-5 MB/s per service",optimized:"100-500 KB/s per service",tips:["Compress spans (gzip)","Batch spans before sending","Use binary formats (protobuf)","Local agent aggregation"]},{aspect:"Latency Addition",unoptimized:"50-200 ms per request",optimized:"< 1 ms per request",tips:["Async instrumentation","Non-blocking span creation","Background export","Remove synchronous calls"]}],d={phase1:{title:"Phase 1: Start Simple (Week 1-2)",steps:["Choose a tracing backend (Jaeger recommended)","Deploy tracing infrastructure (Docker/Kubernetes)","Instrument one service with auto-instrumentation","Verify traces appear in UI","Start with 1% sampling"],code:`// Node.js with OpenTelemetry auto-instrumentation
const { NodeSDK } = require('@opentelemetry/sdk-node');
const { JaegerExporter } = require('@opentelemetry/exporter-jaeger');

const sdk = new NodeSDK({
  traceExporter: new JaegerExporter({
    endpoint: 'http://jaeger:14268/api/traces',
  }),
  serviceName: 'my-service',
});

sdk.start();`},phase2:{title:"Phase 2: Add Custom Spans (Week 3-4)",steps:["Add custom spans for business operations","Add meaningful attributes to spans","Instrument database calls","Instrument HTTP clients","Add span events for important milestones"],code:`const { trace } = require('@opentelemetry/api');

async function processOrder(orderId) {
  const tracer = trace.getTracer('order-service');
  
  return tracer.startActiveSpan('process-order', async (span) => {
    span.setAttribute('order.id', orderId);
    span.setAttribute('order.type', 'premium');
    
    try {
      const order = await fetchOrder(orderId);
      span.addEvent('order-fetched');
      
      const result = await chargePayment(order);
      span.addEvent('payment-charged', { amount: result.amount });
      
      span.setStatus({ code: SpanStatusCode.OK });
      return result;
    } catch (error) {
      span.recordException(error);
      span.setStatus({ code: SpanStatusCode.ERROR });
      throw error;
    } finally {
      span.end();
    }
  });
}`},phase3:{title:"Phase 3: Optimize & Scale (Month 2+)",steps:["Implement adaptive sampling","Set up tail-based sampling","Configure storage retention","Create service dependency dashboards","Integrate with alerting"],code:`// Advanced sampling configuration
{
  "default_strategy": {
    "type": "probabilistic",
    "param": 0.01
  },
  "per_operation_strategies": {
    "GET /health": {
      "type": "probabilistic",
      "param": 0.0  // Don't trace health checks
    },
    "POST /api/payment": {
      "type": "probabilistic",
      "param": 1.0  // Always trace payments
    }
  }
}`}},i=[{pitfall:"Over-instrumentation",problem:"Adding too many custom spans causes performance issues",solution:"Focus on service boundaries and business-critical operations only",example:"âœ— Span per loop iteration â†’ âœ“ Span per database query"},{pitfall:"High-Cardinality Attributes",problem:"Using user IDs, request IDs as span attributes explodes storage",solution:"Use low-cardinality attributes for filtering, store high-cardinality in events",example:"âœ— span.setAttribute('user.id', userId) â†’ âœ“ span.setAttribute('user.tier', 'premium')"},{pitfall:"Synchronous Span Export",problem:"Blocking request thread to send spans to collector",solution:"Always use async/background export with batching",example:"Use BatchSpanProcessor, not SimpleSpanProcessor in production"},{pitfall:"Missing Context Propagation",problem:"Traces break when crossing service boundaries",solution:"Ensure trace context headers are propagated in all HTTP/gRPC calls",example:"Use propagation.inject() before making requests"},{pitfall:"No Sampling Strategy",problem:"Tracing 100% in production causes cost explosion",solution:"Start with 1-10% sampling, use tail-based for important traces",example:"Probabilistic sampling + always sample errors"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Distributed Tracing Deep Dive"}),e.jsx("p",{className:"text-lg text-slate-600",children:"Compare tracing tools, learn sampling strategies, and understand performance impact"})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"What is Distributed Tracing?"})}),e.jsx(P,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-slate-700",children:"Distributed tracing tracks requests as they flow through multiple services, creating a timeline of operations (spans) that show latency, errors, and dependencies."}),e.jsxs("div",{className:"bg-slate-50 border rounded-lg p-6",children:[e.jsx("h5",{className:"font-semibold text-slate-900 mb-3",children:"Key Concepts"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-700",children:"Trace"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Complete journey of a request through all services"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-700",children:"Span"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Single operation within a trace (e.g., database query)"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-700",children:"Trace ID"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Unique identifier shared across all spans in a trace"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-700",children:"Span ID"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Unique identifier for each span"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-700",children:"Parent Span ID"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Creates parent-child relationship between spans"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-700",children:"Attributes"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Key-value metadata attached to spans"})]})]})]})]})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Distributed Tracing Tools Comparison"})}),e.jsx(P,{children:e.jsxs(Se,{value:s,onValueChange:l,children:[e.jsxs(be,{className:"grid w-full grid-cols-3",children:[e.jsx(W,{value:"jaeger",children:"Jaeger"}),e.jsx(W,{value:"zipkin",children:"Zipkin"}),e.jsx(W,{value:"xray",children:"AWS X-Ray"})]}),Object.entries(a).map(([n,m])=>e.jsxs(de,{value:n,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900",children:m.name}),e.jsx(f,{variant:"secondary",children:m.organization})]}),e.jsx("p",{className:"text-slate-600",children:m.description})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Architecture Components"}),e.jsx("div",{className:"space-y-2",children:m.architecture.components.map((p,g)=>e.jsxs("div",{className:"flex items-start gap-3 bg-slate-50 rounded-lg p-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-bold shrink-0",children:g+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-slate-900",children:p.name}),e.jsx("div",{className:"text-sm text-slate-600",children:p.role}),e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:p.tech})]})]},g))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Key Features"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:m.features.map((p,g)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 mt-0.5",children:"âœ“"}),e.jsx("span",{className:"text-slate-700 text-sm",children:p})]},g))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-green-700 mb-3",children:"Advantages"}),e.jsx("ul",{className:"space-y-2",children:m.pros.map((p,g)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:"+"}),e.jsx("span",{className:"text-slate-700",children:p})]},g))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-red-700 mb-3",children:"Disadvantages"}),e.jsx("ul",{className:"space-y-2",children:m.cons.map((p,g)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 font-bold",children:"-"}),e.jsx("span",{className:"text-slate-700",children:p})]},g))})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Best For"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.bestFor.map((p,g)=>e.jsx(f,{variant:"outline",className:"bg-blue-50",children:p},g))})]})]},n))]})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Sampling Strategies"})}),e.jsx(P,{children:e.jsxs(Se,{value:t,onValueChange:o,children:[e.jsxs(be,{className:"grid w-full grid-cols-2 lg:grid-cols-4",children:[e.jsx(W,{value:"probabilistic",children:"Probabilistic"}),e.jsx(W,{value:"rateLimit",children:"Rate Limiting"}),e.jsx(W,{value:"adaptive",children:"Adaptive"}),e.jsx(W,{value:"tailBased",children:"Tail-Based"})]}),Object.entries(c).map(([n,m])=>e.jsxs(de,{value:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-xl font-bold text-slate-900 mb-2",children:m.name}),e.jsx("p",{className:"text-slate-600 mb-2",children:m.description}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-800",children:"Example"}),e.jsx("div",{className:"text-sm text-blue-900",children:m.example})]})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold text-slate-900 mb-2",children:"Implementation"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:m.implementation})})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold text-green-700 mb-2",children:"Pros"}),e.jsx("ul",{className:"space-y-1",children:m.pros.map((p,g)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600",children:"+"}),p]},g))})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold text-red-700 mb-2",children:"Cons"}),e.jsx("ul",{className:"space-y-1",children:m.cons.map((p,g)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600",children:"-"}),p]},g))})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold text-blue-700 mb-2",children:"Use Cases"}),e.jsx("ul",{className:"space-y-1",children:m.useCases.map((p,g)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"â€¢"}),p]},g))})]})]})]},n))]})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Performance Impact & Optimization"})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-6",children:r.map((n,m)=>e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsx("h5",{className:"text-xl font-bold text-slate-900 mb-4",children:n.aspect}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-red-800 mb-1",children:"Unoptimized"}),e.jsx("div",{className:"text-2xl font-bold text-red-900",children:n.unoptimized})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-green-800 mb-1",children:"Optimized"}),e.jsx("div",{className:"text-2xl font-bold text-green-900",children:n.optimized})]})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold text-slate-900 mb-2",children:"Optimization Tips"}),e.jsx("ul",{className:"space-y-1",children:n.tips.map((p,g)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"â†’"}),p]},g))})]})]},m))})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Implementation Roadmap"})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-6",children:Object.values(d).map((n,m)=>e.jsxs("div",{className:"border-l-4 border-blue-600 pl-6",children:[e.jsx("h5",{className:"text-xl font-bold text-slate-900 mb-3",children:n.title}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:"font-semibold text-slate-900 mb-2",children:"Steps"}),e.jsx("ol",{className:"space-y-2",children:n.steps.map((p,g)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm",children:g+1}),e.jsx("span",{className:"text-slate-700 pt-0.5",children:p})]},g))})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold text-slate-900 mb-2",children:"Code Example"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:n.code})})]})]},m))})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Common Pitfalls & Solutions"})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-4",children:i.map((n,m)=>e.jsxs("div",{className:"border rounded-lg p-5",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 text-red-700 flex items-center justify-center text-lg font-bold shrink-0",children:"!"}),e.jsx("div",{className:"flex-1",children:e.jsx("h5",{className:"text-lg font-bold text-slate-900",children:n.pitfall})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 ml-11",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-red-800 mb-1",children:"âŒ Problem"}),e.jsx("div",{className:"text-sm text-red-900",children:n.problem})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-green-800 mb-1",children:"âœ… Solution"}),e.jsx("div",{className:"text-sm text-green-900",children:n.solution})]})]}),e.jsxs("div",{className:"ml-11 mt-3 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Example"}),e.jsx("code",{className:"text-sm text-blue-900",children:n.example})]})]},m))})})]})]})}function Sl(){const[s,l]=x.useState("datadog"),t={datadog:{name:"Datadog",type:"Commercial SaaS",tagline:"Unified observability platform for cloud-scale applications",pricing:{start:"$15/host/month",apm:"$31/host/month",logs:"$0.10/GB ingested",note:"Volume discounts available"},features:{core:["APM with distributed tracing","Infrastructure monitoring","Log management","Real-time metrics","Custom dashboards","AI-powered anomaly detection"],advanced:["Profiling (CPU, memory, I/O)","Database monitoring","Network performance monitoring","Security monitoring (CSM)","Synthetic monitoring","RUM (Real User Monitoring)"],integrations:"600+ integrations"},strengths:["All-in-one platform (metrics, logs, traces, RUM)","Excellent visualization and dashboards","Strong AWS/Azure/GCP integration","Powerful query language (DQL)","Great for cloud-native applications","Extensive marketplace integrations"],weaknesses:["Expensive at scale","Can be overwhelming for beginners","Vendor lock-in concerns","Complex pricing model"],bestFor:["Cloud-native applications","Multi-cloud environments","Teams wanting unified observability","Companies with big budgets"],deployment:"SaaS only"},newRelic:{name:"New Relic",type:"Commercial SaaS",tagline:"All-in-one observability platform with simple pricing",pricing:{start:"$0 (100GB/month free)",standard:"$0.30/GB ingested",pro:"$0.50/GB ingested",note:"Consumption-based pricing"},features:{core:["APM with distributed tracing","Infrastructure monitoring","Log management","Custom queries (NRQL)","Alerts and notifications","Service maps"],advanced:["Browser monitoring (RUM)","Mobile app monitoring","Synthetic monitoring","Applied Intelligence (AI/ML)","Vulnerability management","CodeStream (IDE integration)"],integrations:"550+ integrations"},strengths:["Simple consumption-based pricing","Generous free tier (100GB/month)","Strong APM capabilities","NRQL is powerful and flexible","Good mobile app monitoring","Applied Intelligence for anomaly detection"],weaknesses:["UI can feel dated","Data ingestion can get expensive","Less extensive integrations than Datadog","Learning curve for NRQL"],bestFor:["Cost-conscious teams","Full-stack visibility needs","Teams already using consumption-based pricing","Mobile app developers"],deployment:"SaaS only"},dynatrace:{name:"Dynatrace",type:"Commercial SaaS/On-Prem",tagline:"AI-powered full-stack monitoring with automatic root cause analysis",pricing:{start:"$69/host/month (8GB)",fullStack:"Custom enterprise pricing",logs:"$0.20/GB ingested",note:"Host-based + consumption"},features:{core:["Automatic discovery and instrumentation","Full-stack monitoring","Distributed tracing","Log management","Infrastructure monitoring","Davis AI engine"],advanced:["Automatic root cause analysis","Business analytics","Application security","Session replay","Synthetic monitoring","Cloud automation"],integrations:"500+ integrations"},strengths:["Best-in-class automatic instrumentation","Davis AI provides intelligent insights","Excellent root cause analysis","Strong for enterprise environments","Can be deployed on-premises","Great for complex microservices"],weaknesses:["Most expensive option","Overkill for small teams","Complex setup for on-prem","Steep learning curve"],bestFor:["Large enterprises","Complex microservices architectures","Teams needing AI-driven insights","Regulated industries requiring on-prem"],deployment:"SaaS or On-Premises"},elasticAPM:{name:"Elastic APM",type:"Open Source / Commercial",tagline:"Part of the Elastic Stack, deep integration with logs and metrics",pricing:{start:"Free (open source)",cloud:"$95/month (starts)",note:"Self-hosted free, Elastic Cloud paid"},features:{core:["Distributed tracing","Error tracking","Metrics collection","Service maps","Transaction sampling","Deep Elasticsearch integration"],advanced:["Real User Monitoring (RUM)","Log correlation","Machine learning anomaly detection","Alerting","Custom dashboards in Kibana","Infrastructure monitoring"],integrations:"Elasticsearch ecosystem"},strengths:["Free and open source","Deep integration with ELK Stack","Great if already using Elasticsearch","Flexible and customizable","Self-hosted option available","Good for cost optimization"],weaknesses:["Requires ELK Stack knowledge","Manual setup and maintenance","Fewer integrations than competitors","Less polished UI"],bestFor:["Teams already using ELK","Budget-conscious organizations","On-premises requirements","Customization needs"],deployment:"Self-hosted or Elastic Cloud"},appDynamics:{name:"AppDynamics (Cisco)",type:"Commercial SaaS/On-Prem",tagline:"Business transaction monitoring with deep code-level insights",pricing:{start:"Custom pricing",infrastructure:"$6/CPU core/month",apm:"$33/CPU core/month",note:"Enterprise pricing"},features:{core:["Business transaction monitoring","Code-level diagnostics","Application mapping","Infrastructure monitoring","End-user monitoring","Business iQ"],advanced:["Database visibility","Server visibility","Network visibility","Business iQ dashboards","Cognitive Engine (AI)","Cloud migration support"],integrations:"Cisco ecosystem + third-party"},strengths:["Excellent business-focused monitoring","Deep code-level visibility","Strong for Java applications","Good for large enterprises","Integration with Cisco networking","Business transaction correlation"],weaknesses:["Expensive","Complex licensing","Heavy agent footprint","Better for monoliths than microservices","UI feels enterprise/legacy"],bestFor:["Large enterprises","Java-heavy environments","Business-critical applications","Organizations using Cisco infrastructure"],deployment:"SaaS or On-Premises"},grafana:{name:"Grafana Cloud",type:"Open Source / Commercial",tagline:"Open-source observability with metrics, logs, and traces",pricing:{start:"Free (14-day retention)",pro:"$8/month (50GB metrics, 50GB logs)",advanced:"Custom pricing",note:"Self-hosted free"},features:{core:["Prometheus metrics","Loki logs","Tempo traces","Unified dashboards","Alerting","Multiple data sources"],advanced:["Synthetic monitoring","Incident management (OnCall)","Application observability","Frontend observability","Machine learning","SLO tracking"],integrations:"100+ data sources"},strengths:["Open source core","Best visualization capabilities","Flexible data source support","Cost-effective","Strong Kubernetes integration","Active community"],weaknesses:["Requires multiple tools (Prometheus, Loki, Tempo)","More setup complexity","Less integrated than commercial solutions","Self-hosted requires expertise"],bestFor:["Cloud-native applications","Kubernetes environments","Teams wanting open source","Budget-conscious organizations"],deployment:"Self-hosted or Grafana Cloud"}},o=[{criteria:"Ease of Setup",datadog:"ðŸŸ¢ Easy",newRelic:"ðŸŸ¢ Easy",dynatrace:"ðŸŸ¡ Medium",elasticAPM:"ðŸ”´ Complex",appDynamics:"ðŸ”´ Complex",grafana:"ðŸŸ¡ Medium"},{criteria:"Auto-instrumentation",datadog:"ðŸŸ¢ Excellent",newRelic:"ðŸŸ¢ Excellent",dynatrace:"ðŸŸ¢ Best-in-class",elasticAPM:"ðŸŸ¡ Good",appDynamics:"ðŸŸ¢ Excellent",grafana:"ðŸŸ¡ Limited"},{criteria:"Cost (Small Team)",datadog:"ðŸ”´ High",newRelic:"ðŸŸ¢ Free tier",dynatrace:"ðŸ”´ Highest",elasticAPM:"ðŸŸ¢ Free (OSS)",appDynamics:"ðŸ”´ High",grafana:"ðŸŸ¢ Free tier"},{criteria:"Cost (Enterprise)",datadog:"ðŸ”´ Very High",newRelic:"ðŸŸ¡ Medium",dynatrace:"ðŸ”´ Highest",elasticAPM:"ðŸŸ¢ Low",appDynamics:"ðŸ”´ Very High",grafana:"ðŸŸ¢ Low"},{criteria:"Cloud Native",datadog:"ðŸŸ¢ Excellent",newRelic:"ðŸŸ¢ Excellent",dynatrace:"ðŸŸ¢ Excellent",elasticAPM:"ðŸŸ¡ Good",appDynamics:"ðŸŸ¡ Fair",grafana:"ðŸŸ¢ Excellent"},{criteria:"Kubernetes Support",datadog:"ðŸŸ¢ Excellent",newRelic:"ðŸŸ¢ Excellent",dynatrace:"ðŸŸ¢ Excellent",elasticAPM:"ðŸŸ¡ Good",appDynamics:"ðŸŸ¡ Good",grafana:"ðŸŸ¢ Best"},{criteria:"Learning Curve",datadog:"ðŸŸ¡ Medium",newRelic:"ðŸŸ¡ Medium",dynatrace:"ðŸ”´ Steep",elasticAPM:"ðŸ”´ Steep",appDynamics:"ðŸ”´ Steep",grafana:"ðŸŸ¡ Medium"},{criteria:"Customization",datadog:"ðŸŸ¡ Limited",newRelic:"ðŸŸ¡ Limited",dynatrace:"ðŸŸ¡ Medium",elasticAPM:"ðŸŸ¢ High",appDynamics:"ðŸŸ¡ Medium",grafana:"ðŸŸ¢ Highest"},{criteria:"On-Premises Option",datadog:"âŒ No",newRelic:"âŒ No",dynatrace:"âœ… Yes",elasticAPM:"âœ… Yes",appDynamics:"âœ… Yes",grafana:"âœ… Yes"}],a=[{scenario:"Startup / Small Team (< 10 people)",recommendation:"New Relic or Grafana Cloud",reasoning:"Free tiers, easy setup, room to grow",alternatives:"Elastic APM if already using ELK"},{scenario:"Mid-size Company (10-100 people)",recommendation:"Datadog or New Relic",reasoning:"Good balance of features, support, and cost",alternatives:"Grafana Cloud for cost optimization"},{scenario:"Large Enterprise (100+ people)",recommendation:"Dynatrace or Datadog",reasoning:"Enterprise features, scale, dedicated support",alternatives:"AppDynamics if using Cisco infrastructure"},{scenario:"Kubernetes-Native",recommendation:"Grafana Stack or Datadog",reasoning:"Best Kubernetes integration and cloud-native features",alternatives:"New Relic for simpler setup"},{scenario:"Budget Constrained",recommendation:"Grafana Cloud or Elastic APM",reasoning:"Open source core, free self-hosting option",alternatives:"New Relic free tier"},{scenario:"On-Premises Requirement",recommendation:"Dynatrace or Elastic APM",reasoning:"Proven on-prem deployment, full feature parity",alternatives:"Grafana self-hosted or AppDynamics"},{scenario:"Already Using AWS",recommendation:"Datadog or Grafana",reasoning:"Strong AWS integration, X-Ray alternative",alternatives:"New Relic for simplicity"},{scenario:"Legacy Java Applications",recommendation:"AppDynamics or Dynatrace",reasoning:"Best Java support, code-level visibility",alternatives:"New Relic for modern cloud migration"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-4",children:"APM Tools Comparison"}),e.jsx("p",{className:"text-lg text-slate-600",children:"Compare leading Application Performance Monitoring tools to find the best fit for your needs"})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"What is Application Performance Monitoring (APM)?"})}),e.jsxs(P,{children:[e.jsx("p",{className:"text-slate-700 mb-4",children:"APM tools monitor application performance, track transactions end-to-end, identify bottlenecks, and provide insights into application health and user experience."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ“Š"}),e.jsx("div",{className:"font-semibold text-slate-900 mb-1",children:"Performance Metrics"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Response time, throughput, error rates, resource usage"})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ”"}),e.jsx("div",{className:"font-semibold text-slate-900 mb-1",children:"Transaction Tracing"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Follow requests across services, databases, and external APIs"})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸš¨"}),e.jsx("div",{className:"font-semibold text-slate-900 mb-1",children:"Proactive Alerts"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Detect anomalies and issues before users are impacted"})]})]})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Detailed Tool Comparison"})}),e.jsx(P,{children:e.jsxs(Se,{value:s,onValueChange:l,children:[e.jsxs(be,{className:"grid w-full grid-cols-3 lg:grid-cols-6",children:[e.jsx(W,{value:"datadog",children:"Datadog"}),e.jsx(W,{value:"newRelic",children:"New Relic"}),e.jsx(W,{value:"dynatrace",children:"Dynatrace"}),e.jsx(W,{value:"elasticAPM",children:"Elastic APM"}),e.jsx(W,{value:"appDynamics",children:"AppDynamics"}),e.jsx(W,{value:"grafana",children:"Grafana"})]}),Object.entries(t).map(([c,r])=>e.jsxs(de,{value:c,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900",children:r.name}),e.jsx(f,{variant:"secondary",children:r.type})]}),e.jsx("p",{className:"text-slate-600 italic",children:r.tagline})]}),e.jsxs("div",{className:" from-blue-50 to-purple-50 rounded-lg p-6",children:[e.jsx("h5",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Pricing"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600",children:"Starting Price"}),e.jsx("div",{className:"text-xl font-bold text-slate-900",children:r.pricing.start})]}),r.pricing.apm&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600",children:"APM Pricing"}),e.jsx("div",{className:"text-xl font-bold text-slate-900",children:r.pricing.apm})]}),r.pricing.logs&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600",children:"Log Pricing"}),e.jsx("div",{className:"text-xl font-bold text-slate-900",children:r.pricing.logs})]}),r.pricing.fullStack&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600",children:"Full Stack"}),e.jsx("div",{className:"text-xl font-bold text-slate-900",children:r.pricing.fullStack})]})]}),e.jsx("div",{className:"text-sm text-slate-600 mt-3",children:r.pricing.note})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Features"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-700 mb-2",children:"Core Features"}),e.jsx("ul",{className:"space-y-1",children:r.features.core.map((d,i)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600 mt-0.5",children:"âœ“"}),d]},i))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-purple-700 mb-2",children:"Advanced Features"}),e.jsx("ul",{className:"space-y-1",children:r.features.advanced.map((d,i)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 mt-0.5",children:"âœ“"}),d]},i))})]})]}),e.jsxs("div",{className:"mt-4 bg-slate-50 rounded-lg p-3",children:[e.jsx("span",{className:"font-semibold text-slate-900",children:"Integrations:"})," ",e.jsx("span",{className:"text-slate-700",children:r.features.integrations})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-green-700 mb-3",children:"Strengths"}),e.jsx("ul",{className:"space-y-2",children:r.strengths.map((d,i)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:"+"}),e.jsx("span",{className:"text-slate-700",children:d})]},i))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-red-700 mb-3",children:"Weaknesses"}),e.jsx("ul",{className:"space-y-2",children:r.weaknesses.map((d,i)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 font-bold",children:"-"}),e.jsx("span",{className:"text-slate-700",children:d})]},i))})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Best For"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.bestFor.map((d,i)=>e.jsx(f,{variant:"outline",className:"bg-blue-50",children:d},i))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Deployment Options"}),e.jsx(f,{className:"",children:r.deployment})]})]})]},c))]})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Quick Comparison Matrix"})}),e.jsxs(P,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100",children:[e.jsx("th",{className:"border p-2 text-left font-semibold",children:"Criteria"}),e.jsx("th",{className:"border p-2 text-center font-semibold",children:"Datadog"}),e.jsx("th",{className:"border p-2 text-center font-semibold",children:"New Relic"}),e.jsx("th",{className:"border p-2 text-center font-semibold",children:"Dynatrace"}),e.jsx("th",{className:"border p-2 text-center font-semibold",children:"Elastic APM"}),e.jsx("th",{className:"border p-2 text-center font-semibold",children:"AppDynamics"}),e.jsx("th",{className:"border p-2 text-center font-semibold",children:"Grafana"})]})}),e.jsx("tbody",{children:o.map((c,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-2 font-medium",children:c.criteria}),e.jsx("td",{className:"border p-2 text-center",children:c.datadog}),e.jsx("td",{className:"border p-2 text-center",children:c.newRelic}),e.jsx("td",{className:"border p-2 text-center",children:c.dynatrace}),e.jsx("td",{className:"border p-2 text-center",children:c.elasticAPM}),e.jsx("td",{className:"border p-2 text-center",children:c.appDynamics}),e.jsx("td",{className:"border p-2 text-center",children:c.grafana})]},r))})]})}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸŸ¢"}),e.jsx("span",{className:"text-slate-700",children:"Excellent"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸŸ¡"}),e.jsx("span",{className:"text-slate-700",children:"Good/Medium"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ”´"}),e.jsx("span",{className:"text-slate-700",children:"Limited/Expensive"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"âœ…/âŒ"}),e.jsx("span",{className:"text-slate-700",children:"Available/Not Available"})]})]})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Decision Guide: Which Tool Should You Choose?"})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-4",children:a.map((c,r)=>e.jsxs("div",{className:"border rounded-lg p-5",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-bold shrink-0",children:r+1}),e.jsx("div",{className:"flex-1",children:e.jsx("h5",{className:"text-lg font-bold text-slate-900 mb-1",children:c.scenario})})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 ml-11",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-green-800 mb-1",children:"âœ“ Recommendation"}),e.jsx("div",{className:"font-bold text-green-900",children:c.recommendation})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Why?"}),e.jsx("div",{className:"text-sm text-blue-900",children:c.reasoning})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-800 mb-1",children:"Alternatives"}),e.jsx("div",{className:"text-sm text-slate-700",children:c.alternatives})]})]})]},r))})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Cost Considerations"})}),e.jsxs(P,{children:[e.jsx(_,{className:"bg-yellow-50 border-yellow-200 mb-6",children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸ’° Important:"})," APM costs can scale unexpectedly. Always test pricing calculators and monitor usage closely."]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-5",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-2",children:"Small Startup (5 engineers, 10 hosts)"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:"Datadog:"}),e.jsx("span",{className:"font-semibold",children:"$310-500/month"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:"New Relic:"}),e.jsx("span",{className:"font-semibold",children:"$0-100/month (free tier)"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:"Dynatrace:"}),e.jsx("span",{className:"font-semibold",children:"$690+/month"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:"Elastic APM:"}),e.jsx("span",{className:"font-semibold",children:"$95-200/month"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:"Grafana Cloud:"}),e.jsx("span",{className:"font-semibold",children:"$0-50/month (free tier)"})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-5",children:[e.jsx("h5",{className:"font-bold text-slate-900 mb-2",children:"Medium Company (50 engineers, 100 hosts)"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:"Datadog:"}),e.jsx("span",{className:"font-semibold",children:"$3,000-6,000/month"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:"New Relic:"}),e.jsx("span",{className:"font-semibold",children:"$1,500-3,000/month"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:"Dynatrace:"}),e.jsx("span",{className:"font-semibold",children:"$6,900+/month"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:"Elastic APM:"}),e.jsx("span",{className:"font-semibold",children:"$500-1,500/month (self-hosted cheaper)"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:"Grafana Cloud:"}),e.jsx("span",{className:"font-semibold",children:"$500-1,000/month"})]})]})]})]})]})]})]})}function Cl(){const[s,l]=x.useState(null),t=[{type:"Uptime / Ping Monitoring",icon:"ðŸ“",description:"Simple HTTP/HTTPS checks to verify service availability",frequency:"Every 1-5 minutes",useCases:["Website availability","API endpoint health","DNS resolution","SSL certificate monitoring"],tools:["Pingdom","UptimeRobot","StatusCake","Datadog Synthetics"],example:`// Simple uptime check configuration
{
  "name": "API Health Check",
  "url": "https://api.example.com/health",
  "method": "GET",
  "frequency": "1m",
  "locations": ["us-east", "eu-west", "ap-south"],
  "assertions": {
    "statusCode": 200,
    "responseTime": "<500ms"
  },
  "alerts": {
    "downtime": "3 consecutive failures",
    "degraded": "response time > 1s"
  }
}`},{type:"Transaction / Browser Monitoring",icon:"ðŸŒ",description:"Simulate multi-step user journeys through your application",frequency:"Every 5-15 minutes",useCases:["Login flows","Checkout process","Form submissions","Multi-page workflows"],tools:["Selenium","Playwright","Datadog Browser Tests","New Relic Synthetics"],example:`// Browser test example (Playwright)
async function checkoutFlow(page) {
  // Step 1: Navigate to homepage
  await page.goto('https://example.com');
  await page.waitForLoadState('networkidle');
  
  // Step 2: Search for product
  await page.fill('[data-test="search"]', 'laptop');
  await page.click('[data-test="search-btn"]');
  await page.waitForSelector('[data-test="product"]');
  
  // Step 3: Add to cart
  await page.click('[data-test="add-to-cart"]');
  await page.waitForSelector('[data-test="cart-count"]');
  
  // Step 4: Checkout
  await page.click('[data-test="checkout"]');
  await page.fill('[data-test="email"]', 'test@example.com');
  
  // Assertions
  const total = await page.textContent('[data-test="total"]');
  expect(total).toMatch(/\\$\\d+\\.\\d{2}/);
}`},{type:"API Monitoring",icon:"ðŸ”Œ",description:"Test API endpoints with various HTTP methods and payloads",frequency:"Every 1-10 minutes",useCases:["REST API health","GraphQL queries","Authentication flows","Rate limit testing"],tools:["Postman Monitors","Runscope","Assertible","Checkly"],example:`// API test chain
{
  "tests": [
    {
      "name": "Get auth token",
      "request": {
        "method": "POST",
        "url": "https://api.example.com/auth/login",
        "body": {"username": "test", "password": "test123"},
        "headers": {"Content-Type": "application/json"}
      },
      "assertions": [
        {"statusCode": 200},
        {"body.token": "exists"}
      ],
      "extract": {
        "token": "body.token"
      }
    },
    {
      "name": "Get user profile",
      "request": {
        "method": "GET",
        "url": "https://api.example.com/users/me",
        "headers": {
          "Authorization": "Bearer {{token}}"
        }
      },
      "assertions": [
        {"statusCode": 200},
        {"body.email": "equals 'test@example.com'"},
        {"responseTime": "<500ms"}
      ]
    }
  ]
}`},{type:"Multi-Location Monitoring",icon:"ðŸŒ",description:"Run tests from multiple geographic locations simultaneously",frequency:"Continuous",useCases:["Global CDN performance","Regional failover testing","Geo-blocking verification","Latency measurement"],tools:["Catchpoint","ThousandEyes","Datadog Synthetics","GTmetrix"],example:`// Multi-location test configuration
{
  "name": "Global API Performance",
  "locations": [
    {"region": "us-east-1", "weight": 40},
    {"region": "eu-west-1", "weight": 30},
    {"region": "ap-southeast-1", "weight": 20},
    {"region": "sa-east-1", "weight": 10}
  ],
  "test": {
    "url": "https://api.example.com/products",
    "method": "GET"
  },
  "slo": {
    "availability": "99.9%",
    "p95_latency": "500ms",
    "p99_latency": "1000ms"
  },
  "alerts": {
    "location_down": "Any location fails 3 consecutive times",
    "high_latency": "p95 > 1000ms for 5 minutes"
  }
}`}],o=[{practice:"Test from User Perspective",description:"Run tests from actual user locations and networks",implementation:"Use distributed test locations matching your user base geography",impact:"Detects regional issues before users complain"},{practice:"Test Real User Flows",description:"Monitor critical business transactions, not just endpoints",implementation:"Create synthetic tests for signup, purchase, checkout flows",impact:"Ensures revenue-generating features are always working"},{practice:"Set Appropriate Intervals",description:"Balance detection speed with cost and noise",implementation:"Critical endpoints: 1-5min, Less critical: 15-60min",impact:"Early detection without alert fatigue"},{practice:"Use Realistic Test Data",description:"Test with production-like data and scenarios",implementation:"Maintain test accounts, sample products, realistic payloads",impact:"Catch data-specific bugs and edge cases"},{practice:"Chain Tests Logically",description:"Create dependencies between tests (login â†’ action â†’ logout)",implementation:"Extract tokens/session data from one test to use in next",impact:"Test complete workflows, not isolated actions"},{practice:"Monitor Third-Party Dependencies",description:"Test external APIs and services you depend on",implementation:"Add synthetic checks for payment gateways, auth providers, etc.",impact:"Proactive notification of third-party outages"}],a=[{tool:"Pingdom",type:"Uptime",locations:"70+",browserTests:"Yes",apiTests:"Limited",pricing:"$10-300/month",bestFor:"Simple uptime monitoring"},{tool:"UptimeRobot",type:"Uptime",locations:"15+",browserTests:"No",apiTests:"Yes",pricing:"Free-$58/month",bestFor:"Budget-friendly uptime"},{tool:"Datadog Synthetics",type:"Full Suite",locations:"30+",browserTests:"Yes",apiTests:"Yes",pricing:"$5/10k API tests",bestFor:"Integrated with APM"},{tool:"New Relic Synthetics",type:"Full Suite",locations:"20+",browserTests:"Yes",apiTests:"Yes",pricing:"$0.50/check",bestFor:"New Relic users"},{tool:"Checkly",type:"Full Suite",locations:"20+",browserTests:"Yes (Playwright)",apiTests:"Yes",pricing:"$7-299/month",bestFor:"Developer-first, code-based"},{tool:"Postman Monitors",type:"API Only",locations:"10+",browserTests:"No",apiTests:"Yes",pricing:"Free-$49/month",bestFor:"Existing Postman users"}],c=[{strategy:"Failure Threshold",description:"Alert only after N consecutive failures",config:"failures_before_alert: 3",rationale:"Prevents false alerts from transient network issues",example:"Alert if 3 consecutive checks fail (not just 1)"},{strategy:"Multi-Location Consensus",description:"Alert only if multiple locations fail simultaneously",config:"min_failed_locations: 2",rationale:"Distinguishes between regional and global outages",example:"Alert if 2+ out of 5 locations fail"},{strategy:"Degradation Detection",description:"Alert on performance degradation before complete failure",config:"warning_threshold: 500ms, critical_threshold: 1000ms",rationale:"Proactive alerting before user impact",example:"Warn at 500ms, critical at 1000ms response time"},{strategy:"Time-Based Suppression",description:"Suppress alerts during maintenance windows",config:"maintenance_window: '02:00-04:00 UTC'",rationale:"Prevents noise during planned maintenance",example:"No alerts during nightly deployments"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Synthetic Monitoring"}),e.jsx("p",{className:"text-lg text-slate-600",children:"Proactively monitor availability and performance by simulating user interactions"})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"What is Synthetic Monitoring?"})}),e.jsxs(P,{children:[e.jsx("p",{className:"text-slate-700 mb-4",children:"Synthetic monitoring simulates user behavior by running automated tests against your application from various locations worldwide. Unlike RUM (Real User Monitoring), which relies on actual users, synthetic monitoring proactively detects issues 24/7."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h5",{className:"font-semibold text-green-800 mb-2",children:"âœ“ Advantages"}),e.jsxs("ul",{className:"space-y-1 text-sm text-green-900",children:[e.jsx("li",{children:"â€¢ Detects issues before users are affected"}),e.jsx("li",{children:"â€¢ Tests from multiple geographic locations"}),e.jsx("li",{children:"â€¢ 24/7 monitoring, even with no traffic"}),e.jsx("li",{children:"â€¢ Baseline for performance benchmarking"}),e.jsx("li",{children:"â€¢ Verifies SLAs and availability targets"})]})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h5",{className:"font-semibold text-red-800 mb-2",children:"âœ— Limitations"}),e.jsxs("ul",{className:"space-y-1 text-sm text-red-900",children:[e.jsx("li",{children:"â€¢ Doesn't capture real user experience"}),e.jsx("li",{children:"â€¢ Can be expensive at scale"}),e.jsx("li",{children:"â€¢ May not test all edge cases"}),e.jsx("li",{children:"â€¢ Requires maintenance of test scripts"}),e.jsx("li",{children:"â€¢ Synthetic traffic affects analytics"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900",children:"Types of Synthetic Monitoring"}),t.map((d,i)=>e.jsxs(b,{children:[e.jsx(k,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-3xl",children:d.icon}),e.jsx(A,{children:d.type})]})}),e.jsxs(P,{className:"space-y-4",children:[e.jsx("p",{className:"text-slate-600",children:d.description}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"Typical Frequency"}),e.jsx(f,{variant:"outline",children:d.frequency})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"Popular Tools"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.tools.map((n,m)=>e.jsx(f,{variant:"secondary",children:n},m))})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"Common Use Cases"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.useCases.map((n,m)=>e.jsx(f,{className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:n},m))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"Configuration Example"}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:d.example})})]})]})]},i))]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Tool Comparison"})}),e.jsx(P,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100",children:[e.jsx("th",{className:"border p-3 text-left font-semibold",children:"Tool"}),e.jsx("th",{className:"border p-3 text-left font-semibold",children:"Type"}),e.jsx("th",{className:"border p-3 text-center font-semibold",children:"Locations"}),e.jsx("th",{className:"border p-3 text-center font-semibold",children:"Browser Tests"}),e.jsx("th",{className:"border p-3 text-center font-semibold",children:"API Tests"}),e.jsx("th",{className:"border p-3 text-left font-semibold",children:"Pricing"}),e.jsx("th",{className:"border p-3 text-left font-semibold",children:"Best For"})]})}),e.jsx("tbody",{children:a.map((d,i)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-3 font-semibold",children:d.tool}),e.jsx("td",{className:"border p-3",children:d.type}),e.jsx("td",{className:"border p-3 text-center",children:d.locations}),e.jsx("td",{className:"border p-3 text-center",children:d.browserTests}),e.jsx("td",{className:"border p-3 text-center",children:d.apiTests}),e.jsx("td",{className:"border p-3",children:d.pricing}),e.jsx("td",{className:"border p-3",children:d.bestFor})]},i))})]})})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Best Practices"})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-4",children:o.map((d,i)=>e.jsxs("div",{className:"border rounded-lg p-5",children:[e.jsx("h5",{className:"text-lg font-bold text-slate-900 mb-2",children:d.practice}),e.jsx("p",{className:"text-slate-600 mb-3",children:d.description}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Implementation"}),e.jsx("div",{className:"text-sm text-blue-900",children:d.implementation})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-semibold text-green-800 mb-1",children:"Impact"}),e.jsx("div",{className:"text-sm text-green-900",children:d.impact})]})]})]},i))})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Alerting Strategies"})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-4",children:c.map((d,i)=>e.jsxs("div",{className:"bg-slate-50 rounded-lg p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h5",{className:"text-lg font-bold text-slate-900",children:d.strategy}),e.jsxs(f,{children:["Strategy ",i+1]})]}),e.jsx("p",{className:"text-slate-600 mb-3",children:d.description}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Configuration"}),e.jsx("code",{className:"text-xs bg-white p-2 rounded block",children:d.config})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Rationale"}),e.jsx("div",{className:"text-sm text-slate-600",children:d.rationale})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Example"}),e.jsx("div",{className:"text-sm text-slate-600",children:d.example})]})]})]},i))})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Integration with Incident Management"})}),e.jsxs(P,{children:[e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-6 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:`// Example: Integrate synthetic monitoring with incident management
  
1. Synthetic Test Fails
   â†“
2. Check Failure Count & Locations
   â†“
3. If threshold exceeded:
   - Create PagerDuty/OpsGenie incident
   - Post to Slack #incidents channel
   - Update status page (StatusPage.io)
   â†“
4. Correlate with other signals:
   - Check APM for errors
   - Check logs for exceptions
   - Check infrastructure metrics
   â†“
5. Intelligent Routing:
   - API failures â†’ Backend team
   - Browser test failures â†’ Frontend team
   - Database errors â†’ DBA team
   â†“
6. Auto-Remediation (if configured):
   - Restart service
   - Scale out instances
   - Switch to backup region`})}),e.jsx(_,{className:"mt-6 bg-blue-50 border-blue-200",children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸ’¡ Pro Tip:"})," Integrate synthetic monitoring with your entire observability stack. Correlate synthetic test failures with APM traces, logs, and infrastructure metrics for faster root cause analysis."]})})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"ROI: Why Synthetic Monitoring Pays for Itself"})}),e.jsxs(P,{children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsx("h5",{className:"font-semibold text-red-800 mb-3",children:"Cost of Downtime (Example)"}),e.jsxs("ul",{className:"space-y-2 text-sm text-red-900",children:[e.jsxs("li",{children:["â€¢ 1 hour outage: ",e.jsx("strong",{children:"$10,000-100,000"})]}),e.jsx("li",{children:"â€¢ Lost revenue"}),e.jsx("li",{children:"â€¢ Customer churn"}),e.jsx("li",{children:"â€¢ Brand reputation damage"}),e.jsx("li",{children:"â€¢ SLA penalty payments"})]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[e.jsx("h5",{className:"font-semibold text-green-800 mb-3",children:"Synthetic Monitoring Cost"}),e.jsxs("ul",{className:"space-y-2 text-sm text-green-900",children:[e.jsxs("li",{children:["â€¢ Monthly cost: ",e.jsx("strong",{children:"$100-1,000"})]}),e.jsx("li",{children:"â€¢ Early detection (5-30 min faster)"}),e.jsx("li",{children:"â€¢ Prevents 2-3 incidents/year"}),e.jsxs("li",{children:["â€¢ ROI: ",e.jsx("strong",{children:"20x-100x"})]}),e.jsx("li",{children:"â€¢ Peace of mind: Priceless"})]})]})]}),e.jsxs("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("div",{className:"font-semibold text-yellow-900 mb-2",children:"Typical Detection Time Improvement"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-yellow-800",children:"Without Synthetic Monitoring:"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:"15-60 minutes"}),e.jsx("div",{className:"text-yellow-700",children:"(User reports issue)"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-yellow-800",children:"With Synthetic Monitoring:"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:"1-5 minutes"}),e.jsx("div",{className:"text-yellow-700",children:"(Automated detection)"})]})]})]})]})]})]})}function kl(){const s=[{metric:"LCP (Largest Contentful Paint)",description:"Measures loading performance - when the largest content element becomes visible",good:"< 2.5s",needsImprovement:"2.5s - 4s",poor:"> 4s",howToImprove:["Optimize images (WebP, lazy loading)","Use CDN for static assets","Minimize render-blocking resources","Improve server response time (TTFB)"]},{metric:"FID (First Input Delay)",description:"Measures interactivity - time from user's first interaction to browser response",good:"< 100ms",needsImprovement:"100ms - 300ms",poor:"> 300ms",howToImprove:["Reduce JavaScript execution time","Split code and defer non-critical JS","Use web workers for heavy computation","Minimize main thread work"]},{metric:"CLS (Cumulative Layout Shift)",description:"Measures visual stability - sum of all unexpected layout shifts",good:"< 0.1",needsImprovement:"0.1 - 0.25",poor:"> 0.25",howToImprove:["Set explicit dimensions for images/videos","Avoid inserting content above existing content","Use transform animations instead of layout properties","Preload fonts to prevent FOUT/FOIT"]},{metric:"INP (Interaction to Next Paint)",description:"Measures responsiveness - latency of all user interactions (replacing FID)",good:"< 200ms",needsImprovement:"200ms - 500ms",poor:"> 500ms",howToImprove:["Break up long tasks","Optimize event handlers","Use requestIdleCallback for non-urgent work","Debounce expensive operations"]}],l=[{tool:"Google Analytics 4",type:"Free",strengths:["Free","Web Vitals built-in","Large market share","Easy integration"],limitations:["Limited technical depth","Privacy concerns","Generic insights"],bestFor:"Basic analytics and Web Vitals tracking"},{tool:"Datadog RUM",type:"Commercial",strengths:["Deep technical insights","Session replay","Integration with APM","Error tracking"],limitations:["Expensive","Complex setup","Vendor lock-in"],bestFor:"Enterprises needing full observability stack"},{tool:"Sentry",type:"Commercial/OSS",strengths:["Excellent error tracking","Source map support","Release tracking","Affordable"],limitations:["Limited performance monitoring","No session replay in OSS","Basic RUM"],bestFor:"Error monitoring with some performance insights"},{tool:"LogRocket",type:"Commercial",strengths:["Amazing session replay","Console logs capture","Network inspection","Redux integration"],limitations:["Expensive","Performance impact","Privacy concerns"],bestFor:"Debugging complex frontend issues"},{tool:"New Relic Browser",type:"Commercial",strengths:["Full-stack visibility","AJAX tracking","SPA support","Flexible pricing"],limitations:["Can be costly at scale","Requires New Relic ecosystem"],bestFor:"New Relic users wanting frontend monitoring"},{tool:"Grafana Faro",type:"Open Source",strengths:["Open source","Integrates with Grafana","Privacy-friendly","Self-hosted"],limitations:["Newer/less mature","Limited features","Requires Grafana setup"],bestFor:"Teams already using Grafana stack"}],t=`// Step 1: Install RUM SDK
npm install @datadog/browser-rum

// Step 2: Initialize RUM
import { datadogRum } from '@datadog/browser-rum';

datadogRum.init({
  applicationId: 'your-app-id',
  clientToken: 'your-client-token',
  site: 'datadoghq.com',
  service: 'my-web-app',
  env: 'production',
  version: '1.0.0',
  
  // Session Sampling
  sessionSampleRate: 100, // 100% of sessions
  sessionReplaySampleRate: 20, // 20% get session replay
  
  // Track user interactions
  trackUserInteractions: true,
  trackResources: true,
  trackLongTasks: true,
  
  // Default privacy settings
  defaultPrivacyLevel: 'mask-user-input',
  
  // Performance tracking
  trackViewsManually: false,
  trackFrustrations: true
});

// Step 3: Track custom events
datadogRum.addAction('purchase', {
  amount: 99.99,
  currency: 'USD',
  productId: '12345'
});

// Step 4: Add user context
datadogRum.setUser({
  id: 'user-123',
  name: 'John Doe',
  email: 'john@example.com',
  plan: 'premium'
});

// Step 5: Track errors
try {
  // risky operation
} catch (error) {
  datadogRum.addError(error, {
    source: 'payment-processing',
    tags: { critical: true }
  });
}`,o=[{concern:"PII in Session Replays",risk:"Recording sensitive user data (passwords, credit cards, SSN)",solution:"Use data masking and configure privacy levels",implementation:`defaultPrivacyLevel: 'mask-user-input' or add data-dd-privacy="mask" attributes`},{concern:"GDPR Compliance",risk:"Tracking users without consent",solution:"Implement consent management, allow opt-out",implementation:"Initialize RUM only after user consent, provide opt-out mechanism"},{concern:"Console Logs Exposure",risk:"Sensitive data in console.log() captured by RUM",solution:"Sanitize logs, avoid logging sensitive data",implementation:"Filter console logs before sending, use separate logging for debug data"},{concern:"Network Request Details",risk:"API keys, tokens in request URLs or headers",solution:"Configure request filtering and header redaction",implementation:"beforeSend: (event) => { /* sanitize event */ return event; }"}],a=[{technique:"Lazy Load RUM SDK",description:"Load RUM SDK asynchronously after page becomes interactive",impact:"Reduces initial bundle size by 20-50KB",code:`// Load RUM after page interactive
if (document.readyState === 'complete') {
  loadRUM();
} else {
  window.addEventListener('load', loadRUM);
}`},{technique:"Sampling Strategy",description:"Don't track 100% of users - use sampling",impact:"Reduces cost by 50-90% with minimal data loss",code:`sessionSampleRate: 10, // Track 10% of sessions
sessionReplaySampleRate: 5, // Record 5% of sessions
errorSampleRate: 100 // Always track errors`},{technique:"Conditional Loading",description:"Load RUM only in production, not in development",impact:"Faster dev experience, no pollution of prod data",code:`if (process.env.NODE_ENV === 'production') {
  // Initialize RUM
}`},{technique:"Batch Events",description:"Buffer and batch events before sending",impact:"Reduces network requests by 80%",code:`batchEventsInterval: 5000, // Send every 5 seconds
maxBatchSize: 50 // Or when 50 events accumulated`}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Real User Monitoring (RUM)"}),e.jsx("p",{className:"text-lg text-slate-600",children:"Monitor actual user experiences, Core Web Vitals, and frontend performance"})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"RUM vs Synthetic Monitoring"})}),e.jsxs(P,{children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border-2 border-green-200 rounded-lg p-6 bg-green-50",children:[e.jsx("h5",{className:"text-xl font-bold text-green-900 mb-4",children:"Real User Monitoring (RUM)"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600",children:"âœ“"}),e.jsx("span",{children:"Measures actual user experience"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600",children:"âœ“"}),e.jsx("span",{children:"Captures real device/network conditions"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600",children:"âœ“"}),e.jsx("span",{children:"Identifies regional performance issues"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600",children:"âœ“"}),e.jsx("span",{children:"Provides business metrics (conversion, engagement)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600",children:"âœ—"}),e.jsx("span",{children:"Requires actual traffic to detect issues"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600",children:"âœ—"}),e.jsx("span",{children:"Privacy concerns with user data"})]})]})]}),e.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 bg-blue-50",children:[e.jsx("h5",{className:"text-xl font-bold text-blue-900 mb-4",children:"Synthetic Monitoring"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"âœ“"}),e.jsx("span",{children:"Proactive 24/7 monitoring"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"âœ“"}),e.jsx("span",{children:"Consistent baseline for comparison"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"âœ“"}),e.jsx("span",{children:"Works with low/no traffic"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"âœ“"}),e.jsx("span",{children:"No privacy concerns"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600",children:"âœ—"}),e.jsx("span",{children:"Doesn't reflect real user experience"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600",children:"âœ—"}),e.jsx("span",{children:"Limited coverage of all scenarios"})]})]})]})]}),e.jsx(_,{className:"mt-6 bg-purple-50 border-purple-200",children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸ’¡ Best Practice:"})," Use both! Synthetic monitoring for proactive detection, RUM for understanding real user impact and experience."]})})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Core Web Vitals"})}),e.jsxs(P,{children:[e.jsx("p",{className:"text-slate-600 mb-6",children:"Google's Core Web Vitals are key metrics for user experience and SEO ranking."}),e.jsx("div",{className:"space-y-6",children:s.map((c,r)=>e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-xl font-bold text-slate-900",children:c.metric}),e.jsx("p",{className:"text-slate-600 mt-1",children:c.description})]}),e.jsxs(f,{children:["Vital ",r+1]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-sm text-green-800 font-semibold",children:"Good"}),e.jsx("div",{className:"text-lg font-bold text-green-900",children:c.good})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-sm text-yellow-800 font-semibold",children:"Needs Improvement"}),e.jsx("div",{className:"text-lg font-bold text-yellow-900",children:c.needsImprovement})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-sm text-red-800 font-semibold",children:"Poor"}),e.jsx("div",{className:"text-lg font-bold text-red-900",children:c.poor})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 mb-2",children:"How to Improve"}),e.jsx("ul",{className:"space-y-1",children:c.howToImprove.map((d,i)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"â†’"}),d]},i))})]})]},r))})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"RUM Tools Comparison"})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-4",children:l.map((c,r)=>e.jsxs("div",{className:"border rounded-lg p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h5",{className:"text-lg font-bold text-slate-900",children:c.tool}),e.jsx(f,{variant:c.type==="Free"?"default":c.type==="Open Source"?"secondary":"outline",children:c.type})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-green-700 mb-2",children:"Strengths"}),e.jsx("ul",{className:"space-y-1 text-sm",children:c.strengths.map((d,i)=>e.jsxs("li",{className:"text-slate-700",children:["â€¢ ",d]},i))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-red-700 mb-2",children:"Limitations"}),e.jsx("ul",{className:"space-y-1 text-sm",children:c.limitations.map((d,i)=>e.jsxs("li",{className:"text-slate-700",children:["â€¢ ",d]},i))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"Best For"}),e.jsx("div",{className:"text-sm text-slate-700",children:c.bestFor})]})]})]},r))})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Implementation Guide"})}),e.jsx(P,{children:e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-6 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:t})})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Privacy & Compliance"})}),e.jsxs(P,{children:[e.jsx(_,{className:"mb-6 bg-yellow-50 border-yellow-200",children:e.jsxs($,{children:[e.jsx("strong",{children:"âš ï¸ Important:"})," RUM tools can capture sensitive user data. Implement proper data masking and obtain user consent where required."]})}),e.jsx("div",{className:"space-y-4",children:o.map((c,r)=>e.jsxs("div",{className:"border rounded-lg p-5",children:[e.jsx("h5",{className:"text-lg font-bold text-slate-900 mb-3",children:c.concern}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-semibold text-red-800 mb-1",children:"Risk"}),e.jsx("div",{className:"text-sm text-red-900",children:c.risk})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-semibold text-green-800 mb-1",children:"Solution"}),e.jsx("div",{className:"text-sm text-green-900",children:c.solution})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Implementation"}),e.jsx("div",{className:"text-sm text-blue-900",children:c.implementation})]})]})]},r))})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Optimizing RUM Performance Impact"})}),e.jsxs(P,{children:[e.jsx("p",{className:"text-slate-600 mb-6",children:"RUM SDKs add overhead. Here's how to minimize the impact on user experience:"}),e.jsx("div",{className:"space-y-4",children:a.map((c,r)=>e.jsxs("div",{className:"bg-slate-50 rounded-lg p-5",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h5",{className:"text-lg font-bold text-slate-900",children:c.technique}),e.jsx("p",{className:"text-slate-600 mt-1",children:c.description})]}),e.jsx(f,{className:"bg-green-600 text-white mt-3 md:mt-0 px-2 py-1 text-xs md:text-sm max-w-full truncate",children:c.impact})]}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:c.code})})]},r))})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Key RUM Metrics to Track"})}),e.jsx(P,{children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h5",{className:"font-semibold text-slate-900 mb-3",children:"Performance Metrics"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[e.jsx("li",{children:"â€¢ Page load time (PLT)"}),e.jsx("li",{children:"â€¢ Time to first byte (TTFB)"}),e.jsx("li",{children:"â€¢ First contentful paint (FCP)"}),e.jsx("li",{children:"â€¢ Time to interactive (TTI)"}),e.jsx("li",{children:"â€¢ Total blocking time (TBT)"})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h5",{className:"font-semibold text-slate-900 mb-3",children:"User Experience Metrics"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[e.jsx("li",{children:"â€¢ Error rate by page"}),e.jsx("li",{children:"â€¢ User frustration signals (rage clicks)"}),e.jsx("li",{children:"â€¢ Session duration"}),e.jsx("li",{children:"â€¢ Bounce rate by page speed"}),e.jsx("li",{children:"â€¢ Conversion funnel drop-offs"})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h5",{className:"font-semibold text-slate-900 mb-3",children:"Resource Metrics"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[e.jsx("li",{children:"â€¢ API response times"}),e.jsx("li",{children:"â€¢ Third-party script impact"}),e.jsx("li",{children:"â€¢ Image load times"}),e.jsx("li",{children:"â€¢ Font loading performance"}),e.jsx("li",{children:"â€¢ JavaScript bundle size impact"})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h5",{className:"font-semibold text-slate-900 mb-3",children:"Business Metrics"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[e.jsx("li",{children:"â€¢ Conversion rate by performance"}),e.jsx("li",{children:"â€¢ Revenue impact of slow pages"}),e.jsx("li",{children:"â€¢ User retention vs page speed"}),e.jsx("li",{children:"â€¢ Feature adoption rates"}),e.jsx("li",{children:"â€¢ A/B test performance correlation"})]})]})]})})]})]})}function Al(){const s=[{principle:"Embrace Risk",description:"100% uptime is impossible and unnecessary. Define acceptable risk levels.",implementation:"Set SLOs (e.g., 99.9% availability = 43min downtime/month allowed)",benefit:"Faster feature velocity, realistic expectations"},{principle:"Service Level Objectives (SLOs)",description:"Precise numerical targets for service reliability",implementation:"API latency p99 < 200ms, Error rate < 0.1%",benefit:"Clear targets, measurable reliability"},{principle:"Error Budgets",description:"Amount of unreliability allowed before feature freezes",implementation:"SLO: 99.9% â†’ Error budget: 0.1% (43min/month)",benefit:"Balance innovation vs stability"},{principle:"Toil Reduction",description:"Eliminate repetitive manual operational work",implementation:"Automate deployments, runbooks, incident response",benefit:"Engineers focus on high-value work"},{principle:"Monitoring & Alerting",description:"Proactive detection of SLO violations",implementation:"SLO-based alerts, not threshold-based",benefit:"Meaningful alerts, reduced noise"},{principle:"Blameless Postmortems",description:"Learn from failures without blaming individuals",implementation:"Focus on systems and processes, not people",benefit:"Psychological safety, continuous improvement"}],l={calculation:`Total minutes per month: 43,800
SLO: 99.9% uptime
Allowed downtime: 43,800 Ã— 0.1% = 43.8 minutes per month

Week 1: 10 min outage (23% budget consumed)
Week 2: 15 min outage (34% budget consumed) 
Week 3: 20 min outage (46% budget consumed)
Week 4: 5 min outage (11% budget consumed)

Total: 50 minutes downtime
Budget status: 114% consumed (6.2 min over budget)
Action: Feature freeze until reliability improved`,policiesByBudget:[{budgetLeft:"> 50%",velocity:"ðŸŸ¢ Full speed",actions:["Ship new features rapidly","Take calculated risks","Experiment freely"]},{budgetLeft:"25-50%",velocity:"ðŸŸ¡ Cautious",actions:["Increase testing rigor","Prioritize reliability work","Review change velocity"]},{budgetLeft:"10-25%",velocity:"ðŸŸ  Conservative",actions:["Only critical changes","Enhanced monitoring","Focus on stability"]},{budgetLeft:"< 10% or Exhausted",velocity:"ðŸ”´ Feature freeze",actions:["Stop feature development","Fix reliability issues","Improve monitoring"]}]},t=[{category:"Manual Toil",examples:["Manually deploying releases","Restarting servers when they crash","Rotating credentials manually","Provisioning new users/resources","Creating reports by hand"],automation:["CI/CD pipeline","Auto-healing with health checks","Automated secret rotation","Self-service portals","Scheduled automated reports"],timeSaved:"70-90%"},{category:"Reactive Toil",examples:["Responding to same alerts repeatedly","Debugging same issues over and over","Manual log searching for errors","Scaling infrastructure reactively","Firefighting production issues"],automation:["Auto-remediation scripts","Improved monitoring/alerting","Centralized logging with alerts","Auto-scaling rules","Runbooks and playbooks"],timeSaved:"50-70%"},{category:"Preventable Toil",examples:["Dealing with poor code quality","Working around flaky tests","Managing tech debt","Handling configuration drift","Supporting legacy systems"],automation:["Code review standards","Test infrastructure investment","Scheduled tech debt sprints","Infrastructure as Code","Deprecation roadmaps"],timeSaved:"40-60%"}],o=`# Incident Postmortem: [Title]

**Date:** 2024-01-15
**Duration:** 2 hours 35 minutes (14:25 - 17:00 UTC)
**Severity:** SEV-2 (Major service degradation)
**Impact:** 45% of API requests returning 5xx errors

## Summary
Brief description of what happened and the customer impact.

## Timeline (UTC)
- **14:25** - Monitoring alerts: elevated 5xx error rate (15%)
- **14:30** - On-call engineer investigates
- **14:45** - Identified: database connection pool exhausted
- **15:00** - Attempted fix: increased pool size (unsuccessful)
- **15:30** - Root cause identified: memory leak in new code
- **16:00** - Hotfix deployed to rollback problematic code
- **16:30** - Service recovering, error rate at 5%
- **17:00** - Full recovery confirmed

## Root Cause
A memory leak in the new caching layer (v2.5.0 deployed at 14:00) 
caused gradual memory exhaustion, leading to connection pool depletion.

## Impact
- **Users Affected:** ~100,000 users (45% of traffic)
- **Failed Requests:** 2.3M API calls
- **Revenue Impact:** ~$15,000 in lost transactions
- **SLO Impact:** Consumed 38% of monthly error budget

## What Went Well
- Automated alerting detected issue within 5 minutes
- Clear escalation path followed
- Rollback process was smooth
- Communication to stakeholders was timely

## What Went Wrong
- Memory leak not caught in testing
- Load testing didn't simulate production traffic patterns
- Rollback took too long (90 minutes to decision)
- Insufficient monitoring of connection pool metrics

## Action Items
| Action | Owner | Due Date | Priority |
|--------|-------|----------|----------|
| Add memory leak detection to CI pipeline | @dev-team | 2024-01-20 | P0 |
| Improve load testing to match production | @qa-team | 2024-01-25 | P0 |
| Add connection pool monitoring | @sre-team | 2024-01-18 | P0 |
| Document faster rollback procedures | @sre-team | 2024-01-22 | P1 |
| Automated canary deployment for caching layer | @platform | 2024-02-01 | P1 |

## Lessons Learned
- Production traffic patterns differ significantly from test environments
- Need better observability into resource utilization
- Rollback decision-making process needs improvement

---
*This postmortem is blameless. The goal is to learn and improve our systems.*`,a=[{metric:"Toil Percentage",target:"< 50% of SRE time",measurement:"Time spent on manual ops work vs engineering",action:"If > 50%, prioritize automation projects"},{metric:"Time to Detect (TTD)",target:"< 5 minutes",measurement:"Time from issue start to alert",action:"Improve monitoring and alerting coverage"},{metric:"Time to Resolve (TTR)",target:"< SLO breach threshold",measurement:"Time from alert to full resolution",action:"Improve runbooks, automation, and training"},{metric:"Change Failure Rate",target:"< 15%",measurement:"% of deployments causing incidents",action:"Improve testing, canary deployments, rollback procedures"},{metric:"MTBF (Mean Time Between Failures)",target:"Increasing over time",measurement:"Average time between incidents",action:"Focus on reliability improvements and preventive work"},{metric:"On-Call Load",target:"< 2 pages per on-call shift",measurement:"Number of pages per engineer per shift",action:"Reduce alert noise, improve auto-remediation"}],c=[{aspect:"Focus",sre:"Reliability as primary goal",devops:"Faster delivery as primary goal"},{aspect:"Approach",sre:"Engineering approach to operations",devops:"Cultural and organizational movement"},{aspect:"Error Budgets",sre:"Core concept, quantified",devops:"Not typically used"},{aspect:"Toil Reduction",sre:"Explicit goal (< 50% toil)",devops:"Automation encouraged but not quantified"},{aspect:"SLOs/SLIs",sre:"Fundamental practice",devops:"May or may not use"},{aspect:"On-Call",sre:"SRE team handles production",devops:"You build it, you run it"},{aspect:"Team Structure",sre:"Dedicated SRE team",devops:"DevOps engineers embedded in product teams"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-4",children:"SRE Practices"}),e.jsx("p",{className:"text-lg text-slate-600",children:"Site Reliability Engineering principles, toil reduction, and error budgets"})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"What is Site Reliability Engineering (SRE)?"})}),e.jsxs(P,{children:[e.jsx("p",{className:"text-slate-700 mb-4",children:"SRE is Google's approach to running production systems. It applies software engineering principles to operations, treating reliability as a feature rather than an afterthought."}),e.jsx(_,{className:"bg-blue-50 border-blue-200",children:e.jsxs($,{children:[e.jsx("strong",{children:"Core Philosophy:"}),' "Hope is not a strategy. Reliability is a feature, not an afterthought. Automate everything you can."']})})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Core SRE Principles"})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-4",children:s.map((r,d)=>e.jsxs("div",{className:"border rounded-lg p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h5",{className:"text-lg font-bold text-slate-900",children:r.principle}),e.jsx(f,{children:d+1})]}),e.jsx("p",{className:"text-slate-600 mb-4",children:r.description}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Implementation"}),e.jsx("div",{className:"text-sm text-blue-900",children:r.implementation})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-semibold text-green-800 mb-1",children:"Benefit"}),e.jsx("div",{className:"text-sm text-green-900",children:r.benefit})]})]})]},d))})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Error Budgets in Practice"})}),e.jsx(P,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-6",children:[e.jsx("h5",{className:"font-semibold text-slate-900 mb-3",children:"Example Calculation"}),e.jsx("pre",{className:"text-sm text-slate-700 whitespace-pre-wrap font-mono",children:l.calculation})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-slate-900 mb-3",children:"Error Budget Policies"}),e.jsx("div",{className:"space-y-3",children:l.policiesByBudget.map((r,d)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-slate-900",children:["Error Budget Remaining: ",r.budgetLeft]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Development Velocity: ",r.velocity]})]})}),e.jsx("ul",{className:"space-y-1",children:r.actions.map((i,n)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"â†’"}),i]},n))})]},d))})]})]})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Toil Reduction"})}),e.jsxs(P,{children:[e.jsx(_,{className:"mb-6 bg-yellow-50 border-yellow-200",children:e.jsxs($,{children:[e.jsx("strong",{children:"Definition:"})," Toil is manual, repetitive, automatable work that doesn't provide lasting value. SRE teams should spend ","<"," 50% of their time on toil."]})}),e.jsx("div",{className:"space-y-6",children:t.map((r,d)=>e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h5",{className:"text-xl font-bold text-slate-900",children:r.category}),e.jsxs(f,{className:"bg-green-600 text-white",children:["Save ",r.timeSaved]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold text-red-700 mb-2",children:"âŒ Toil Examples"}),e.jsx("ul",{className:"space-y-1",children:r.examples.map((i,n)=>e.jsxs("li",{className:"text-sm text-slate-700",children:["â€¢ ",i]},n))})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-semibold text-green-700 mb-2",children:"âœ… Automation Solutions"}),e.jsx("ul",{className:"space-y-1",children:r.automation.map((i,n)=>e.jsxs("li",{className:"text-sm text-slate-700",children:["â€¢ ",i]},n))})]})]})]},d))})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Blameless Postmortem Template"})}),e.jsxs(P,{children:[e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-6 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:o})}),e.jsx(_,{className:"mt-6 bg-purple-50 border-purple-200",children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸ’œ Blameless Culture:"})," Postmortems focus on learning and improving systems, not punishing individuals. This creates psychological safety and encourages honest reporting."]})})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Key SRE Metrics"})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-3",children:a.map((r,d)=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600",children:"Metric"}),e.jsx("div",{className:"font-semibold text-slate-900",children:r.metric})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600",children:"Target"}),e.jsx("div",{className:"font-semibold text-green-700",children:r.target})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600",children:"Measurement"}),e.jsx("div",{className:"text-sm text-slate-700",children:r.measurement})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-600",children:"Action if Off-Target"}),e.jsx("div",{className:"text-sm text-slate-700",children:r.action})]})]})},d))})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"SRE vs DevOps"})}),e.jsxs(P,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100",children:[e.jsx("th",{className:"border p-3 text-left font-semibold",children:"Aspect"}),e.jsx("th",{className:"border p-3 text-left font-semibold",children:"SRE"}),e.jsx("th",{className:"border p-3 text-left font-semibold",children:"DevOps"})]})}),e.jsx("tbody",{children:c.map((r,d)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-3 font-semibold",children:r.aspect}),e.jsx("td",{className:"border p-3",children:r.sre}),e.jsx("td",{className:"border p-3",children:r.devops})]},d))})]})}),e.jsx(_,{className:"mt-6 bg-blue-50 border-blue-200",children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸ’¡ Bottom Line:"})," SRE is a specific implementation of DevOps principles with emphasis on reliability, quantification, and engineering solutions to operations problems."]})})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Getting Started with SRE"})}),e.jsx(P,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4",children:[e.jsx("h5",{className:"font-semibold text-blue-900 mb-2",children:"Phase 1: Foundation (Month 1-3)"}),e.jsxs("ul",{className:"space-y-1 text-sm text-blue-900",children:[e.jsx("li",{children:"â€¢ Define SLOs for critical services"}),e.jsx("li",{children:"â€¢ Implement basic monitoring and alerting"}),e.jsx("li",{children:"â€¢ Start tracking toil percentage"}),e.jsx("li",{children:"â€¢ Write first postmortem template"})]})]}),e.jsxs("div",{className:"bg-green-50 border-l-4 border-green-600 p-4",children:[e.jsx("h5",{className:"font-semibold text-green-900 mb-2",children:"Phase 2: Implementation (Month 4-6)"}),e.jsxs("ul",{className:"space-y-1 text-sm text-green-900",children:[e.jsx("li",{children:"â€¢ Calculate and track error budgets"}),e.jsx("li",{children:"â€¢ Automate top toil items"}),e.jsx("li",{children:"â€¢ Establish on-call rotation"}),e.jsx("li",{children:"â€¢ Conduct blameless postmortems"})]})]}),e.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-600 p-4",children:[e.jsx("h5",{className:"font-semibold text-purple-900 mb-2",children:"Phase 3: Maturity (Month 7+)"}),e.jsxs("ul",{className:"space-y-1 text-sm text-purple-900",children:[e.jsx("li",{children:"â€¢ Enforce error budget policies"}),e.jsxs("li",{children:["â€¢ Achieve ","<"," 50% toil"]}),e.jsx("li",{children:"â€¢ Regular reliability reviews"}),e.jsx("li",{children:"â€¢ Continuous improvement culture"})]})]})]})})]})]})}function Pl(){const s={name:"Production Escalation - API Service",description:"Multi-tier escalation for critical production alerts",tiers:[{tier:1,name:"Primary On-Call",delay:"Immediate",who:"Current on-call engineer",notification:["Push notification","SMS","Phone call (after 5 min)"],timeout:"15 minutes"},{tier:2,name:"Secondary On-Call",delay:"15 minutes",who:"Backup on-call engineer",notification:["Push notification","SMS","Phone call (after 5 min)"],timeout:"15 minutes"},{tier:3,name:"Engineering Lead",delay:"30 minutes",who:"Team lead or manager",notification:["Push notification","Phone call"],timeout:"15 minutes"},{tier:4,name:"Director/VP",delay:"45 minutes",who:"Engineering director",notification:["Phone call","SMS"],timeout:"Final escalation"}],specialRules:["SEV-1 incidents: Skip to Tier 2 immediately, notify Tier 3 async","Weekend/Holiday: Longer timeouts (20 min per tier)","Multiple alerts: Auto-group by service within 10 minutes","Resolved alerts: Cancel escalation and notify all parties"]},l=[{model:"Follow-the-Sun",description:"Hand off on-call to different timezones",schedule:"APAC (8am-4pm) â†’ EMEA (4pm-12am) â†’ Americas (12am-8am)",pros:["No night calls","24/7 coverage","Better work-life balance"],cons:["Requires global team","Handoff complexity","Cultural differences"],bestFor:"Large global teams"},{model:"Weekly Rotation",description:"1 week on-call, then rotate to next engineer",schedule:"Monday 9am - Monday 9am (next week)",pros:["Simple to manage","Predictable","Easy to swap shifts"],cons:["Can be exhausting","Weekend coverage burden","Varies by alert volume"],bestFor:"Medium-sized teams (5-10 people)"},{model:"24-Hour Shifts",description:"Daily rotation with 24-hour shifts",schedule:"9am-9am next day, then rotate",pros:["Short duration","Less disruption","Fair distribution"],cons:["Requires larger team","More handoffs","Coverage gaps risk"],bestFor:"Large teams (10+ people)"},{model:"Primary/Secondary",description:"Two people on-call: primary handles first, secondary is backup",schedule:"Both on-call simultaneously with escalation",pros:["Backup always available","Reduces pressure","Better for learning"],cons:["Double the cost","Secondary often unneeded","Complexity"],bestFor:"Critical systems, training periods"}],t=[{symptom:"High Alert Volume",problem:"Engineers get 20+ pages per day",impact:"Important alerts missed, burnout, ignoring pages",solution:"Alert aggregation, better thresholds, reduce noise",implementation:"Group similar alerts, use anomaly detection, SLO-based alerting"},{symptom:"False Positives",problem:"60% of alerts are false alarms",impact:"Desensitization, delayed response to real issues",solution:"Improve alert accuracy, add context, tune thresholds",implementation:"Multi-signal alerts, longer evaluation periods, historical data"},{symptom:"Non-Actionable Alerts",problem:"Alerts with no clear action needed",impact:"Confusion, wasted time investigating",solution:"Every alert must be actionable",implementation:"Add runbook links, clear remediation steps, automated resolution"},{symptom:"Alert Storms",problem:"Single issue triggers 50+ alerts",impact:"Overwhelm, can't identify root cause",solution:"Alert suppression and correlation",implementation:"Dependency mapping, alert grouping, root cause correlation"}],o=`# Runbook: API Service High Error Rate

## Alert Details
- **Alert Name:** API Error Rate > 5%
- **Severity:** SEV-2
- **Auto-Resolve:** No
- **On-Call Team:** Backend Engineering

## Impact
- Users experiencing failed requests
- Potential revenue loss
- SLO breach risk

## Triage Steps (5 minutes)

### 1. Verify the Alert
- Check dashboard: https://dashboard.example.com/api-errors
- Confirm error rate is actually elevated (not false positive)
- Check time range: Is this a spike or sustained issue?

### 2. Assess Scope
- Which endpoints are affected? (Check service map)
- Which regions? (Multi-region dashboard)
- How many users impacted? (Check RUM)
- Error types: 5xx, 4xx, timeouts?

### 3. Check Recent Changes
- Any recent deployments? (Check CI/CD pipeline)
- Configuration changes? (Check config management)
- Infrastructure changes? (Check cloud console)
- Dependency changes? (Check service dependencies)

## Investigation (10-15 minutes)

### Common Causes
1. **Database Issues**
   - Check: Database CPU, connections, slow queries
   - Dashboard: https://dashboard.example.com/database
   
2. **Memory Leak**
   - Check: Memory usage trending up?
   - Look for: OOM errors in logs
   
3. **External Dependency**
   - Check: Third-party API status pages
   - Look for: Timeout errors
   
4. **Bad Deployment**
   - Check: Error rate started after deployment?
   - Look for: New error patterns in logs

### Useful Commands
\`\`\`bash
# Check recent logs
kubectl logs -n prod -l app=api --since=30m | grep ERROR

# Check pod status
kubectl get pods -n prod -l app=api

# Check resource usage
kubectl top pods -n prod -l app=api

# Check recent deployments
kubectl rollout history deployment/api -n prod
\`\`\`

## Mitigation Steps

### Option 1: Rollback (Fastest, if bad deployment)
\`\`\`bash
# Rollback to previous version
kubectl rollout undo deployment/api -n prod

# Monitor recovery
watch kubectl get pods -n prod -l app=api
\`\`\`
**Expected time:** 5-10 minutes

### Option 2: Scale Out (If resource exhaustion)
\`\`\`bash
# Scale up replicas
kubectl scale deployment/api -n prod --replicas=10

# Check if helps
# Monitor error rate dashboard
\`\`\`
**Expected time:** 3-5 minutes

### Option 3: Restart (If memory leak or stuck state)
\`\`\`bash
# Rolling restart
kubectl rollout restart deployment/api -n prod
\`\`\`
**Expected time:** 5-10 minutes

### Option 4: Failover (If regional issue)
\`\`\`bash
# Route traffic to healthy region
./scripts/failover-to-region.sh us-west-2
\`\`\`
**Expected time:** 2-3 minutes

## Communication

### Internal
- Post in #incidents Slack channel
- Update status: "Investigating API errors"
- Loop in team lead if not resolved in 30 min

### External
- If > 10% error rate for > 15 min, update status page
- Template: "We're investigating elevated error rates on our API. Updates every 15 min."

## Recovery Verification

1. âœ… Error rate back below 1%
2. âœ… Response time back to normal (< 200ms p95)
3. âœ… No new errors in logs
4. âœ… All pods healthy
5. âœ… Monitor for 30 minutes

## Post-Incident

1. Write postmortem (use template)
2. Create tickets for action items
3. Update this runbook if gaps found
4. Schedule postmortem review meeting

## Contacts
- **Team Lead:** @john-doe
- **Database DBA:** @jane-smith
- **Platform Team:** #platform-oncall

## Related Dashboards
- API Overview: https://dashboard.example.com/api
- Database Metrics: https://dashboard.example.com/db
- Infrastructure: https://dashboard.example.com/infra

---
**Last Updated:** 2024-01-15
**Owner:** Backend Team`,a=[{category:"Before On-Call",tips:["Review recent incidents and common issues","Test your alerting devices (phone, laptop)","Ensure VPN and access credentials work","Know who to escalate to","Get sufficient sleep before starting"]},{category:"During On-Call",tips:["Keep laptop and phone charged","Stay within 15 minutes of computer access","Don't drink excessively (alcohol)","Acknowledge alerts promptly","Ask for help if overwhelmed"]},{category:"After Major Incident",tips:["Take a break, get coffee/water","Document what happened while fresh","Communicate with team about status","If late at night, consider taking next morning off","Don't immediately jump back into feature work"]},{category:"Team Support",tips:["Compensate on-call time (time off or pay)","Respect on-call availability windows","Don't schedule meetings during on-call","Provide training and shadowing","Celebrate when on-call periods are quiet"]}],c=[{tool:"PagerDuty",pricing:"$21-59/user/month",features:["Advanced escalation","Incident workflows","Event intelligence (AI)","Status pages","Postmortem tools"],pros:["Industry standard","Best feature set","Great integrations","Excellent mobile app"],cons:["Expensive at scale","Complex for small teams"],bestFor:"Large enterprises, complex setups"},{tool:"Opsgenie",pricing:"$9-29/user/month",features:["Flexible escalation","On-call scheduling","Alert grouping","Heartbeat monitoring","Integrations"],pros:["More affordable","Good feature set","Atlassian integration","Easy to use"],cons:["Less mature than PagerDuty","Fewer advanced features"],bestFor:"Mid-size companies, Atlassian users"},{tool:"VictorOps (Splunk On-Call)",pricing:"$15-49/user/month",features:["Incident response","Post-incident review","Integrations","Reporting","Mobile app"],pros:["Good Splunk integration","User-friendly","Incident timelines"],cons:["Splunk acquisition concerns","Smaller community"],bestFor:"Splunk users, DevOps teams"},{tool:"Grafana OnCall",pricing:"Free (OSS) / $15/user/month (Cloud)",features:["Escalation chains","Schedules","Grafana integration","Slack/Telegram","Open source"],pros:["Open source option","Great Grafana integration","Cost-effective"],cons:["Newer/less mature","Fewer integrations","Limited features"],bestFor:"Budget-conscious, Grafana users"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-4",children:"On-Call Best Practices"}),e.jsx("p",{className:"text-lg text-slate-600",children:"Effective on-call management, escalation policies, and preventing alert fatigue"})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"On-Call Rotation Models"})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-4",children:l.map((r,d)=>e.jsxs("div",{className:"border rounded-lg p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-bold text-slate-900",children:r.model}),e.jsx("p",{className:"text-slate-600 mt-1",children:r.description})]}),e.jsxs(f,{children:["Model ",d+1]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Schedule"}),e.jsx("div",{className:"text-sm text-blue-900",children:r.schedule})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-green-700 mb-2",children:"Pros"}),e.jsx("ul",{className:"space-y-1",children:r.pros.map((i,n)=>e.jsxs("li",{className:"text-xs text-slate-700",children:["â€¢ ",i]},n))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-red-700 mb-2",children:"Cons"}),e.jsx("ul",{className:"space-y-1",children:r.cons.map((i,n)=>e.jsxs("li",{className:"text-xs text-slate-700",children:["â€¢ ",i]},n))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"Best For"}),e.jsx("div",{className:"text-xs text-slate-700",children:r.bestFor})]})]})]},d))})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Escalation Policy Example"})}),e.jsxs(P,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h5",{className:"font-semibold text-slate-900 mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-slate-600",children:s.description})]}),e.jsx("div",{className:"space-y-3 mb-6",children:s.tiers.map((r,d)=>e.jsxs("div",{className:"flex items-start gap-4 border-l-4 border-blue-600 pl-4 py-2",children:[e.jsx("div",{className:"flex-shrink-0 w-16",children:e.jsxs(f,{className:"bg-blue-600",children:["Tier ",r.tier]})}),e.jsxs("div",{className:"flex-1 grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:r.name}),e.jsx("div",{className:"text-xs text-slate-600",children:r.who})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-600",children:"Delay"}),e.jsx("div",{className:"text-sm font-semibold",children:r.delay})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-600",children:"Notification"}),e.jsx("div",{className:"text-xs text-slate-700",children:r.notification.join(", ")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-600",children:"Timeout"}),e.jsx("div",{className:"text-sm font-semibold",children:r.timeout})]})]})]},d))}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h6",{className:"font-semibold text-yellow-900 mb-2",children:"Special Rules"}),e.jsx("ul",{className:"space-y-1",children:s.specialRules.map((r,d)=>e.jsxs("li",{className:"text-sm text-yellow-900",children:["â€¢ ",r]},d))})]})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Preventing Alert Fatigue"})}),e.jsxs(P,{children:[e.jsx(_,{className:"mb-6 bg-red-50 border-red-200",children:e.jsxs($,{children:[e.jsx("strong",{children:"âš ï¸ Warning:"})," Alert fatigue is a serious problem. Engineers who get too many false alerts become desensitized and may miss critical issues."]})}),e.jsx("div",{className:"space-y-4",children:t.map((r,d)=>e.jsxs("div",{className:"border rounded-lg p-5",children:[e.jsx("h5",{className:"text-lg font-bold text-slate-900 mb-3",children:r.symptom}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-semibold text-red-800 mb-1",children:"Problem"}),e.jsx("div",{className:"text-sm text-red-900",children:r.problem})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-semibold text-orange-800 mb-1",children:"Impact"}),e.jsx("div",{className:"text-sm text-orange-900",children:r.impact})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-semibold text-green-800 mb-1",children:"Solution"}),e.jsx("div",{className:"text-sm text-green-900",children:r.solution})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Implementation"}),e.jsx("div",{className:"text-sm text-blue-900",children:r.implementation})]})]})]},d))}),e.jsxs("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-lg p-6",children:[e.jsx("h6",{className:"font-semibold text-green-900 mb-3",children:"Alert Quality Metrics"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-900",children:["<"," 5"]}),e.jsx("div",{className:"text-sm text-green-800",children:"Pages per on-call shift"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-900",children:[">"," 90%"]}),e.jsx("div",{className:"text-sm text-green-800",children:"Actionable alerts"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-900",children:["<"," 10%"]}),e.jsx("div",{className:"text-sm text-green-800",children:"False positive rate"})]})]})]})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"Runbook Template"})}),e.jsxs(P,{children:[e.jsx("p",{className:"text-slate-600 mb-4",children:"Every alert should have a runbook with clear investigation and mitigation steps."}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 p-6 rounded-lg overflow-x-auto text-sm",children:e.jsx("code",{children:o})}),e.jsx(_,{className:"mt-6 bg-blue-50 border-blue-200",children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸ’¡ Best Practice:"})," Link runbooks directly from alerts. Engineers should never have to search for what to do when paged."]})})]})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"On-Call Management Tools"})}),e.jsx(P,{children:e.jsx("div",{className:"space-y-4",children:c.map((r,d)=>e.jsxs("div",{className:"border rounded-lg p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h5",{className:"text-lg font-bold text-slate-900",children:r.tool}),e.jsx(f,{variant:"outline",children:r.pricing})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Features"}),e.jsx("ul",{className:"space-y-1",children:r.features.map((i,n)=>e.jsxs("li",{className:"text-xs text-slate-700",children:["â€¢ ",i]},n))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-green-700 mb-2",children:"Pros"}),e.jsx("ul",{className:"space-y-1",children:r.pros.map((i,n)=>e.jsxs("li",{className:"text-xs text-slate-700",children:["â€¢ ",i]},n))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-red-700 mb-2",children:"Cons"}),e.jsx("ul",{className:"space-y-1",children:r.cons.map((i,n)=>e.jsxs("li",{className:"text-xs text-slate-700",children:["â€¢ ",i]},n))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"Best For"}),e.jsx("div",{className:"text-xs text-slate-700",children:r.bestFor})]})]})]},d))})})]}),e.jsxs(b,{children:[e.jsx(k,{children:e.jsx(A,{children:"On-Call Wellness & Compensation"})}),e.jsxs(P,{children:[e.jsx("div",{className:"space-y-4",children:a.map((r,d)=>e.jsxs("div",{className:"border rounded-lg p-5",children:[e.jsx("h5",{className:"text-lg font-bold text-slate-900 mb-3",children:r.category}),e.jsx("ul",{className:"space-y-2",children:r.tips.map((i,n)=>e.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600 mt-0.5",children:"âœ“"}),i]},n))})]},d))}),e.jsxs("div",{className:"mt-6 bg-purple-50 border border-purple-200 rounded-lg p-6",children:[e.jsx("h6",{className:"font-semibold text-purple-900 mb-3",children:"Compensation Models"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-purple-900 mb-1",children:"On-Call Stipend"}),e.jsx("div",{className:"text-purple-800",children:"$200-500/week flat rate for being available"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-purple-900 mb-1",children:"Incident Pay"}),e.jsx("div",{className:"text-purple-800",children:"$50-150/incident for after-hours pages"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-purple-900 mb-1",children:"Time Off"}),e.jsx("div",{className:"text-purple-800",children:"Comp time for major incidents (e.g., 3 hours work = 1 day off)"})]})]})]}),e.jsx(_,{className:"mt-6 bg-yellow-50 border-yellow-200",children:e.jsxs($,{children:[e.jsx("strong",{children:"âš ï¸ Important:"})," On-call duty is stressful. Proper compensation and support are essential for retention and mental health. Don't undervalue your on-call engineers!"]})})]})]})]})}function Tl(){const[s,l]=x.useState("3-months"),[t,o]=x.useState(20);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-purple-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-purple-600 text-white flex items-center justify-center text-sm",children:"ðŸ“ˆ"}),"CAPACITY PLANNING"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Trend Analysis & Resource Forecasting"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Proactively plan infrastructure capacity to avoid both over-provisioning waste and under-provisioning failures."})]}),e.jsxs(b,{className:"border-2 border-purple-200",children:[e.jsx(k,{children:e.jsx(A,{className:"text-2xl",children:"Forecasting Models"})}),e.jsx(P,{className:"space-y-6",children:e.jsxs(Se,{defaultValue:"linear",children:[e.jsxs(be,{className:"grid w-full grid-cols-4",children:[e.jsx(W,{value:"linear",children:"Linear"}),e.jsx(W,{value:"seasonal",children:"Seasonal"}),e.jsx(W,{value:"ml",children:"ML-Based"}),e.jsx(W,{value:"quantile",children:"Quantile"})]}),e.jsx(de,{value:"linear",className:"space-y-4",children:e.jsxs("div",{className:" from-purple-50 to-blue-50 p-6 rounded-xl",children:[e.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[e.jsx(f,{variant:"outline",children:"Simple"}),"Linear Regression"]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Best for steady growth patterns. Fits a straight line through historical data points."}),e.jsxs("div",{className:"bg-white p-4 rounded-lg font-mono text-sm",children:[e.jsx("div",{className:"text-slate-600",children:"// Python with scikit-learn"}),e.jsx("div",{children:"from sklearn.linear_model import LinearRegression"}),e.jsx("div",{className:"mt-2",children:"model = LinearRegression()"}),e.jsx("div",{children:"model.fit(X_train, y_train)"}),e.jsx("div",{children:"future_capacity = model.predict(future_dates)"})]}),e.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg text-sm",children:[e.jsx("strong",{children:"âœ… Use when:"})," Consistent growth rate (e.g., 20% quarterly)"]})]})}),e.jsx(de,{value:"seasonal",className:"space-y-4",children:e.jsxs("div",{className:" from-purple-50 to-blue-50 p-6 rounded-xl",children:[e.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[e.jsx(f,{variant:"outline",children:"Intermediate"}),"ARIMA / Seasonal Decomposition"]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Accounts for seasonal patterns (e.g., Black Friday traffic spikes, end-of-quarter batch jobs)."}),e.jsxs("div",{className:"bg-white p-4 rounded-lg font-mono text-sm",children:[e.jsx("div",{className:"text-slate-600",children:"// Python with statsmodels"}),e.jsx("div",{children:"from statsmodels.tsa.seasonal import seasonal_decompose"}),e.jsx("div",{className:"mt-2",children:"result = seasonal_decompose(timeseries, model='additive')"}),e.jsx("div",{children:"trend = result.trend"}),e.jsx("div",{children:"seasonal = result.seasonal"}),e.jsx("div",{children:"forecast = trend + seasonal"})]}),e.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg text-sm",children:[e.jsx("strong",{children:"âœ… Use when:"})," Recurring patterns (daily, weekly, monthly cycles)"]})]})}),e.jsx(de,{value:"ml",className:"space-y-4",children:e.jsxs("div",{className:" from-purple-50 to-blue-50 p-6 rounded-xl",children:[e.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[e.jsx(f,{variant:"outline",children:"Advanced"}),"ML-Based Forecasting (Prophet, LSTM)"]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Captures complex patterns, handles missing data, and incorporates external events."}),e.jsxs("div",{className:"bg-white p-4 rounded-lg font-mono text-sm",children:[e.jsx("div",{className:"text-slate-600",children:"// Facebook Prophet"}),e.jsx("div",{children:"from fbprophet import Prophet"}),e.jsx("div",{className:"mt-2",children:"model = Prophet(yearly_seasonality=True)"}),e.jsx("div",{children:"model.fit(df)"}),e.jsx("div",{children:"future = model.make_future_dataframe(periods=90)"}),e.jsx("div",{children:"forecast = model.predict(future)"})]}),e.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg text-sm",children:[e.jsx("strong",{children:"âœ… Use when:"})," Complex patterns, multiple seasonalities, holiday effects"]})]})}),e.jsx(de,{value:"quantile",className:"space-y-4",children:e.jsxs("div",{className:" from-purple-50 to-blue-50 p-6 rounded-xl",children:[e.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[e.jsx(f,{variant:"outline",children:"Probabilistic"}),"Quantile Regression"]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Provides confidence intervals (P50, P90, P99) instead of a single prediction."}),e.jsxs("div",{className:"bg-white p-4 rounded-lg font-mono text-sm",children:[e.jsx("div",{className:"text-slate-600",children:"// Plan for P90 capacity needs"}),e.jsx("div",{children:"p50_forecast = quantile_regression(0.5)"}),e.jsx("div",{children:"p90_forecast = quantile_regression(0.9)"}),e.jsx("div",{children:"p99_forecast = quantile_regression(0.99)"}),e.jsx("div",{className:"mt-2 text-slate-600",children:"// Provision for P90 to balance cost vs risk"})]}),e.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg text-sm",children:[e.jsx("strong",{children:"âœ… Use when:"}),` Need risk assessment (e.g., "90% confident we won't exceed")`]})]})})]})})]}),e.jsxs(b,{className:"border-2 border-purple-200",children:[e.jsx(k,{children:e.jsx(A,{className:"text-2xl",children:"Key Utilization Metrics"})}),e.jsx(P,{children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("h4",{className:"font-bold mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’»"})," CPU & Memory"]}),e.jsxs("ul",{className:"text-sm space-y-2 text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Target:"})," 60-80% average utilization"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Alert:"})," ",">"," 85% for 15+ minutes"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Metrics:"})," system.cpu.utilization, system.memory.usage"]})]})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("h4",{className:"font-bold mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’¾"})," Storage"]}),e.jsxs("ul",{className:"text-sm space-y-2 text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Target:"})," ","<"," 75% disk usage"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Alert:"})," ",">"," 80% (6 months lead time to provision)"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Metrics:"})," system.filesystem.utilization, database.size"]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("h4",{className:"font-bold mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸŒ"})," Network"]}),e.jsxs("ul",{className:"text-sm space-y-2 text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Target:"})," ","<"," 60% bandwidth utilization"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Alert:"})," Packet loss ",">"," 0.1%, latency spikes"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Metrics:"})," system.network.io, connections.active"]})]})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("h4",{className:"font-bold mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ—„ï¸"})," Database"]}),e.jsxs("ul",{className:"text-sm space-y-2 text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Target:"})," Connection pool ","<"," 70% used"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Alert:"})," Query latency P95 increasing trend"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Metrics:"})," db.connections, db.query.duration"]})]})]})]})]})]})})]}),e.jsxs(b,{className:"border-2 border-purple-200",children:[e.jsx(k,{children:e.jsx(A,{className:"text-2xl",children:"Scaling Triggers & Thresholds"})}),e.jsx(P,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(_,{className:"border-purple-200 bg-purple-50",children:e.jsxs($,{children:[e.jsx("strong",{children:"Rule of Thumb:"})," Scale out (add instances) before you scale up (bigger instances). Horizontal scaling provides better availability and cost efficiency."]})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ“Š"}),e.jsx("h4",{className:"font-bold mb-2 text-green-900",children:"Metric-Based"}),e.jsxs("p",{className:"text-sm text-slate-700 mb-3",children:["Scale when CPU ",">"," 70% for 5 minutes"]}),e.jsxs("div",{className:"text-xs font-mono bg-white p-2 rounded border",children:["if avg(cpu_usage) ",">"," 70:",e.jsx("br",{}),"Â Â scale_out(+2 instances)"]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ“…"}),e.jsx("h4",{className:"font-bold mb-2 text-blue-900",children:"Schedule-Based"}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"Pre-scale for known events (Black Friday, batch jobs)"}),e.jsxs("div",{className:"text-xs font-mono bg-white p-2 rounded border",children:["# Cron: Scale up at 8 AM",e.jsx("br",{}),"0 8 * * * scale_to(20)"]})]}),e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border-2 border-orange-200",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ¤–"}),e.jsx("h4",{className:"font-bold mb-2 text-orange-900",children:"Predictive"}),e.jsx("p",{className:"text-sm text-slate-700 mb-3",children:"ML model predicts load 30 min ahead"}),e.jsxs("div",{className:"text-xs font-mono bg-white p-2 rounded border",children:["predicted_load = model()",e.jsx("br",{}),"if predicted ",">"," threshold:",e.jsx("br",{}),"Â Â scale_proactively()"]})]})]}),e.jsxs("div",{className:"bg-slate-900 text-white p-6 rounded-xl",children:[e.jsx("h4",{className:"font-bold mb-4 text-lg",children:"AWS Auto Scaling Example"}),e.jsx("pre",{className:"text-xs overflow-x-auto bg-slate-800 p-4 rounded",children:`# CloudFormation / Terraform
AutoScalingPolicy:
  Type: AWS::AutoScaling::ScalingPolicy
  Properties:
    TargetTrackingConfiguration:
      PredefinedMetricType: ASGAverageCPUUtilization
      TargetValue: 70.0
    ScaleInCooldown: 300  # Wait 5 min before scaling in
    ScaleOutCooldown: 60  # Scale out quickly (1 min)`})]})]})})]}),e.jsxs(b,{className:"border-2 border-purple-200",children:[e.jsx(k,{children:e.jsx(A,{className:"text-2xl",children:"Capacity Planning Lead Times"})}),e.jsx(P,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-slate-200",children:[e.jsx("th",{className:"text-left p-3 font-bold",children:"Resource Type"}),e.jsx("th",{className:"text-left p-3 font-bold",children:"Provisioning Time"}),e.jsx("th",{className:"text-left p-3 font-bold",children:"Planning Horizon"}),e.jsx("th",{className:"text-left p-3 font-bold",children:"Notes"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"p-3",children:"Cloud VM (Auto-scaled)"}),e.jsx("td",{className:"p-3",children:e.jsx(f,{variant:"outline",className:"bg-green-50",children:"2-5 minutes"})}),e.jsx("td",{className:"p-3",children:"Same day"}),e.jsx("td",{className:"p-3 text-xs text-slate-600",children:"Near-instant capacity"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"p-3",children:"Reserved Instances"}),e.jsx("td",{className:"p-3",children:e.jsx(f,{variant:"outline",className:"bg-yellow-50",children:"1-2 weeks"})}),e.jsx("td",{className:"p-3",children:"3-6 months"}),e.jsx("td",{className:"p-3 text-xs text-slate-600",children:"For cost savings (up to 70%)"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"p-3",children:"Database (RDS, managed)"}),e.jsx("td",{className:"p-3",children:e.jsx(f,{variant:"outline",className:"bg-yellow-50",children:"10-30 minutes"})}),e.jsx("td",{className:"p-3",children:"1-2 months"}),e.jsx("td",{className:"p-3 text-xs text-slate-600",children:"Vertical scaling requires downtime"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"p-3",children:"Bare Metal Servers"}),e.jsx("td",{className:"p-3",children:e.jsx(f,{variant:"outline",className:"bg-red-50",children:"4-8 weeks"})}),e.jsx("td",{className:"p-3",children:"6-12 months"}),e.jsx("td",{className:"p-3 text-xs text-slate-600",children:"Procurement, delivery, setup"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"p-3",children:"Data Center Rack Space"}),e.jsx("td",{className:"p-3",children:e.jsx(f,{variant:"outline",className:"bg-red-50",children:"3-6 months"})}),e.jsx("td",{className:"p-3",children:"12-24 months"}),e.jsx("td",{className:"p-3 text-xs text-slate-600",children:"Contract negotiation, wiring, cooling"})]})]})]})}),e.jsx(_,{className:"border-orange-200 bg-orange-50",children:e.jsxs($,{children:[e.jsx("strong",{children:"âš ï¸ Plan Ahead:"})," The longer the provisioning time, the further ahead you must forecast. For bare metal, you need 12-18 month capacity forecasts."]})})]})})]}),e.jsxs(b,{className:"border-2 border-purple-200",children:[e.jsx(k,{children:e.jsx(A,{className:"text-2xl",children:"Capacity Planning Best Practices"})}),e.jsx(P,{children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center font-bold flex-shrink-0",children:"âœ“"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-1",children:"Review Quarterly"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Update forecasts every 3 months with actual growth data"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center font-bold flex-shrink-0",children:"âœ“"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-1",children:"Buffer for Spikes"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Always provision 20-30% above P95 demand"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center font-bold flex-shrink-0",children:"âœ“"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-1",children:"Monitor Trend Divergence"}),e.jsxs("p",{className:"text-sm text-slate-600",children:["Alert when actual usage deviates ",">","15% from forecast"]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center font-bold flex-shrink-0",children:"âœ“"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-1",children:"Document Assumptions"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Record growth rate, seasonal factors, upcoming launches"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center font-bold flex-shrink-0",children:"âœ—"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-1",children:"Don't Rely on Single Model"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Use ensemble methods: linear + seasonal + ML"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center font-bold flex-shrink-0",children:"âœ—"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-1",children:"Ignore Business Events"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Coordinate with product/marketing on launches"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center font-bold flex-shrink-0",children:"âœ—"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-1",children:'Over-provision "To Be Safe"'}),e.jsx("p",{className:"text-sm text-slate-600",children:"Wastes money. Use data-driven P90/P95 targets"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center font-bold flex-shrink-0",children:"âœ—"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-1",children:"Forget About Lead Times"}),e.jsx("p",{className:"text-sm text-slate-600",children:"DB scaling takes weeks, not minutes"})]})]})]})]})})]}),e.jsxs(b,{className:" from-purple-900 to-blue-900 border-2",children:[e.jsx(k,{children:e.jsx(A,{className:"text-2xl",children:"Capacity Planning Tools"})}),e.jsx(P,{children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2",children:"ðŸ“Š Grafana + Prometheus"}),e.jsx("p",{className:"text-sm mb-2",children:"Time-series visualization with prediction plugins"}),e.jsx("div",{className:"text-xs",children:"Plugin: grafana-ml-forecasting"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2",children:"â˜ï¸ AWS Compute Optimizer"}),e.jsx("p",{className:"text-sm mb-2",children:"ML-powered rightsizing recommendations"}),e.jsx("div",{className:"text-xs",children:"Free with AWS account"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2",children:"ðŸ Python Ecosystem"}),e.jsx("p",{className:"text-sm mb-2",children:"Prophet, ARIMA, pandas for custom models"}),e.jsx("div",{className:"text-xs",children:"fbprophet, statsmodels, scikit-learn"})]})]})})]})]})}function Rl(){const[s,l]=x.useState("backstage");return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-indigo-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-600 text-white flex items-center justify-center text-sm",children:"ðŸ“š"}),"SERVICE CATALOG"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Internal Developer Platforms & Service Registry"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"A service catalog acts as a central hub for discovering, understanding, and managing all services in your organization."})]}),e.jsxs(b,{className:"border-2 border-indigo-200",children:[e.jsx(k,{children:e.jsx(A,{className:"text-2xl",children:"Why You Need a Service Catalog"})}),e.jsxs(P,{children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:[e.jsxs("h4",{className:"font-bold mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ”"})," Discoverability"]}),e.jsx("p",{className:"text-sm text-slate-700",children:`"Who owns the payment service? What's its SLA? How do I call it?" Without a catalog, developers waste hours searching Slack and wikis.`})]}),e.jsxs("div",{className:"p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:[e.jsxs("h4",{className:"font-bold mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ”—"})," Dependency Mapping"]}),e.jsx("p",{className:"text-sm text-slate-700",children:"Visualize service dependencies to understand blast radius of incidents and plan migrations safely."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:[e.jsxs("h4",{className:"font-bold mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"âš™ï¸"})," Self-Service"]}),e.jsx("p",{className:"text-sm text-slate-700",children:"Developers create new services, databases, and CI/CD pipelines using templatesâ€”no waiting for ops tickets."})]}),e.jsxs("div",{className:"p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:[e.jsxs("h4",{className:"font-bold mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“Š"})," Compliance & Governance"]}),e.jsx("p",{className:"text-sm text-slate-700",children:"Track which services lack security reviews, TLS certs, or proper monitoring. Automated scorecards ensure standards."})]})]})]}),e.jsx(_,{className:"mt-6 border-indigo-200 bg-indigo-50",children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸ’¡ Key Insight:"})," In organizations with 50+ microservices, engineers spend 2-5 hours per week just finding the right service and its owner. A service catalog pays for itself in saved developer time."]})})]})]}),e.jsxs(b,{className:"border-2 border-indigo-200",children:[e.jsx(k,{children:e.jsx(A,{className:"text-2xl",children:"Internal Developer Platform Solutions"})}),e.jsx(P,{children:e.jsxs(Se,{defaultValue:"backstage",onValueChange:l,children:[e.jsxs(be,{className:"grid w-full grid-cols-4",children:[e.jsx(W,{value:"backstage",children:"Backstage"}),e.jsx(W,{value:"cortex",children:"Cortex"}),e.jsx(W,{value:"port",children:"Port"}),e.jsx(W,{value:"custom",children:"Custom"})]}),e.jsx(de,{value:"backstage",className:"space-y-4",children:e.jsxs("div",{className:" from-indigo-50 to-purple-50 p-6 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("h3",{className:"font-bold text-2xl",children:"Backstage.io"}),e.jsx(f,{className:"bg-green-600",children:"Open Source"}),e.jsx(f,{variant:"outline",children:"Spotify"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"The most popular open-source developer portal. Created by Spotify, adopted by Netflix, American Airlines, and hundreds of others."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-bold mb-2 text-green-700",children:"âœ… Pros"}),e.jsxs("ul",{className:"text-sm space-y-1 text-slate-700",children:[e.jsx("li",{children:"â€¢ Free and open source"}),e.jsx("li",{children:"â€¢ 100+ plugins (GitHub, Kubernetes, PagerDuty)"}),e.jsx("li",{children:"â€¢ Software Templates (create service in 1 click)"}),e.jsx("li",{children:"â€¢ TechDocs (docs-as-code with MkDocs)"}),e.jsx("li",{children:"â€¢ Strong community and ecosystem"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-bold mb-2 text-red-700",children:"âŒ Cons"}),e.jsxs("ul",{className:"text-sm space-y-1 text-slate-700",children:[e.jsx("li",{children:"â€¢ Requires hosting and maintenance"}),e.jsx("li",{children:"â€¢ Initial setup is complex (2-4 weeks)"}),e.jsx("li",{children:"â€¢ Need to write custom plugins for proprietary tools"}),e.jsx("li",{children:"â€¢ No built-in hosting (use AWS, GCP, or K8s)"})]})]})]}),e.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg font-mono text-xs",children:[e.jsx("div",{className:"text-slate-700 mb-2",children:"# Quick Start (Docker)"}),e.jsx("div",{children:"npx @backstage/create-app@latest"}),e.jsx("div",{children:"cd my-backstage-app"}),e.jsx("div",{children:"yarn dev"}),e.jsx("div",{className:"mt-2 text-slate-700",children:"# Access at http://localhost:3000"})]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm",children:[e.jsx("strong",{children:"ðŸ’° Cost:"})," Free (OSS), but budget $50-200/month for hosting + 1-2 engineers for maintenance"]})]})}),e.jsx(de,{value:"cortex",className:"space-y-4",children:e.jsxs("div",{className:" from-indigo-50 to-purple-50 p-6 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("h3",{className:"font-bold text-2xl",children:"Cortex"}),e.jsx(f,{className:"bg-blue-600",children:"SaaS"}),e.jsx(f,{variant:"outline",children:"Enterprise"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Cloud-native service catalog with built-in scorecards, on-call management, and integrations."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-bold mb-2 text-green-700",children:"âœ… Pros"}),e.jsxs("ul",{className:"text-sm space-y-1 text-slate-700",children:[e.jsx("li",{children:"â€¢ Fully managed SaaS (no hosting)"}),e.jsx("li",{children:"â€¢ Built-in Scorecards for service quality"}),e.jsx("li",{children:"â€¢ Advanced RBAC and audit logs"}),e.jsx("li",{children:"â€¢ Integrations with 100+ tools"}),e.jsx("li",{children:"â€¢ AI-powered service discovery"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-bold mb-2 text-red-700",children:"âŒ Cons"}),e.jsxs("ul",{className:"text-sm space-y-1 text-slate-700",children:[e.jsx("li",{children:"â€¢ Expensive ($10k-50k/year)"}),e.jsx("li",{children:"â€¢ Closed source (vendor lock-in)"}),e.jsx("li",{children:"â€¢ Limited customization vs Backstage"}),e.jsx("li",{children:"â€¢ Overkill for small teams"})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Key Features"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsx("div",{className:"p-2 bg-slate-50 rounded",children:"ðŸ“Š Service Scorecards"}),e.jsx("div",{className:"p-2 bg-slate-50 rounded",children:"ðŸ”” Incident Response"}),e.jsx("div",{className:"p-2 bg-slate-50 rounded",children:"ðŸ—‚ï¸ API Catalog"}),e.jsx("div",{className:"p-2 bg-slate-50 rounded",children:"ðŸ“ˆ Analytics Dashboard"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm",children:[e.jsx("strong",{children:"ðŸ’° Cost:"})," $10k-$50k/year (pricing based on # of services and users)"]})]})}),e.jsx(de,{value:"port",className:"space-y-4",children:e.jsxs("div",{className:" from-indigo-50 to-purple-50 p-6 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("h3",{className:"font-bold text-2xl",children:"Port"}),e.jsx(f,{className:"bg-blue-600",children:"SaaS"}),e.jsx(f,{variant:"outline",children:"DevEx Platform"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Developer Experience platform with service catalog, self-service actions, and automation."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-bold mb-2 text-green-700",children:"âœ… Pros"}),e.jsxs("ul",{className:"text-sm space-y-1 text-slate-700",children:[e.jsx("li",{children:"â€¢ No-code entity modeling"}),e.jsx("li",{children:"â€¢ Self-service actions (deploy, scale, rollback)"}),e.jsx("li",{children:"â€¢ Free tier for small teams"}),e.jsx("li",{children:"â€¢ Modern UI/UX"}),e.jsx("li",{children:"â€¢ Webhooks and automation"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-bold mb-2 text-red-700",children:"âŒ Cons"}),e.jsxs("ul",{className:"text-sm space-y-1 text-slate-700",children:[e.jsx("li",{children:"â€¢ Newer product (less mature)"}),e.jsx("li",{children:"â€¢ Smaller community vs Backstage"}),e.jsx("li",{children:"â€¢ Limited plugin ecosystem"}),e.jsx("li",{children:"â€¢ SaaS-only (no self-hosted option)"})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Unique Features"}),e.jsxs("ul",{className:"text-sm space-y-2 text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-600 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Blueprint Designer:"})," Define service schema with drag-and-drop"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-600 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Self-Service Actions:"})," One-click deploys, rollbacks, DB provisions"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-600 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Automation:"})," Trigger GitHub Actions, ArgoCD, Terraform from UI"]})]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm",children:[e.jsx("strong",{children:"ðŸ’° Cost:"})," Free for ","<","5 users, then $15/user/month"]})]})}),e.jsx(de,{value:"custom",className:"space-y-4",children:e.jsxs("div",{className:" from-indigo-50 to-purple-50 p-6 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("h3",{className:"font-bold text-2xl",children:"Custom Solution"}),e.jsx(f,{className:"bg-purple-600",children:"DIY"})]}),e.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Build your own using a combination of tools. Common for early-stage startups."}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border mb-4",children:[e.jsx("h4",{className:"font-bold mb-3",children:"Minimal Service Catalog Stack"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-slate-50 rounded border-l-4 border-indigo-400",children:[e.jsx("div",{className:"font-bold mb-1",children:"ðŸ“‹ Service Registry"}),e.jsx("div",{className:"text-sm text-slate-600",children:"services.yaml in Git repo (YAML file listing all services)"})]}),e.jsxs("div",{className:"p-3 bg-slate-50 rounded border-l-4 border-indigo-400",children:[e.jsx("div",{className:"font-bold mb-1",children:"ðŸ“š API Documentation"}),e.jsx("div",{className:"text-sm text-slate-600",children:"OpenAPI (Swagger) specs + Redoc/Swagger UI"})]}),e.jsxs("div",{className:"p-3 bg-slate-50 rounded border-l-4 border-indigo-400",children:[e.jsx("div",{className:"font-bold mb-1",children:"ðŸ“ž On-call & Ownership"}),e.jsx("div",{className:"text-sm text-slate-600",children:"PagerDuty or OpsGenie for on-call rotations"})]}),e.jsxs("div",{className:"p-3 bg-slate-50 rounded border-l-4 border-indigo-400",children:[e.jsx("div",{className:"font-bold mb-1",children:"ðŸ”— Dependency Graph"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Service mesh (Istio, Linkerd) visualizations"})]})]})]}),e.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg font-mono text-xs mb-4",children:[e.jsx("div",{className:"text-slate-400 mb-2",children:"# services.yaml (in Git)"}),e.jsx("pre",{children:`services:
  - name: payment-service
    owner: payments-team@example.com
    repo: github.com/myorg/payment-service
    on_call: pagerduty/payments
    sla: 99.9%
    dependencies:
      - user-service
      - billing-db
    endpoints:
      - POST /api/v1/payments
      - GET /api/v1/payments/:id`})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-bold mb-2 text-green-700",children:"âœ… Pros"}),e.jsxs("ul",{className:"text-sm space-y-1 text-slate-700",children:[e.jsx("li",{children:"â€¢ Zero cost"}),e.jsx("li",{children:"â€¢ Full control and customization"}),e.jsx("li",{children:"â€¢ No vendor lock-in"}),e.jsxs("li",{children:["â€¢ Good for ","<","20 services"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-bold mb-2 text-red-700",children:"âŒ Cons"}),e.jsxs("ul",{className:"text-sm space-y-1 text-slate-700",children:[e.jsx("li",{children:"â€¢ Manual maintenance overhead"}),e.jsx("li",{children:"â€¢ No search or UI"}),e.jsx("li",{children:"â€¢ Doesn't scale beyond 50 services"}),e.jsx("li",{children:"â€¢ No automated discovery"})]})]})]})]})})]})})]}),e.jsxs(b,{className:"border-2 border-indigo-200",children:[e.jsx(k,{children:e.jsx(A,{className:"text-2xl",children:"Service Metadata Schema"})}),e.jsxs(P,{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Regardless of the platform, your catalog should track these essential fields:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-bold mb-3",children:"ðŸ”‘ Core Metadata"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(f,{variant:"outline",className:"text-xs",children:"Required"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Name:"})," service-name"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(f,{variant:"outline",className:"text-xs",children:"Required"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Owner:"})," team-name or email"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(f,{variant:"outline",className:"text-xs",children:"Required"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Type:"})," api, database, job, frontend"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(f,{variant:"outline",className:"text-xs",children:"Required"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Lifecycle:"})," production, staging, deprecated"]})]})]})]}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-bold mb-3",children:"ðŸ”— Integration Links"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(f,{variant:"outline",className:"text-xs bg-blue-50",children:"Repo"}),e.jsx("div",{children:"GitHub/GitLab URL"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(f,{variant:"outline",className:"text-xs bg-green-50",children:"Docs"}),e.jsx("div",{children:"README, Wiki, or Confluence"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(f,{variant:"outline",className:"text-xs bg-orange-50",children:"Alerts"}),e.jsx("div",{children:"PagerDuty, OpsGenie"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(f,{variant:"outline",className:"text-xs bg-purple-50",children:"Metrics"}),e.jsx("div",{children:"Grafana dashboard URL"})]})]})]}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-bold mb-3",children:"ðŸ›¡ï¸ Compliance & Quality"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-600",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"SLA:"})," 99.9%, 99.95%, 99.99%"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-600",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Security Review:"})," Date + status"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-600",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Data Classification:"})," Public, Internal, Confidential"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-600",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Test Coverage:"})," ",">"," 80% required"]})]})]})]}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-bold mb-3",children:"ðŸ”„ Dependencies"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-600",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Depends On:"})," [user-service, auth-db]"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-600",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Consumed By:"})," [frontend, mobile-app]"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-600",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"APIs:"})," OpenAPI spec URL"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-600",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Infra:"})," AWS, GCP, on-prem"]})]})]})]})]})]})]}),e.jsxs(b,{className:" from-indigo-900 to-purple-900  border-0",children:[e.jsx(k,{children:e.jsx(A,{className:"text-2xl",children:"Service Catalog Best Practices"})}),e.jsx(P,{children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-400 text-green-900 flex items-center justify-center font-bold flex-shrink-0",children:"âœ“"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-1",children:"Enforce at CI/CD"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Block deployments if service isn't registered in catalog"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-400 text-green-900 flex items-center justify-center font-bold flex-shrink-0",children:"âœ“"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-1",children:"Single Source of Truth"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Catalog should auto-sync from Git, not manually updated"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-400 text-green-900 flex items-center justify-center font-bold flex-shrink-0",children:"âœ“"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-1",children:"Gamify Quality"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Show scorecard leaderboards to motivate teams"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-400 text-red-900 flex items-center justify-center font-bold flex-shrink-0",children:"âœ—"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-1",children:"Don't Make It Optional"}),e.jsx("p",{className:"text-sm text-slate-700",children:"If catalog is optional, it'll become stale within weeks"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-400 text-red-900 flex items-center justify-center font-bold flex-shrink-0",children:"âœ—"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-1",children:"Avoid Manual Updates"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Auto-discover services from repos, service mesh, APM"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-400 text-red-900 flex items-center justify-center font-bold flex-shrink-0",children:"âœ—"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-1",children:"Don't Boil the Ocean"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Start with core metadata, add fields incrementally"})]})]})]})]})})]})]})}function El(){const s=le(),l=x.useRef([]);return x.useEffect(()=>{const t=new IntersectionObserver(o=>{o.forEach(a=>{a.isIntersecting&&(a.target.classList.add("opacity-100","translate-y-0"),a.target.classList.remove("opacity-0","translate-y-8"))})},{threshold:.1,rootMargin:"0px 0px -100px 0px"});return l.current.forEach(o=>{o&&t.observe(o)}),()=>t.disconnect()},[]),e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"relative gradient-overlay py-20 md:py-32 overflow-hidden",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-cyan-50 border border-cyan-100 mb-6",children:e.jsx("span",{className:"text-sm font-medium text-cyan-700",children:"Module 8"})}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6",children:["Observability & ",e.jsx("span",{className:"text-gradient",children:"Operations"})]}),e.jsx("p",{className:"text-lg md:text-xl text-slate-600 mb-8 mx-auto",children:"Master the three pillars of observability, design effective alerting strategies, manage incidents with confidence, and optimize cloud costs through data-driven operations."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[e.jsx("button",{onClick:()=>s("/"),className:"btn-secondary",children:"Back to Home"}),e.jsx("button",{onClick:()=>s("/topics"),className:"btn-secondary",children:"View All Topics"})]})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-7xl",children:[e.jsxs("section",{ref:t=>l.current[0]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-cyan-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-cyan-600 text-white flex items-center justify-center text-sm",children:"01"}),"THE THREE PILLARS"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Metrics, Logs & Traces"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"You can't fix what you can't see. Modern observability requires a unified approach to telemetry data using OpenTelemetry standards."})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:" from-cyan-50 to-blue-50 border-2 border-cyan-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-cyan-900 mb-4",children:"Telemetry Types"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"text-2xl",children:"ðŸ“Š"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900",children:"Metrics"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Numerical data over time (CPU, Error Rate). Great for alerting and trends."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"text-2xl",children:"ðŸ“œ"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900",children:"Logs"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Immutable records of events. Essential for root cause analysis."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"text-2xl",children:"ðŸ”—"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900",children:"Traces"}),e.jsx("p",{className:"text-sm text-slate-700",children:"End-to-end request flow across services. Vital for microservices."})]})]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"OpenTelemetry (OTel)"}),e.jsx("p",{className:"text-slate-700 mb-4",children:"A vendor-neutral standard for collecting telemetry. It provides a single set of APIs and libraries to instrument your applications."}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border border-slate-100",children:[e.jsx("span",{className:"font-bold block mb-1",children:"No Vendor Lock-in"}),"Switch backends without changing code."]}),e.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border border-slate-100",children:[e.jsx("span",{className:"font-bold block mb-1",children:"Unified SDK"}),"One library for metrics, logs, and traces."]})]})]})]}),e.jsx("div",{children:e.jsx(jl,{})})]})]}),e.jsx("section",{ref:t=>l.current[1]=t,className:" transition-all duration-700 mb-24",children:e.jsx(vl,{})}),e.jsx("section",{ref:t=>l.current[2]=t,className:" transition-all duration-700 mb-24",children:e.jsx(yl,{})}),e.jsx("section",{ref:t=>l.current[3]=t,className:" transition-all duration-700 mb-24",children:e.jsx(wl,{})}),e.jsx("section",{ref:t=>l.current[4]=t,className:" transition-all duration-700 mb-24",children:e.jsx(Sl,{})}),e.jsx("section",{ref:t=>l.current[5]=t,className:" transition-all duration-700 mb-24",children:e.jsx(Cl,{})}),e.jsx("section",{ref:t=>l.current[6]=t,className:" transition-all duration-700 mb-24",children:e.jsx(kl,{})}),e.jsx("section",{ref:t=>l.current[7]=t,className:" transition-all duration-700 mb-24",children:e.jsx(Al,{})}),e.jsx("section",{ref:t=>l.current[8]=t,className:" transition-all duration-700 mb-24",children:e.jsx(Pl,{})}),e.jsx("section",{ref:t=>l.current[9]=t,className:" transition-all duration-700 mb-24",children:e.jsx(Tl,{})}),e.jsx("section",{ref:t=>l.current[10]=t,className:" transition-all duration-700 mb-24",children:e.jsx(Rl,{})}),e.jsxs("section",{ref:t=>l.current[11]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-orange-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-orange-600 text-white flex items-center justify-center text-sm",children:"02"}),"DASHBOARDS & ALERTS"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Alert Design & SLO Tracking"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Avoid alert fatigue by alerting on symptoms, not causes. Use multi-window burn rates to detect SLO violations early."})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:[e.jsx("div",{children:e.jsx(bl,{})}),e.jsx("div",{children:e.jsx(fl,{})})]}),e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Effective Alerting Principles"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center font-bold",children:"1"}),e.jsx("h4",{className:"font-bold",children:"Actionable"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Every alert should have a clear, documented response procedure."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center font-bold",children:"2"}),e.jsx("h4",{className:"font-bold",children:"Symptom-Based"}),e.jsx("p",{className:"text-sm text-slate-600",children:`Alert on "Users can't login" rather than "CPU is 90%".`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center font-bold",children:"3"}),e.jsx("h4",{className:"font-bold",children:"Tiered Severity"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Critical (Page), Warning (Slack), Info (Dashboard only)."})]})]})]})]}),e.jsxs("section",{ref:t=>l.current[12]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-red-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-red-600 text-white flex items-center justify-center text-sm",children:"03"}),"INCIDENT RESPONSE"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Playbooks, On-call & Game Days"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Incidents are inevitable. Success is measured by how quickly you detect, mitigate, and learn from them."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white border-2 border-red-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ“–"}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Runbooks"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Step-by-step guides for common tasks and troubleshooting. Keep them updated and automated where possible."})]}),e.jsxs("div",{className:"bg-white border-2 border-red-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ“ž"}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"On-call Hygiene"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Fair rotations, clear escalation paths, and compensation. Prevent burnout to maintain system health."})]}),e.jsxs("div",{className:"bg-white border-2 border-red-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸŽ®"}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Game Days"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Scheduled chaos exercises to test your response. Practice makes perfect before a real outage hits."})]})]}),e.jsxs("div",{className:"bg-slate-900 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"The Blameless Postmortem"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"mb-4",children:["Focus on ",e.jsx("strong",{children:"how"})," the system failed, not ",e.jsx("strong",{children:"who"})," failed. The goal is to identify systemic improvements."]}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-500",children:"âœ”"})," What happened? (Timeline)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-500",children:"âœ”"})," Why did it happen? (Root Cause)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-500",children:"âœ”"})," How did we respond?"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-500",children:"âœ”"})," Action items to prevent recurrence."]})]})]}),e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[e.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"Pro Tip"}),e.jsx("p",{className:"text-sm italic text-slate-700",children:`"If you can't find a way to make the system more resilient to human error, you haven't finished the postmortem."`})]})]})]})]}),e.jsxs("section",{ref:t=>l.current[13]=t,className:" transition-all duration-700 mb-24",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"text-sm font-bold text-green-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-green-600 text-white flex items-center justify-center text-sm",children:"04"}),"COST OPTIMIZATION"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight",children:"Rightsizing & Resource Efficiency"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-4xl leading-relaxed",children:"Cloud costs can spiral out of control. Use observability data to rightsize resources and eliminate waste."})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:[e.jsx("div",{children:e.jsx(gl,{})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white border-2 border-green-200 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"FinOps Strategies"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border border-green-100",children:[e.jsx("div",{className:"font-bold text-green-900",children:"Reserved Instances / Savings Plans"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Commit to usage for 1-3 years to get up to 70% discount on predictable workloads."})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border border-green-100",children:[e.jsx("div",{className:"font-bold text-green-900",children:"Spot Instances"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Use spare capacity for fault-tolerant workloads (batch processing, CI/CD) at 90% discount."})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border border-green-100",children:[e.jsx("div",{className:"font-bold text-green-900",children:"Auto-scaling"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Dynamically adjust resources based on demand to avoid paying for idle capacity."})]})]})]})})]})]}),e.jsx("section",{className:"py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{onClick:()=>s("/topics"),className:"btn-secondary",children:"â† Back to Topics"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>s("/security-governance"),className:"btn-secondary",children:"â† Previous: Security"}),e.jsx("button",{onClick:()=>s("/cloud-comparisons"),className:"btn-primary",children:"Next: Cloud Comparisons â†’"})]})]})})]})]})}const Il=()=>{const[s,l]=x.useState({compute:2,storage:500,bandwidth:1e3}),t={gcp:{name:"Google Cloud",compute:.04,storage:.02,bandwidth:.08,color:"text-blue-600",bg:"bg-blue-50"},aws:{name:"AWS",compute:.045,storage:.023,bandwidth:.09,color:"text-orange-500",bg:"bg-orange-50"},azure:{name:"Azure",compute:.042,storage:.021,bandwidth:.085,color:"text-blue-400",bg:"bg-blue-50"}},o=x.useMemo(()=>Object.entries(t).map(([a,c])=>{const r=s.compute*c.compute*24*30,d=s.storage*c.storage,i=s.bandwidth*c.bandwidth,n=r+d+i;return{id:a,...c,total:n.toFixed(2)}}),[s]);return e.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-blue-500 to-indigo-600 flex items-center justify-center text-white text-2xl",children:"ðŸ’°"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Cloud Cost Estimator"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Rough monthly estimate comparison"})]})]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:["Compute (Instances/Containers): ",s.compute]}),e.jsx("input",{type:"range",min:"1",max:"20",value:s.compute,onChange:a=>l({...s,compute:Number(a.target.value)}),className:"w-full accent-blue-600"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:["Storage (GB): ",s.storage]}),e.jsx("input",{type:"range",min:"10",max:"2000",step:"10",value:s.storage,onChange:a=>l({...s,storage:Number(a.target.value)}),className:"w-full accent-blue-600"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:["Egress Bandwidth (GB): ",s.bandwidth]}),e.jsx("input",{type:"range",min:"0",max:"5000",step:"100",value:s.bandwidth,onChange:a=>l({...s,bandwidth:Number(a.target.value)}),className:"w-full accent-blue-600"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:o.map(a=>e.jsxs("div",{className:`${a.bg} rounded-xl p-4 flex items-center justify-between border border-slate-100`,children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-bold ${a.color}`,children:a.name}),e.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Estimated Monthly"})]}),e.jsxs("div",{className:"text-2xl font-black text-slate-900",children:["$",a.total]})]},a.id))}),e.jsx("p",{className:"mt-4 text-[10px] text-slate-400 italic",children:"* Estimates are based on average list prices and do not include free tiers, committed use discounts, or regional variations."})]})},dt=({current:s,onOption:l})=>e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx("h5",{className:"text-xl font-bold text-slate-800 text-center",children:s.question}),e.jsx("div",{className:"grid gap-3",children:s.options.map(t=>e.jsx("button",{onClick:()=>l(t),className:"w-full p-4 text-left rounded-xl border-2 border-slate-100 hover:border-purple-400 hover:bg-purple-50 transition-all group",children:e.jsx("div",{className:"font-bold text-slate-700 group-hover:text-purple-700",children:t.label})},t.label))})]});dt.propTypes={current:v.shape({question:v.string.isRequired,options:v.arrayOf(v.shape({label:v.string.isRequired,next:v.string,result:v.string})).isRequired}).isRequired,onOption:v.func.isRequired};const ct=({result:s,onReset:l})=>e.jsxs("div",{className:"text-center space-y-6 animate-in zoom-in duration-500",children:[e.jsx("div",{className:"inline-block p-4 bg-green-50 rounded-full text-green-600 text-4xl mb-2",children:"ðŸŽ¯"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-slate-400 uppercase mb-1",children:"Recommended Service"}),e.jsx("div",{className:"text-2xl font-black text-slate-900",children:s})]}),e.jsx("button",{onClick:l,className:"px-6 py-2 bg-slate-900 text-white rounded-lg font-bold hover:bg-slate-800 transition-all",children:"Start Over"})]});ct.propTypes={result:v.string.isRequired,onReset:v.func.isRequired};const Dl=()=>{const[s,l]=x.useState("start"),[t,o]=x.useState([]),a={start:{question:"What is your primary workload type?",options:[{label:"Compute / App Logic",next:"compute"},{label:"Data Storage",next:"data"},{label:"Messaging / Integration",next:"messaging"}]},compute:{question:"How much control do you need over the OS/Runtime?",options:[{label:"Full Control (VMs)",result:"Compute Engine / EC2 / Azure VM"},{label:"Orchestration (K8s)",result:"GKE / EKS / AKS"},{label:"Minimal (Serverless)",next:"serverless_compute"}]},serverless_compute:{question:"Is it a long-running process or event-driven?",options:[{label:"Web App / API",result:"Cloud Run / App Runner / Container Apps"},{label:"Small Event Handler",result:"Cloud Functions / Lambda / Azure Functions"}]},data:{question:"What is the data structure?",options:[{label:"Relational (SQL)",result:"Cloud SQL / RDS / Azure SQL"},{label:"Key-Value / Document",result:"Firestore / DynamoDB / Cosmos DB"},{label:"Analytical / Big Data",result:"BigQuery / Redshift / Synapse"}]},messaging:{question:"What is the delivery pattern?",options:[{label:"One-to-Many (Pub/Sub)",result:"Pub/Sub / SNS / Event Grid"},{label:"Point-to-Point (Queue)",result:"Pub/Sub / SQS / Service Bus"},{label:"High-Volume Streaming",result:"Dataflow / Kinesis / Event Hubs"}]}},c=n=>{n.result?l({result:n.result}):(o([...t,s]),l(n.next))},r=()=>{l("start"),o([])},d=()=>{const n=t[t.length-1];l(n),o(t.slice(0,-1))},i=a[s];return e.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-2xl p-6 min-h-[400px] flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-purple-500 to-pink-600 flex items-center justify-center text-white text-2xl",children:"ðŸŒ³"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Service Decision Tree"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Find the right managed service"})]})]}),e.jsx("div",{className:"flex-1 flex flex-col justify-center",children:i?e.jsx(dt,{current:i,onOption:c}):e.jsx(ct,{result:s.result,onReset:r})}),t.length>0&&i&&e.jsx("button",{onClick:d,className:"mt-6 text-xs font-bold text-slate-400 hover:text-slate-600 flex items-center gap-1",children:"â† Back"})]})},Ws="Virtual Machines",ot={compute:[{feature:"Serverless Containers",gcp:"Cloud Run",aws:"App Runner / Fargate",azure:"Container Apps"},{feature:"Managed Kubernetes",gcp:"GKE",aws:"EKS",azure:"AKS"},{feature:"Functions (FaaS)",gcp:"Cloud Functions",aws:"Lambda",azure:"Azure Functions"},{feature:Ws,gcp:"Compute Engine",aws:"EC2",azure:Ws}],database:[{feature:"Relational (SQL)",gcp:"Cloud SQL",aws:"RDS",azure:"Azure SQL / DB for MySQL"},{feature:"Globally Distributed",gcp:"Spanner",aws:"DynamoDB (Global Tables)",azure:"Cosmos DB"},{feature:"NoSQL (Document)",gcp:"Firestore",aws:"DocumentDB",azure:"Cosmos DB (Mongo API)"},{feature:"Data Warehouse",gcp:"BigQuery",aws:"Redshift",azure:"Synapse Analytics"}],messaging:[{feature:"Pub/Sub",gcp:"Pub/Sub",aws:"SNS / SQS",azure:"Service Bus / Event Grid"},{feature:"Streaming",gcp:"Dataflow / Pub/Sub",aws:"Kinesis",azure:"Event Hubs"},{feature:"Event Bus",gcp:"Eventarc",aws:"EventBridge",azure:"Event Grid"}],storage:[{feature:"Object Storage",gcp:"Cloud Storage",aws:"S3",azure:"Blob Storage"},{feature:"File Storage",gcp:"Filestore",aws:"EFS",azure:"Azure Files"},{feature:"Managed Redis",gcp:"Memorystore",aws:"ElastiCache",azure:"Cache for Redis"}]},mt=({category:s})=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-slate-100",children:[e.jsx("th",{className:"py-3 px-2 text-xs font-bold text-slate-400 uppercase",children:"Feature"}),e.jsx("th",{className:"py-3 px-2 text-xs font-bold text-blue-600 uppercase",children:"GCP"}),e.jsx("th",{className:"py-3 px-2 text-xs font-bold text-orange-500 uppercase",children:"AWS"}),e.jsx("th",{className:"py-3 px-2 text-xs font-bold text-blue-400 uppercase",children:"Azure"})]})}),e.jsx("tbody",{children:ot[s].map(l=>e.jsxs("tr",{className:"border-b border-slate-50 hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"py-3 px-2 text-sm font-semibold text-slate-700",children:l.feature}),e.jsx("td",{className:"py-3 px-2 text-sm text-slate-600",children:l.gcp}),e.jsx("td",{className:"py-3 px-2 text-sm text-slate-600",children:l.aws}),e.jsx("td",{className:"py-3 px-2 text-sm text-slate-600",children:l.azure})]},l.feature))})]})});mt.propTypes={category:v.string.isRequired};const Ll=()=>{const[s,l]=x.useState("compute");return e.jsxs("div",{className:"bg-white border-2 border-orange-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl  from-orange-500 to-red-600 flex items-center justify-center text-white text-2xl",children:"ðŸ“Š"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Service Comparison Matrix"}),e.jsx("div",{className:"text-xs text-slate-500",children:"Cross-cloud service mapping"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:Object.keys(ot).map(t=>e.jsx("button",{onClick:()=>l(t),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${s===t?"bg-orange-500 text-white shadow-lg shadow-orange-200":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:t.charAt(0).toUpperCase()+t.slice(1)},t))}),e.jsx(mt,{category:s}),e.jsxs("div",{className:"mt-8 p-4 bg-orange-50 rounded-xl border border-orange-100",children:[e.jsx("div",{className:"text-xs font-bold text-orange-800 uppercase mb-1",children:"Managed-First Bias"}),e.jsx("p",{className:"text-xs text-orange-700 leading-relaxed",children:"Always prefer managed services (Cloud Run, RDS, Pub/Sub) over self-hosting on VMs. It reduces operational toil and allows you to focus on business logic."})]})]})};function Ml(){const[s,l]=x.useState("multi-cloud"),t={"multi-cloud":{name:"Multi-Cloud",description:"Using multiple cloud providers simultaneously",pros:["Avoid vendor lock-in","Leverage best-of-breed services","Geographic coverage","Price negotiation leverage","Regulatory compliance flexibility"],cons:["Increased complexity","Higher operational overhead","Skills gap across platforms","Network latency between clouds","Cost of data egress"],useCase:"Large enterprises with diverse requirements and resources to manage complexity"},"single-cloud":{name:"Single Cloud",description:"All workloads on one cloud provider",pros:["Simplicity","Deep integration","Lower operational cost","Easier to optimize","Better volume discounts"],cons:["Vendor lock-in risk","Single point of failure","Limited negotiation power","Dependent on provider roadmap","Compliance limitations"],useCase:"Startups, SMBs, and companies with straightforward requirements"},"poly-cloud":{name:"Poly-Cloud",description:"Different clouds for different workloads (not duplicated)",pros:["Best tool for each job","Moderate complexity","Flexibility without duplication","Cost optimization","Strategic positioning"],cons:["Some operational overhead","Skills needed for multiple platforms","Integration challenges","Data transfer costs","Governance complexity"],useCase:"Companies wanting cloud flexibility without full multi-cloud complexity"}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Why Multi-Cloud?"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"text-3xl",children:"ðŸŽ¯"}),e.jsx("h4",{className:"text-lg font-semibold",children:"Avoid Vendor Lock-In"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"No single vendor controls your entire infrastructure. Easier to migrate or switch providers if needed."}),e.jsx("div",{className:"bg-muted p-3 rounded",children:e.jsx("p",{className:"text-xs font-mono",children:"Example: Use AWS for compute, GCP for ML, Azure for Microsoft integration"})})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"text-3xl",children:"ðŸ†"}),e.jsx("h4",{className:"text-lg font-semibold",children:"Best-of-Breed Services"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Choose the best service from each provider for your specific needs."}),e.jsx("div",{className:"bg-muted p-3 rounded",children:e.jsxs("p",{className:"text-xs font-mono",children:["AWS: Lambda, S3, DynamoDB",e.jsx("br",{}),"GCP: BigQuery, Vertex AI",e.jsx("br",{}),"Azure: AD, Active Directory"]})})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"text-3xl",children:"ðŸŒ"}),e.jsx("h4",{className:"text-lg font-semibold",children:"Geographic Coverage"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Leverage different providers' presence in different regions for optimal latency and compliance."}),e.jsx("div",{className:"bg-muted p-3 rounded",children:e.jsx("p",{className:"text-xs font-mono",children:"AWS in US, Alibaba Cloud in China, local providers in Europe"})})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"text-3xl",children:"ðŸ’°"}),e.jsx("h4",{className:"text-lg font-semibold",children:"Cost Optimization"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Arbitrage pricing differences and negotiate better deals with multiple vendors."}),e.jsx("div",{className:"bg-muted p-3 rounded",children:e.jsx("p",{className:"text-xs font-mono",children:"Use spot instances from cheapest provider, compare storage costs"})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Cloud Strategy Comparison"}),e.jsxs(Se,{value:s,onValueChange:l,children:[e.jsxs(be,{className:"grid w-full grid-cols-3",children:[e.jsx(W,{value:"multi-cloud",children:"Multi-Cloud"}),e.jsx(W,{value:"poly-cloud",children:"Poly-Cloud"}),e.jsx(W,{value:"single-cloud",children:"Single Cloud"})]}),Object.entries(t).map(([o,a])=>e.jsx(de,{value:o,className:"space-y-4",children:e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-xl font-semibold mb-2",children:a.name}),e.jsx("p",{className:"text-muted-foreground",children:a.description})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-3 text-green-600 dark:text-green-400",children:"âœ… Advantages"}),e.jsx("ul",{className:"space-y-2",children:a.pros.map((c,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"+"}),e.jsx("span",{className:"text-sm",children:c})]},r))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-3 text-red-600 dark:text-red-400",children:"âŒ Disadvantages"}),e.jsx("ul",{className:"space-y-2",children:a.cons.map((c,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500 mt-1",children:"-"}),e.jsx("span",{className:"text-sm",children:c})]},r))})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-muted rounded",children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Best For"}),e.jsx("p",{className:"text-sm",children:a.useCase})]})]})},o))]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Portability Concerns & Solutions"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"âš ï¸"}),e.jsx("span",{children:"Compute Portability"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(f,{className:"mb-2",children:"Problem"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Different VM types, configurations, and APIs across providers"})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"outline",className:"mb-2",children:"Solution"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm",children:"â€¢ Use Kubernetes for workload portability"}),e.jsx("p",{className:"text-sm",children:"â€¢ Containerize everything (Docker)"}),e.jsx("p",{className:"text-sm",children:"â€¢ Infrastructure as Code (Terraform, Pulumi)"}),e.jsx("p",{className:"text-sm",children:"â€¢ Avoid provider-specific features in code"})]})]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"âš ï¸"}),e.jsx("span",{children:"Storage Portability"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(f,{className:"mb-2",children:"Problem"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Different storage services: S3 vs Cloud Storage vs Blob Storage"})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"outline",className:"mb-2",children:"Solution"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm",children:"â€¢ Use S3-compatible interfaces"}),e.jsx("p",{className:"text-sm",children:"â€¢ Abstract storage layer (e.g., MinIO)"}),e.jsx("p",{className:"text-sm",children:"â€¢ Multi-cloud storage gateways"}),e.jsx("p",{className:"text-sm",children:"â€¢ Object storage standards (OpenStack Swift)"})]})]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"âš ï¸"}),e.jsx("span",{children:"Database Portability"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(f,{className:"mb-2",children:"Problem"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Managed databases with proprietary features (DynamoDB, CosmosDB, Firestore)"})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"outline",className:"mb-2",children:"Solution"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm",children:"â€¢ Use portable databases (PostgreSQL, MySQL)"}),e.jsx("p",{className:"text-sm",children:"â€¢ Self-managed on Kubernetes"}),e.jsx("p",{className:"text-sm",children:"â€¢ Database abstraction layers (Prisma, TypeORM)"}),e.jsx("p",{className:"text-sm",children:"â€¢ Avoid cloud-specific features"})]})]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"âš ï¸"}),e.jsx("span",{children:"Networking Portability"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(f,{className:"mb-2",children:"Problem"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"VPC, security groups, routing - all provider-specific"})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"outline",className:"mb-2",children:"Solution"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm",children:"â€¢ Service mesh (Istio, Linkerd)"}),e.jsx("p",{className:"text-sm",children:"â€¢ Consistent network policies"}),e.jsx("p",{className:"text-sm",children:"â€¢ Cloud-agnostic VPN solutions"}),e.jsx("p",{className:"text-sm",children:"â€¢ Standard protocols (HTTP, gRPC)"})]})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Vendor Lock-In Mitigation Strategies"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"1ï¸âƒ£"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Use Open Standards & Protocols"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Avoid proprietary protocols. Stick to HTTP/REST, gRPC, OpenAPI, OAuth2, OIDC."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded",children:[e.jsx("p",{className:"text-xs font-semibold text-green-700 dark:text-green-400 mb-1",children:"âœ“ Good"}),e.jsx("p",{className:"text-xs font-mono",children:"PostgreSQL, Redis, Kafka, Kubernetes"})]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded",children:[e.jsx("p",{className:"text-xs font-semibold text-red-700 dark:text-red-400 mb-1",children:"âœ— Avoid"}),e.jsx("p",{className:"text-xs font-mono",children:"DynamoDB, Lambda proprietary runtimes, Fargate-specific configs"})]})]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"2ï¸âƒ£"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Abstract Cloud-Specific Services"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Create abstraction layers so your application code doesn't depend on cloud APIs directly."}),e.jsx("div",{className:"bg-muted p-4 rounded overflow-x-auto",children:e.jsx("code",{className:"text-xs block whitespace-pre-wrap break-words font-mono max-w-full",children:`// Bad: Direct AWS SDK usage
const s3 = new AWS.S3();
await s3.putObject({ Bucket: 'my-bucket', Key: 'file.txt', Body: data });

// Good: Abstraction layer
interface StorageService {
  upload(key: string, data: Buffer): Promise<void>;
}
class CloudStorage implements StorageService {
  // Can swap implementations for different clouds
  async upload(key: string, data: Buffer) { /* ... */ }
}`})})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"3ï¸âƒ£"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Use Infrastructure as Code (IaC)"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Define infrastructure declaratively so you can recreate it on any cloud."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{children:"Terraform"}),e.jsx("span",{className:"text-sm",children:"Multi-cloud support, largest ecosystem"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{children:"Pulumi"}),e.jsx("span",{className:"text-sm",children:"Real programming languages (TypeScript, Python)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{children:"Crossplane"}),e.jsx("span",{className:"text-sm",children:"Kubernetes-native IaC"})]})]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"4ï¸âƒ£"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Containerize Everything"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Containers provide portability. Kubernetes adds orchestration portability."}),e.jsxs("div",{className:"bg-muted p-3 rounded space-y-2",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Docker:"})," Package apps with dependencies"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Kubernetes:"})," Run anywhere (EKS, GKE, AKS, on-prem)"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Helm:"})," Package and deploy applications consistently"]})]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"5ï¸âƒ£"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Maintain Exit Strategy"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Regularly test your ability to migrate. Document the process."}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsx("p",{children:"â€¢ Document all cloud dependencies"}),e.jsx("p",{children:"â€¢ Test backup and restore procedures"}),e.jsx("p",{children:"â€¢ Create disaster recovery plans"}),e.jsx("p",{children:"â€¢ Conduct migration drills annually"}),e.jsx("p",{children:"â€¢ Keep data in portable formats"})]})]})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Multi-Cloud Cost Optimization"}),e.jsx(_,{children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸ’¡ Key Insight:"})," Multi-cloud can save money through arbitrage, but adds operational overhead. Calculate the total cost of ownership (TCO) including engineering time."]})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mt-4",children:[e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Price Arbitrage"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Use the cheapest provider for each workload type"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[e.jsx("span",{children:"Compute"}),e.jsx("span",{className:"font-mono",children:"AWS spot: 70% cheaper"})]}),e.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[e.jsx("span",{children:"Storage"}),e.jsx("span",{className:"font-mono",children:"GCP: $0.020/GB"})]}),e.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[e.jsx("span",{children:"Bandwidth"}),e.jsx("span",{className:"font-mono",children:"Cloudflare: Free egress"})]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Committed Use"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Commit to each provider separately for discounts"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"â€¢ AWS Reserved: 30-70% off"}),e.jsx("p",{children:"â€¢ GCP Committed: 25-57% off"}),e.jsx("p",{children:"â€¢ Azure Reserved: 38-72% off"}),e.jsx("p",{children:"â€¢ Split commitment strategically"}),e.jsx("p",{children:"â€¢ Balance flexibility vs savings"})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Avoid Hidden Costs"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Multi-cloud has unique costs to watch"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"âŒ Data egress between clouds ($0.08-0.12/GB)"}),e.jsx("p",{children:"âŒ Duplicate monitoring tools"}),e.jsx("p",{children:"âŒ Multiple support contracts"}),e.jsx("p",{children:"âŒ Training for each platform"}),e.jsx("p",{children:"âŒ Integration and orchestration"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Complexity vs Flexibility Trade-offs"}),e.jsx(b,{className:"p-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3",children:"Aspect"}),e.jsx("th",{className:"text-left p-3",children:"Single Cloud"}),e.jsx("th",{className:"text-left p-3",children:"Poly-Cloud"}),e.jsx("th",{className:"text-left p-3",children:"Multi-Cloud (Full)"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Operational Complexity"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¢ Low"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¡ Medium"}),e.jsx("td",{className:"p-3",children:"ðŸ”´ High"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Vendor Lock-In Risk"}),e.jsx("td",{className:"p-3",children:"ðŸ”´ High"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¡ Medium"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¢ Low"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Cost Optimization Potential"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¡ Medium"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¢ High"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¢ Very High"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Skills Required"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¢ 1 platform"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¡ 2-3 platforms"}),e.jsx("td",{className:"p-3",children:"ðŸ”´ 3+ platforms"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Integration Effort"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¢ Low"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¡ Medium"}),e.jsx("td",{className:"p-3",children:"ðŸ”´ High"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Monitoring & Debugging"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¢ Simple"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¡ Moderate"}),e.jsx("td",{className:"p-3",children:"ðŸ”´ Complex"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Disaster Recovery"}),e.jsx("td",{className:"p-3",children:"ðŸ”´ Single point"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¡ Partial redundancy"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¢ Full redundancy"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-3 font-medium",children:"Time to Production"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¢ Fastest"}),e.jsx("td",{className:"p-3",children:"ðŸŸ¡ Moderate"}),e.jsx("td",{className:"p-3",children:"ðŸ”´ Slowest"})]})]})]})})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Decision Framework: Should You Go Multi-Cloud?"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(b,{className:"p-6 border-green-200 dark:border-green-800",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-700 dark:text-green-400",children:"âœ… Go Multi-Cloud If:"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"âœ“"}),e.jsxs("span",{children:["You have dedicated platform engineering teams (",">"," 5 engineers)"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"âœ“"}),e.jsx("span",{children:"Compliance requires data residency in regions not covered by one provider"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"âœ“"}),e.jsx("span",{children:"You need best-of-breed services from multiple providers (e.g., GCP ML + AWS compute)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"âœ“"}),e.jsx("span",{children:"You have budget for increased operational overhead (15-30% more engineering time)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"âœ“"}),e.jsx("span",{children:"You're a large enterprise with complex, diverse workloads"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"âœ“"}),e.jsx("span",{children:"You have leverage to negotiate better pricing with multiple vendors"})]})]})]}),e.jsxs(b,{className:"p-6 border-red-200 dark:border-red-800",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3 text-red-700 dark:text-red-400",children:"âŒ Avoid Multi-Cloud If:"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500 mt-1",children:"âœ—"}),e.jsx("span",{children:"You're a startup or SMB with limited engineering resources"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500 mt-1",children:"âœ—"}),e.jsx("span",{children:"Your team is not experienced with cloud infrastructure"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500 mt-1",children:"âœ—"}),e.jsx("span",{children:"You need to move fast and iterate quickly"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500 mt-1",children:"âœ—"}),e.jsx("span",{children:"Your workload fits well within one cloud provider's ecosystem"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500 mt-1",children:"âœ—"}),e.jsx("span",{children:"You can't justify the 15-30% operational overhead"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500 mt-1",children:"âœ—"}),e.jsx("span",{children:`You're doing it "just because" without clear business value`})]})]})]}),e.jsxs(b,{className:"p-6 border-yellow-200 dark:border-yellow-800",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3 text-yellow-700 dark:text-yellow-400",children:"âš ï¸ Consider Poly-Cloud If:"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"You want flexibility without full multi-cloud complexity"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-yellow-500 mt-1",children:"â†’"}),e.jsx("span",{children:"Different workloads on different clouds (not duplicated)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-yellow-500 mt-1",children:"â†’"}),e.jsx("span",{children:"Example: Web app on AWS, data analytics on GCP, AD integration on Azure"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-yellow-500 mt-1",children:"â†’"}),e.jsx("span",{children:"Easier to manage than full multi-cloud but still provides flexibility"})]})]})]})]})]}),e.jsx(_,{children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸŽ¯ Bottom Line:"})," Most companies should start with a single cloud. Only go multi-cloud when you have clear business justification, resources, and expertise. Premature multi-cloud adoption is a common mistake that adds complexity without value."]})})]})}function Ol(){const[s,l]=x.useState("cloud-native");return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"What's the Difference?"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(b,{className:"p-6 border-2 border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"text-4xl",children:"â˜ï¸"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-semibold",children:"Cloud-Native"}),e.jsx(f,{children:"Optimized for One Cloud"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Applications built using cloud provider-specific services (managed databases, serverless, proprietary APIs). Optimized for performance, scalability, and cost on that specific cloud."}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded",children:[e.jsx("p",{className:"text-xs font-semibold mb-2",children:"Example Architecture"}),e.jsxs("p",{className:"text-xs font-mono",children:["API Gateway â†’ Lambda â†’ DynamoDB",e.jsx("br",{}),"+ S3 + CloudWatch + SNS/SQS",e.jsx("br",{}),"+ Cognito for auth"]})]})]}),e.jsxs(b,{className:"p-6 border-2 border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"text-4xl",children:"ðŸŒ"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-semibold",children:"Cloud-Agnostic"}),e.jsx(f,{variant:"outline",children:"Portable Across Clouds"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Applications built using open-source or standard technologies that can run on any cloud (or on-premises). Prioritizes portability and vendor independence over cloud-specific optimizations."}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded",children:[e.jsx("p",{className:"text-xs font-semibold mb-2",children:"Example Architecture"}),e.jsxs("p",{className:"text-xs font-mono",children:["Kubernetes + Ingress â†’ Node.js pods",e.jsx("br",{}),"+ PostgreSQL + Redis",e.jsx("br",{}),"+ Prometheus + OAuth2"]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Detailed Trade-offs Analysis"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(b,{className:"p-6",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3 font-semibold",children:"Criteria"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Cloud-Native"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Cloud-Agnostic"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Development Speed"}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¢ ",e.jsx("strong",{children:"Faster"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Managed services, less ops work"})]}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¡ ",e.jsx("strong",{children:"Slower"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"More infrastructure setup required"})]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Operational Overhead"}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¢ ",e.jsx("strong",{children:"Low"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Provider manages infrastructure"})]}),e.jsxs("td",{className:"p-3",children:["ðŸ”´ ",e.jsx("strong",{children:"High"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"You manage everything"})]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Vendor Lock-In"}),e.jsxs("td",{className:"p-3",children:["ðŸ”´ ",e.jsx("strong",{children:"High"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Hard to migrate away"})]}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¢ ",e.jsx("strong",{children:"Low"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Easy to switch providers"})]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Cost (Small Scale)"}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¢ ",e.jsx("strong",{children:"Lower"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Pay only for usage, no ops team"})]}),e.jsxs("td",{className:"p-3",children:["ðŸ”´ ",e.jsx("strong",{children:"Higher"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Minimum instance costs + ops team"})]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Cost (Large Scale)"}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¡ ",e.jsx("strong",{children:"Variable"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Can get expensive, but optimized"})]}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¢ ",e.jsx("strong",{children:"Lower"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"More control over costs"})]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Performance"}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¢ ",e.jsx("strong",{children:"Optimized"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Native integrations, low latency"})]}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¡ ",e.jsx("strong",{children:"Good"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Depends on your optimization"})]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Scalability"}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¢ ",e.jsx("strong",{children:"Excellent"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Auto-scaling built-in"})]}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¡ ",e.jsx("strong",{children:"Good"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Need to configure HPA/VPA"})]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Disaster Recovery"}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¡ ",e.jsx("strong",{children:"Provider-dependent"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"If provider fails, you fail"})]}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¢ ",e.jsx("strong",{children:"Flexible"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Can fail over to different cloud"})]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Skills Required"}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¡ ",e.jsx("strong",{children:"Cloud-specific"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"AWS/GCP/Azure expertise"})]}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¢ ",e.jsx("strong",{children:"Transferable"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Kubernetes, Linux, open-source"})]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Testing Locally"}),e.jsxs("td",{className:"p-3",children:["ðŸ”´ ",e.jsx("strong",{children:"Difficult"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Need emulators (LocalStack)"})]}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¢ ",e.jsx("strong",{children:"Easy"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Run same stack locally"})]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Compliance Control"}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¡ ",e.jsx("strong",{children:"Limited"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Provider's compliance"})]}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¢ ",e.jsx("strong",{children:"Full Control"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"You control everything"})]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-3 font-medium",children:"Innovation Speed"}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¢ ",e.jsx("strong",{children:"Fast"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"New features from provider"})]}),e.jsxs("td",{className:"p-3",children:["ðŸŸ¡ ",e.jsx("strong",{children:"Slower"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Wait for open-source adoption"})]})]})]})]})})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"When to Use Each Approach"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(b,{className:"p-6 border-blue-200 dark:border-blue-800",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"â˜ï¸"}),e.jsx("span",{children:"Choose Cloud-Native When"})]}),e.jsxs("ul",{className:"space-y-3 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1 font-bold",children:"1."}),e.jsxs("div",{children:[e.jsx("strong",{children:"You're a startup or small team"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Need to move fast, limited engineering resources. Managed services let you focus on product."})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1 font-bold",children:"2."}),e.jsxs("div",{children:[e.jsx("strong",{children:"Time-to-market is critical"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Competitive market, need to launch quickly. Cloud-native is 2-3x faster to production."})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1 font-bold",children:"3."}),e.jsxs("div",{children:[e.jsx("strong",{children:"You want to minimize operations"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Don't want to hire DevOps team. Let cloud provider handle infrastructure."})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1 font-bold",children:"4."}),e.jsxs("div",{children:[e.jsx("strong",{children:"Unpredictable workload patterns"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Serverless and auto-scaling handle spikes automatically without capacity planning."})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1 font-bold",children:"5."}),e.jsxs("div",{children:[e.jsx("strong",{children:"You're confident in your cloud choice"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Happy with AWS/GCP/Azure and don't see switching soon. Lock-in acceptable trade-off."})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1 font-bold",children:"6."}),e.jsxs("div",{children:[e.jsx("strong",{children:"Cost at small scale matters"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Pay-per-use is cheaper than minimum instance costs when traffic is low."})]})]})]})]}),e.jsxs(b,{className:"p-6 border-green-200 dark:border-green-800",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸŒ"}),e.jsx("span",{children:"Choose Cloud-Agnostic When"})]}),e.jsxs("ul",{className:"space-y-3 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1 font-bold",children:"1."}),e.jsxs("div",{children:[e.jsx("strong",{children:"You have strong DevOps capabilities"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Platform engineering team in place. Can manage Kubernetes, databases, monitoring."})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1 font-bold",children:"2."}),e.jsxs("div",{children:[e.jsx("strong",{children:"Vendor lock-in is a real concern"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Need flexibility to switch providers. Regulatory or strategic requirements."})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1 font-bold",children:"3."}),e.jsxs("div",{children:[e.jsx("strong",{children:"Multi-cloud or hybrid cloud required"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Need to run in multiple clouds or on-premises. Same stack everywhere."})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1 font-bold",children:"4."}),e.jsxs("div",{children:[e.jsx("strong",{children:"At scale where costs matter"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"High traffic where managed service costs are significant. Can optimize better yourself."})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1 font-bold",children:"5."}),e.jsxs("div",{children:[e.jsx("strong",{children:"Need fine-grained control"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Specific performance, security, or compliance requirements. Managed services too limiting."})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1 font-bold",children:"6."}),e.jsxs("div",{children:[e.jsx("strong",{children:"Have existing on-prem infrastructure"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Migrating from data center. Want consistent experience across environments."})]})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Abstraction Layers for Portability"}),e.jsx(_,{className:"mb-4",children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸ’¡ Key Insight:"})," You can achieve cloud-agnostic benefits while using managed services through abstraction layers. This is a middle-ground approach."]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"text-3xl",children:"âš™ï¸"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Kubernetes"}),e.jsx(f,{children:"Container Orchestration"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Run containerized applications on any cloud (or on-premises)"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"AWS:"})," EKS (Elastic Kubernetes Service)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"GCP:"})," GKE (Google Kubernetes Engine)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Azure:"})," AKS (Azure Kubernetes Service)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"On-prem:"})," Self-hosted, Rancher, OpenShift"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-muted rounded",children:e.jsxs("p",{className:"text-xs",children:[e.jsx("strong",{children:"Trade-off:"})," More complex than serverless, but portable"]})})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"text-3xl",children:"ðŸ—ï¸"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Terraform / Pulumi"}),e.jsx(f,{children:"Infrastructure as Code"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Define infrastructure declaratively, works with all clouds"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Terraform:"})," HCL language, huge ecosystem"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Pulumi:"})," TypeScript, Python, Go, C#"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Crossplane:"})," Kubernetes-native IaC"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"CDK for Terraform:"})," Type-safe TypeScript"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-muted rounded",children:e.jsxs("p",{className:"text-xs",children:[e.jsx("strong",{children:"Trade-off:"})," Still need provider-specific modules, but easier to switch"]})})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"text-3xl",children:"ðŸ“Š"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Open-Source Data Stores"}),e.jsx(f,{children:"Databases & Caches"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Use portable databases available as managed services everywhere"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"PostgreSQL:"})," RDS, Cloud SQL, Azure Database"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"MySQL:"})," All clouds support it"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Redis:"})," ElastiCache, Memorystore, Azure Cache"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"MongoDB:"})," Atlas (cloud-agnostic), DocumentDB"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-muted rounded",children:e.jsxs("p",{className:"text-xs",children:[e.jsx("strong",{children:"Trade-off:"})," Can switch clouds, but miss cloud-specific optimizations"]})})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"text-3xl",children:"ðŸ”Œ"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Service Meshes"}),e.jsx(f,{children:"Networking Abstraction"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Abstract networking, security, and observability from infrastructure"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Istio:"})," Most feature-rich, complex"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Linkerd:"})," Lightweight, easier to use"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Consul:"})," Multi-cloud friendly"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"AWS App Mesh:"})," AWS-specific but portable code"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-muted rounded",children:e.jsxs("p",{className:"text-xs",children:[e.jsx("strong",{children:"Trade-off:"})," Adds complexity, but provides consistent networking"]})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Real-World Examples"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-4xl",children:"ðŸ“±"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Instagram (Facebook/Meta)"}),e.jsx(f,{children:"Cloud-Native"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Initially built on AWS with heavy use of managed services. Later migrated to custom infrastructure as they scaled."}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded space-y-2 text-xs",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Early Days (Cloud-Native):"})," EC2, RDS, S3, CloudFront, ElastiCache"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Why it worked:"})," Fast to market, minimal ops overhead, focus on product"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Evolution:"})," As they scaled to billions of users, moved to custom infrastructure for cost and control"]})]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-4xl",children:"ðŸŽµ"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Spotify"}),e.jsx(f,{variant:"outline",children:"Cloud-Agnostic"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Built on-premises initially, then migrated to GCP using Kubernetes for portability."}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded space-y-2 text-xs",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Architecture:"})," Kubernetes (GKE), Cassandra, Kafka, PostgreSQL, Redis"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Why it worked:"})," Already had DevOps expertise, wanted control and portability"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Benefit:"})," Can move workloads between clouds if needed, created Backstage.io for developer portal"]})]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-4xl",children:"ðŸ“º"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Netflix"}),e.jsx(f,{children:"Cloud-Native"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"All-in on AWS with extensive use of managed services and custom tooling on top."}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded space-y-2 text-xs",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Architecture:"})," EC2, S3, CloudFront, DynamoDB, Kinesis, plus custom tools (Spinnaker, Eureka, Hystrix)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Why it worked:"})," AWS partnership, deeply integrated, optimized for their specific needs"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Trade-off:"})," Heavily locked into AWS, but scale and reliability justify it"]})]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-4xl",children:"ðŸª"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Shopify"}),e.jsx(f,{variant:"outline",children:"Hybrid Approach"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Uses both GCP managed services and open-source tools for flexibility."}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded space-y-2 text-xs",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Architecture:"})," Kubernetes (GKE), PostgreSQL, Redis, Kafka, custom Ruby on Rails"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Strategy:"})," Use managed Kubernetes, but open-source everything else"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Benefit:"})," Get cloud benefits (managed k8s) without full lock-in"]})]})]})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Decision Matrix"}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"If you answer YES to 3+ of these, go Cloud-Native:"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsx("li",{children:"â–¡ You have fewer than 10 engineers"}),e.jsxs("li",{children:["â–¡ You need to launch in ","<"," 6 months"]}),e.jsx("li",{children:"â–¡ Your team lacks DevOps expertise"}),e.jsx("li",{children:"â–¡ You're comfortable with one cloud provider"}),e.jsxs("li",{children:["â–¡ Development speed ",">"," cost optimization"]}),e.jsx("li",{children:"â–¡ You want to minimize operational overhead"})]})]}),e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"If you answer YES to 3+ of these, go Cloud-Agnostic:"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsx("li",{children:"â–¡ You have a dedicated platform engineering team"}),e.jsx("li",{children:"â–¡ Vendor lock-in is a major concern"}),e.jsx("li",{children:"â–¡ You need to run on multiple clouds"}),e.jsx("li",{children:"â–¡ You have existing on-premises infrastructure"}),e.jsxs("li",{children:["â–¡ Cost optimization ",">"," development speed"]}),e.jsx("li",{children:"â–¡ Your team has strong Kubernetes/DevOps skills"})]})]})]})})]}),e.jsx(_,{children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸŽ¯ Bottom Line:"})," Most startups should start cloud-native for speed, then evaluate cloud-agnostic as they scale. Large enterprises with existing infrastructure should consider cloud-agnostic from the start. The middle ground is using Kubernetes with managed databases and storage."]})})]})}const Bl=()=>{const s=[{name:"Data Residency",icon:"ðŸŒ",description:"Keep sensitive data on-premises for compliance",example:"Healthcare patient records in on-prem DB, analytics in cloud"},{name:"Gradual Migration",icon:"ðŸšš",description:"Migrate workloads to cloud incrementally",example:"Legacy ERP on-prem, new microservices in cloud"},{name:"Burst Capacity",icon:"âš¡",description:"Use cloud for peak demand, on-prem for baseline",example:"E-commerce: on-prem normally, cloud during Black Friday"},{name:"Disaster Recovery",icon:"ðŸ›¡ï¸",description:"Cloud as backup for on-premises systems",example:"Primary in data center, failover to AWS"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"What is Hybrid Cloud?"}),e.jsxs(b,{className:"p-6",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Hybrid cloud combines on-premises infrastructure with public cloud services, allowing data and applications to be shared between them. This provides greater flexibility, more deployment options, and helps optimize existing infrastructure."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"On-Premises"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"â€¢ Sensitive data"}),e.jsx("li",{children:"â€¢ Legacy applications"}),e.jsx("li",{children:"â€¢ Predictable workloads"}),e.jsx("li",{children:"â€¢ Compliance requirements"})]})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Public Cloud"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"â€¢ New applications"}),e.jsx("li",{children:"â€¢ Variable workloads"}),e.jsx("li",{children:"â€¢ Development/testing"}),e.jsx("li",{children:"â€¢ AI/ML workloads"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Common Use Cases"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:s.map((l,t)=>e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"text-3xl",children:l.icon}),e.jsx("h4",{className:"text-lg font-semibold",children:l.name})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:l.description}),e.jsxs("div",{className:"bg-muted p-3 rounded",children:[e.jsx("p",{className:"text-xs font-semibold mb-1",children:"Example"}),e.jsx("p",{className:"text-xs",children:l.example})]})]},t))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Networking Challenges"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"âš ï¸"}),e.jsx("span",{children:"Connectivity"})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx(f,{className:"mb-1",children:"Challenge"}),e.jsx("p",{className:"text-muted-foreground",children:"Secure, high-bandwidth connection between on-prem and cloud"})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"outline",className:"mb-1",children:"Solutions"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"â€¢ AWS Direct Connect (1-100 Gbps)"}),e.jsx("li",{children:"â€¢ Azure ExpressRoute"}),e.jsx("li",{children:"â€¢ GCP Cloud Interconnect"}),e.jsx("li",{children:"â€¢ VPN as backup ($50-500/month)"})]})]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"âš ï¸"}),e.jsx("span",{children:"Latency"})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx(f,{className:"mb-1",children:"Challenge"}),e.jsx("p",{className:"text-muted-foreground",children:"Network latency between on-prem and cloud (10-100ms)"})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"outline",className:"mb-1",children:"Solutions"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"â€¢ Caching at both ends"}),e.jsx("li",{children:"â€¢ Async communication"}),e.jsx("li",{children:"â€¢ Data locality awareness"}),e.jsx("li",{children:"â€¢ Edge computing"})]})]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"âš ï¸"}),e.jsx("span",{children:"Security"})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx(f,{className:"mb-1",children:"Challenge"}),e.jsx("p",{className:"text-muted-foreground",children:"Consistent security policies across environments"})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"outline",className:"mb-1",children:"Solutions"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"â€¢ Unified IAM (Okta, Azure AD)"}),e.jsx("li",{children:"â€¢ Network segmentation"}),e.jsx("li",{children:"â€¢ End-to-end encryption"}),e.jsx("li",{children:"â€¢ SIEM for both environments"})]})]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"âš ï¸"}),e.jsx("span",{children:"Management"})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx(f,{className:"mb-1",children:"Challenge"}),e.jsx("p",{className:"text-muted-foreground",children:"Different tools and processes for on-prem vs cloud"})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"outline",className:"mb-1",children:"Solutions"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"â€¢ Unified management (Azure Arc, AWS Outposts)"}),e.jsx("li",{children:"â€¢ Kubernetes everywhere"}),e.jsx("li",{children:"â€¢ Infrastructure as Code"}),e.jsx("li",{children:"â€¢ Centralized monitoring"})]})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Data Synchronization Strategies"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"1ï¸âƒ£"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Database Replication"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Keep data in sync between on-prem and cloud databases"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Active-Passive"}),e.jsx("p",{children:"On-prem primary, cloud standby for DR"})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Active-Active"}),e.jsx("p",{children:"Both read/write, conflict resolution needed"})]})]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"2ï¸âƒ£"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Event-Driven Sync"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Publish events from one environment, consume in the other"}),e.jsxs("div",{className:"bg-muted p-3 rounded font-mono text-xs",children:["On-prem â†’ Kafka â†’ Cloud Consumer",e.jsx("br",{}),"Cloud â†’ EventBridge â†’ On-prem Consumer"]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"3ï¸âƒ£"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Object Storage Sync"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Replicate files/objects between on-prem storage and cloud"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"â€¢ AWS DataSync: Automated transfer"}),e.jsx("li",{children:"â€¢ Azure File Sync: Windows file servers"}),e.jsx("li",{children:"â€¢ rsync/rclone: Open-source options"})]})]})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Migration Strategies"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs(b,{className:"p-6",children:[e.jsx(f,{className:"mb-3",children:"Phase 1: Foundation"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"â€¢ Set up connectivity (Direct Connect)"}),e.jsx("li",{children:"â€¢ Configure IAM/SSO"}),e.jsx("li",{children:"â€¢ Establish security policies"}),e.jsx("li",{children:"â€¢ Test with non-critical workload"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:"Duration: 1-2 months"})]}),e.jsxs(b,{className:"p-6",children:[e.jsx(f,{className:"mb-3",children:"Phase 2: Migration"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"â€¢ Start with dev/test environments"}),e.jsx("li",{children:"â€¢ Migrate stateless applications"}),e.jsx("li",{children:"â€¢ Set up data replication"}),e.jsx("li",{children:"â€¢ Gradually move production"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:"Duration: 6-12 months"})]}),e.jsxs(b,{className:"p-6",children:[e.jsx(f,{className:"mb-3",children:"Phase 3: Optimization"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"â€¢ Optimize cloud costs"}),e.jsx("li",{children:"â€¢ Improve automation"}),e.jsx("li",{children:"â€¢ Refactor for cloud-native"}),e.jsx("li",{children:"â€¢ Continuous improvement"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:"Duration: Ongoing"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Hybrid Cloud Platforms"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"AWS Outposts"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"AWS infrastructure and services in your data center"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"âœ“ Same AWS APIs and tools"}),e.jsx("p",{children:"âœ“ Low-latency access to on-prem data"}),e.jsx("p",{children:"âœ— Expensive ($20K-100K+)"}),e.jsx("p",{children:"âœ— AWS manages hardware"})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Azure Stack / Arc"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Azure services on-premises with unified management"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"âœ“ Hybrid Kubernetes management"}),e.jsx("p",{children:"âœ“ Unified Azure portal"}),e.jsx("p",{children:"âœ— Complex setup"}),e.jsx("p",{children:"âœ— Arc is management layer only"})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Google Anthos"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Kubernetes-based hybrid and multi-cloud platform"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"âœ“ Runs on any infrastructure"}),e.jsx("p",{children:"âœ“ Multi-cloud support"}),e.jsx("p",{children:"âœ— Kubernetes-centric"}),e.jsx("p",{children:"âœ— Steep learning curve"})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"VMware Cloud"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Extend VMware environment to cloud"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"âœ“ Familiar VMware tools"}),e.jsx("p",{children:"âœ“ Lift-and-shift VMs"}),e.jsx("p",{children:"âœ— Not cloud-native"}),e.jsx("p",{children:"âœ— Expensive licensing"})]})]})]})]}),e.jsx(_,{children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸŽ¯ Bottom Line:"})," Hybrid cloud is ideal for gradual migration, compliance requirements, or leveraging existing on-prem investments. However, it's more complex than pure cloud. Consider if the benefits justify the additional operational overhead."]})})]})};function ql(){const[s,l]=x.useState("peering"),t={peering:{name:"VPC Peering",description:"Direct connection between two VPCs",pros:["Low latency","No single point of failure","Simple setup","Free data transfer (same region)"],cons:["Non-transitive (no daisy-chain)","Hard to scale (full mesh needed)","Cross-region costs $0.01-0.02/GB"],useCases:["Connect 2-3 VPCs","Same region connectivity","Low-scale deployments"]},transit:{name:"Transit Gateway / Cloud Router",description:"Hub-and-spoke network topology",pros:["Transitive routing (hub-and-spoke)","Scales to 100s of VPCs","Centralized management","Cross-region support"],cons:["$0.05/hour per attachment","Data transfer $0.02/GB","Adds latency (extra hop)","More complex"],useCases:["10+ VPCs","Complex network topologies","Hybrid cloud","Multi-account organizations"]},privatelink:{name:"Private Link / Service Endpoints",description:"Access services privately without public IPs",pros:["No internet exposure","Simple DNS-based access","Works across accounts/VPCs","No VPC peering needed"],cons:["$0.01/hour per endpoint","Data transfer $0.01/GB","Service-specific (not all services)","One-way connection"],useCases:["SaaS connectivity","Shared services","Cross-account access","Security-sensitive apps"]}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Cloud Networking Patterns"}),e.jsxs(b,{className:"p-6",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Cloud networking connects VPCs, on-prem data centers, and cloud services. Different patterns offer trade-offs between simplicity, scalability, cost, and security."}),e.jsx("div",{className:"flex gap-2 mb-4",children:Object.entries(t).map(([o,a])=>e.jsx("button",{onClick:()=>l(o),className:`px-4 py-2 rounded text-sm font-medium transition-colors ${s===o?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:a.name},o))}),e.jsxs("div",{className:"p-6 border rounded-lg",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:t[s].name}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t[s].description}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx(f,{className:"mb-2",children:"Pros"}),e.jsx("ul",{className:"space-y-1 text-sm",children:t[s].pros.map((o,a)=>e.jsxs("li",{children:["âœ“ ",o]},a))})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"destructive",className:"mb-2",children:"Cons"}),e.jsx("ul",{className:"space-y-1 text-sm",children:t[s].cons.map((o,a)=>e.jsxs("li",{children:["âœ— ",o]},a))})]})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"outline",className:"mb-2",children:"Use Cases"}),e.jsx("ul",{className:"space-y-1 text-sm",children:t[s].useCases.map((o,a)=>e.jsxs("li",{children:["â€¢ ",o]},a))})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"AWS Networking Options"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"ðŸ”—"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"VPC Peering"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"One-to-one connection between VPCs. Non-transitive."}),e.jsxs("div",{className:"bg-muted p-3 rounded font-mono text-xs mb-3",children:["VPC-A ","<-->"," VPC-B (can communicate)",e.jsx("br",{}),"VPC-B ","<-->"," VPC-C (can communicate)",e.jsx("br",{}),"VPC-A ","<--X-->"," VPC-C (CANNOT communicate)"]}),e.jsxs("p",{className:"text-xs",children:[e.jsx("strong",{children:"Cost:"})," Free (same region), $0.01/GB (cross-region)"]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"â­"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Transit Gateway"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Hub-and-spoke: all VPCs connect to central Transit Gateway. Transitive routing enabled."}),e.jsxs("div",{className:"bg-muted p-3 rounded font-mono text-xs mb-3",children:["VPC-A --",">"," TGW ","<","-- VPC-B",e.jsx("br",{}),"Â Â Â Â Â Â Â Â |",e.jsx("br",{}),"Â Â Â Â Â Â Â VPC-C (all can communicate)"]}),e.jsxs("p",{className:"text-xs",children:[e.jsx("strong",{children:"Cost:"})," $0.05/hour/attachment + $0.02/GB"]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"ðŸ”’"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"PrivateLink"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Access services via private IPs without peering. Uses VPC endpoints."}),e.jsxs("div",{className:"bg-muted p-3 rounded font-mono text-xs mb-3",children:["Consumer VPC â†’ VPC Endpoint â†’ Provider Service",e.jsx("br",{}),"(Private IPs, no internet)"]}),e.jsxs("p",{className:"text-xs",children:[e.jsx("strong",{children:"Cost:"})," $0.01/hour/endpoint + $0.01/GB"]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"ðŸš€"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Direct Connect"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Dedicated network connection from on-prem to AWS"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-3 text-xs",children:[e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"1 Gbps"}),e.jsx("p",{children:"$0.30/hour ($216/month)"})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"10 Gbps"}),e.jsx("p",{children:"$2.25/hour ($1,620/month)"})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"100 Gbps"}),e.jsx("p",{children:"Custom pricing"})]})]}),e.jsxs("p",{className:"text-xs mt-3",children:[e.jsx("strong",{children:"Latency:"})," 1-10ms (vs 20-100ms for VPN)"]})]})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Azure Networking Options"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"VNet Peering"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Similar to AWS VPC Peering. Non-transitive."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"âœ“ Low latency, high bandwidth"}),e.jsx("p",{children:"âœ— Non-transitive routing"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cost:"})," $0.01/GB (same region), $0.035/GB (cross-region)"]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Virtual WAN"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Hub-and-spoke for large-scale networks. Azure's Transit Gateway."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"âœ“ Transitive routing"}),e.jsx("p",{children:"âœ“ Integrated VPN/ExpressRoute"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cost:"})," $0.25/hour/hub + $0.02/GB"]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Private Endpoint"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Access Azure services privately. Similar to AWS PrivateLink."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"âœ“ No public IP needed"}),e.jsx("p",{children:"âœ— Service-specific"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cost:"})," $0.01/hour + data transfer"]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"ExpressRoute"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Dedicated connection to Azure. Similar to AWS Direct Connect."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"âœ“ 50 Mbps to 100 Gbps"}),e.jsx("p",{children:"âœ“ 99.95% SLA"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cost:"})," $55-$51,300/month (varies by speed)"]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"GCP Networking Options"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"VPC Peering"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Connect VPCs privately. Works across projects and organizations."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"âœ“ No egress charges (same region)"}),e.jsx("p",{children:"âœ— Non-transitive"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cost:"})," Free (same region), $0.01/GB (cross-region)"]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Cloud Router"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Dynamic routing for Cloud VPN and Interconnect. Not a full Transit Gateway equivalent."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"âœ“ BGP routing"}),e.jsx("p",{children:"âœ— No hub-and-spoke for VPCs"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cost:"})," Free (router itself)"]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Private Service Connect"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Access Google services or 3rd party services privately."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"âœ“ No public IPs"}),e.jsx("p",{children:"âœ“ Works across organizations"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cost:"})," $0.01/hour + data transfer"]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Cloud Interconnect"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Dedicated connection to GCP. Available in 10 Gbps or 100 Gbps."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"âœ“ Low latency (1-10ms)"}),e.jsx("p",{children:"âœ“ 99.9% SLA"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cost:"})," $1,750-$11,000/month (10-100 Gbps)"]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Cross-Cloud Connectivity"}),e.jsxs(b,{className:"p-6",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Connecting workloads across different cloud providers (e.g., AWS to GCP)."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"1. VPN Tunnel"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"IPsec tunnel over internet between cloud VPNs"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx(f,{className:"mb-1",children:"Pros"}),e.jsx("p",{children:"âœ“ Cheap ($50-100/month)"}),e.jsx("p",{children:"âœ“ Easy setup (1-2 hours)"})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"destructive",className:"mb-1",children:"Cons"}),e.jsxs("p",{children:["âœ— Lower bandwidth (","<","1 Gbps)"]}),e.jsx("p",{children:"âœ— Higher latency (20-100ms)"})]})]})]}),e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"2. Dedicated Interconnect via Co-location"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Physical cross-connect at co-location facility (e.g., Equinix)"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx(f,{className:"mb-1",children:"Pros"}),e.jsx("p",{children:"âœ“ Low latency (1-10ms)"}),e.jsx("p",{children:"âœ“ High bandwidth (10-100 Gbps)"})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"destructive",className:"mb-1",children:"Cons"}),e.jsx("p",{children:"âœ— Expensive ($3K-20K/month)"}),e.jsx("p",{children:"âœ— Complex setup (weeks)"})]})]})]}),e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"3. Third-Party SD-WAN"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Use Megaport, PacketFabric, or Aviatrix for multi-cloud networking"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx(f,{className:"mb-1",children:"Pros"}),e.jsx("p",{children:"âœ“ Unified management"}),e.jsx("p",{children:"âœ“ Optimized routing"})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"destructive",className:"mb-1",children:"Cons"}),e.jsx("p",{children:"âœ— Additional vendor"}),e.jsx("p",{children:"âœ— Extra cost ($500-5K/month)"})]})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Cost Comparison"}),e.jsxs(b,{className:"p-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:"Pattern"}),e.jsx("th",{className:"text-left p-2",children:"Setup Cost"}),e.jsx("th",{className:"text-left p-2",children:"Monthly Fee"}),e.jsx("th",{className:"text-left p-2",children:"Data Transfer"}),e.jsx("th",{className:"text-left p-2",children:"Best For"})]})}),e.jsxs("tbody",{className:"text-xs",children:[e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"VPC Peering"}),e.jsx("td",{className:"p-2",children:"$0"}),e.jsx("td",{className:"p-2",children:"$0"}),e.jsx("td",{className:"p-2",children:"$0-0.01/GB"}),e.jsx("td",{className:"p-2",children:"Small scale (2-5 VPCs)"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Transit Gateway"}),e.jsx("td",{className:"p-2",children:"$0"}),e.jsx("td",{className:"p-2",children:"$36/VPC"}),e.jsx("td",{className:"p-2",children:"$0.02/GB"}),e.jsx("td",{className:"p-2",children:"Large scale (10+ VPCs)"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"PrivateLink"}),e.jsx("td",{className:"p-2",children:"$0"}),e.jsx("td",{className:"p-2",children:"$7.30/endpoint"}),e.jsx("td",{className:"p-2",children:"$0.01/GB"}),e.jsx("td",{className:"p-2",children:"Service access"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"VPN"}),e.jsx("td",{className:"p-2",children:"$0"}),e.jsx("td",{className:"p-2",children:"$50-100"}),e.jsx("td",{className:"p-2",children:"$0.09/GB"}),e.jsx("td",{className:"p-2",children:"Low-bandwidth hybrid"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 font-medium",children:"Direct Connect"}),e.jsx("td",{className:"p-2",children:"$1K-5K"}),e.jsx("td",{className:"p-2",children:"$200-1,600"}),e.jsx("td",{className:"p-2",children:"$0.02/GB"}),e.jsx("td",{className:"p-2",children:"High-bandwidth hybrid"})]})]})]})}),e.jsx(_,{className:"mt-4",children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸ’¡ Cost Tip:"})," For 10+ VPCs, Transit Gateway is cheaper than full mesh peering. But for 2-3 VPCs, peering is $0/month vs $72-108/month for TGW."]})})]})]}),e.jsx(_,{children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸŽ¯ Decision Guide:"})," Start with VPC Peering for simplicity. Scale to Transit Gateway at 10+ VPCs. Use PrivateLink for service access. Choose Direct Connect/ExpressRoute only if you transfer ",">"," 10 TB/month to justify the cost."]})})]})}function Ul(){const[s,l]=x.useState("lift-shift"),t={"lift-shift":{name:"Lift-and-Shift (Rehost)",icon:"ðŸšš",description:"Move applications to cloud with minimal changes",effort:"Low",speed:"Fast (weeks)",cost:"Medium",benefits:["Quick migration","Low risk","No code changes","Immediate cloud benefits (scalability, DR)"],drawbacks:["Not cloud-optimized","Higher long-term costs","Limited scalability","Technical debt remains"],bestFor:["Legacy apps with tight deadlines","Apps you plan to retire soon","Datacenter exit scenarios"],example:"Migrate a Java monolith on VMs to EC2 instances as-is"},replatform:{name:"Re-platform (Lift-Tinker-Shift)",icon:"ðŸ”§",description:"Make targeted optimizations without changing core architecture",effort:"Medium",speed:"Medium (months)",cost:"Medium",benefits:["Some cloud optimization","Manageable risk","Better cost efficiency","Improved performance"],drawbacks:["More time than lift-shift","Some code changes","Testing required","Partial optimization"],bestFor:["Apps worth optimizing","Databases to managed services","Containerization without refactoring"],example:"Migrate Java app to EC2 but switch from self-managed MySQL to RDS"},refactor:{name:"Re-architect (Refactor)",icon:"ðŸ—ï¸",description:"Redesign application to be cloud-native",effort:"High",speed:"Slow (6-18 months)",cost:"High upfront, low long-term",benefits:["Full cloud optimization","Maximum scalability","Lowest operational cost","Modern architecture"],drawbacks:["Expensive upfront","High risk","Long timeline","Requires skilled engineers"],bestFor:["Core business applications","High-scale needs","Strategic modernization","Competitive advantage"],example:"Break monolith into microservices on Lambda/ECS with DynamoDB"},repurchase:{name:"Repurchase (Replace)",icon:"ðŸ›’",description:"Replace with SaaS or cloud-native alternative",effort:"Low-Medium",speed:"Fast-Medium",cost:"Variable",benefits:["No infrastructure management","Modern features","Vendor support","Quick to deploy"],drawbacks:["Data migration needed","Learning curve","Vendor lock-in","Limited customization"],bestFor:["Email (â†’ Google Workspace)","CRM (â†’ Salesforce)","HR (â†’ Workday)","Standard business apps"],example:"Replace self-hosted email server with Google Workspace"},retire:{name:"Retire",icon:"ðŸ—‘ï¸",description:"Decommission applications no longer needed",effort:"Low",speed:"Fast",cost:"Savings",benefits:["Immediate cost savings","Reduced complexity","Less to maintain","Focus on valuable apps"],drawbacks:["Requires stakeholder buy-in","Data archival needed","Potential dependencies"],bestFor:["Redundant applications","Low-usage systems","Shadow IT","EOL software"],example:"Retire 3 overlapping monitoring tools, standardize on one"},retain:{name:"Retain (Revisit)",icon:"â¸ï¸",description:"Keep on-premises for now, revisit later",effort:"None",speed:"N/A",cost:"No change",benefits:["No migration risk","More time to plan","Focus on high-value migrations"],drawbacks:["Ongoing on-prem costs","Technical debt grows","Hybrid complexity"],bestFor:["Apps with compliance issues","Recently upgraded systems","Low-priority workloads"],example:"Keep mainframe system on-prem while migrating everything else"}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"The 6 R's of Cloud Migration"}),e.jsxs(b,{className:"p-6",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"AWS's framework for categorizing migration strategies. Choose based on app value, technical debt, and business goals."}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 mb-4",children:Object.entries(t).map(([o,a])=>e.jsxs("button",{onClick:()=>l(o),className:`p-3 rounded text-center transition-colors ${s===o?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:[e.jsx("div",{className:"text-2xl mb-1",children:a.icon}),e.jsx("div",{className:"text-xs font-medium",children:a.name.split(" ")[0]})]},o))}),e.jsxs("div",{className:"p-6 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"text-4xl",children:t[s].icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-semibold",children:t[s].name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t[s].description})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4 text-sm",children:[e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Effort"}),e.jsx("p",{children:t[s].effort})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Timeline"}),e.jsx("p",{children:t[s].speed})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Cost"}),e.jsx("p",{children:t[s].cost})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx(f,{className:"mb-2",children:"Benefits"}),e.jsx("ul",{className:"space-y-1 text-sm",children:t[s].benefits.map((o,a)=>e.jsxs("li",{children:["âœ“ ",o]},a))})]}),e.jsxs("div",{children:[e.jsx(f,{variant:"destructive",className:"mb-2",children:"Drawbacks"}),e.jsx("ul",{className:"space-y-1 text-sm",children:t[s].drawbacks.map((o,a)=>e.jsxs("li",{children:["âœ— ",o]},a))})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(f,{variant:"outline",className:"mb-2",children:"Best For"}),e.jsx("ul",{className:"space-y-1 text-sm",children:t[s].bestFor.map((o,a)=>e.jsxs("li",{children:["â€¢ ",o]},a))})]}),e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("p",{className:"text-xs font-semibold mb-1",children:"Example"}),e.jsx("p",{className:"text-sm",children:t[s].example})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Migration Decision Matrix"}),e.jsx(b,{className:"p-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:"Factor"}),e.jsx("th",{className:"text-left p-2",children:"Lift-Shift"}),e.jsx("th",{className:"text-left p-2",children:"Re-platform"}),e.jsx("th",{className:"text-left p-2",children:"Refactor"})]})}),e.jsxs("tbody",{className:"text-xs",children:[e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Business Value"}),e.jsx("td",{className:"p-2",children:"Low-Medium"}),e.jsx("td",{className:"p-2",children:"Medium-High"}),e.jsx("td",{className:"p-2",children:"High (core apps)"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Technical Debt"}),e.jsx("td",{className:"p-2",children:"Acceptable"}),e.jsx("td",{className:"p-2",children:"Some cleanup"}),e.jsx("td",{className:"p-2",children:"Full modernization"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Timeline Pressure"}),e.jsx("td",{className:"p-2",children:"ðŸŸ¢ Urgent"}),e.jsx("td",{className:"p-2",children:"ðŸŸ¡ Moderate"}),e.jsx("td",{className:"p-2",children:"ðŸ”´ Flexible"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Budget"}),e.jsx("td",{className:"p-2",children:"ðŸŸ¢ Limited"}),e.jsx("td",{className:"p-2",children:"ðŸŸ¡ Moderate"}),e.jsx("td",{className:"p-2",children:"ðŸ”´ Substantial"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Team Skills"}),e.jsx("td",{className:"p-2",children:"Basic cloud"}),e.jsx("td",{className:"p-2",children:"Intermediate"}),e.jsx("td",{className:"p-2",children:"Advanced/architects"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Scalability Needs"}),e.jsx("td",{className:"p-2",children:"Current level OK"}),e.jsx("td",{className:"p-2",children:"Moderate growth"}),e.jsx("td",{className:"p-2",children:"10x+ growth"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Cost (Long-term)"}),e.jsx("td",{className:"p-2",children:"ðŸ”´ Higher"}),e.jsx("td",{className:"p-2",children:"ðŸŸ¡ Medium"}),e.jsx("td",{className:"p-2",children:"ðŸŸ¢ Lower"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 font-medium",children:"Typical Duration"}),e.jsx("td",{className:"p-2",children:"2-8 weeks"}),e.jsx("td",{className:"p-2",children:"2-6 months"}),e.jsx("td",{className:"p-2",children:"6-18 months"})]})]})]})})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Migration Phases"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(f,{className:"text-lg",children:"1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Assessment & Discovery"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Understand your current environment and plan the migration"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold",children:"Tasks:"}),e.jsx("p",{children:"â€¢ Inventory all applications and dependencies"}),e.jsx("p",{children:"â€¢ Map data flows and integrations"}),e.jsx("p",{children:"â€¢ Assess cloud readiness"}),e.jsx("p",{children:"â€¢ Estimate costs (TCO analysis)"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold",children:"Tools:"}),e.jsx("p",{children:"â€¢ AWS Application Discovery Service"}),e.jsx("p",{children:"â€¢ Azure Migrate"}),e.jsx("p",{children:"â€¢ CloudPhysics"}),e.jsx("p",{children:"â€¢ Manual spreadsheets"})]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:[e.jsx("strong",{children:"Duration:"})," 2-8 weeks"]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(f,{className:"text-lg",children:"2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Portfolio Analysis & Planning"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Categorize apps and create migration wave plan"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-3 text-xs mb-3",children:[e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Wave 1: Quick Wins"}),e.jsx("p",{children:"Simple apps, low risk, build confidence"})]}),e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Wave 2: Core Apps"}),e.jsx("p",{children:"Business-critical, needs planning"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Wave 3: Complex"}),e.jsx("p",{children:"Legacy, dependencies, high-touch"})]})]}),e.jsxs("p",{className:"text-xs",children:[e.jsx("strong",{children:"Output:"})," Migration roadmap with waves, timelines, resources"]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:[e.jsx("strong",{children:"Duration:"})," 2-4 weeks"]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(f,{className:"text-lg",children:"3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Pilot Migration"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Migrate 1-3 low-risk applications to validate approach"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"â€¢ Test migration process and tools"}),e.jsx("p",{children:"â€¢ Identify gaps in skills, procedures, security"}),e.jsx("p",{children:"â€¢ Refine cost estimates with real data"}),e.jsx("p",{children:"â€¢ Build runbooks and templates"}),e.jsx("p",{children:"â€¢ Train team on cloud operations"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:[e.jsx("strong",{children:"Duration:"})," 1-3 months"]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(f,{className:"text-lg",children:"4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bulk Migration"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Execute migration waves at scale"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"â€¢ Migrate in planned waves (every 2-4 weeks)"}),e.jsx("p",{children:"â€¢ Run apps in parallel (on-prem + cloud) initially"}),e.jsx("p",{children:"â€¢ Cutover during maintenance windows"}),e.jsx("p",{children:"â€¢ Monitor closely for 1-2 weeks post-migration"}),e.jsx("p",{children:"â€¢ Decommission on-prem resources after validation"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:[e.jsx("strong",{children:"Duration:"})," 6-24 months"]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(f,{className:"text-lg",children:"5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Optimization"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Right-size, optimize costs, improve architecture"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:"â€¢ Right-size instances (most run at 30-40% utilization)"}),e.jsx("p",{children:"â€¢ Purchase Reserved Instances / Savings Plans"}),e.jsx("p",{children:"â€¢ Enable auto-scaling"}),e.jsx("p",{children:"â€¢ Refactor high-value apps to cloud-native"}),e.jsx("p",{children:"â€¢ Continuous improvement (FinOps culture)"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:[e.jsx("strong",{children:"Duration:"})," Ongoing"]})]})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Risk Mitigation Strategies"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ›¡ï¸"}),e.jsx("span",{children:"Technical Risks"})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx(f,{className:"mb-1",children:"Data Loss"}),e.jsxs("p",{className:"text-xs",children:["â€¢ Backup before migration",e.jsx("br",{}),"â€¢ Test restore procedures",e.jsx("br",{}),"â€¢ Keep on-prem backup for 30-90 days"]})]}),e.jsxs("div",{children:[e.jsx(f,{className:"mb-1",children:"Downtime"}),e.jsxs("p",{className:"text-xs",children:["â€¢ Migrate during low-traffic windows",e.jsx("br",{}),"â€¢ Use blue-green deployment",e.jsx("br",{}),"â€¢ Have rollback plan ready"]})]}),e.jsxs("div",{children:[e.jsx(f,{className:"mb-1",children:"Performance Issues"}),e.jsxs("p",{className:"text-xs",children:["â€¢ Load test before cutover",e.jsx("br",{}),"â€¢ Over-provision initially",e.jsx("br",{}),"â€¢ Monitor closely for 1-2 weeks"]})]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’¼"}),e.jsx("span",{children:"Business Risks"})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx(f,{className:"mb-1",children:"Cost Overruns"}),e.jsxs("p",{className:"text-xs",children:["â€¢ Set budget alerts (CloudWatch, Cost Management)",e.jsx("br",{}),"â€¢ Start small, scale gradually",e.jsx("br",{}),"â€¢ Review costs weekly"]})]}),e.jsxs("div",{children:[e.jsx(f,{className:"mb-1",children:"Stakeholder Resistance"}),e.jsxs("p",{className:"text-xs",children:["â€¢ Communicate early and often",e.jsx("br",{}),"â€¢ Show quick wins",e.jsx("br",{}),"â€¢ Involve teams in planning"]})]}),e.jsxs("div",{children:[e.jsx(f,{className:"mb-1",children:"Skills Gap"}),e.jsxs("p",{className:"text-xs",children:["â€¢ Train team in advance",e.jsx("br",{}),"â€¢ Hire cloud experts",e.jsx("br",{}),"â€¢ Partner with MSP for initial migrations"]})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Real-World Migration Examples"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(b,{className:"p-6 bg-blue-50 dark:bg-blue-900/20",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"ðŸ¦ Capital One"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Challenge"}),e.jsx("p",{className:"text-xs",children:"Exit 8 data centers, migrate 100+ apps to AWS"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Strategy"}),e.jsx("p",{className:"text-xs",children:"Mix of lift-shift (60%), re-platform (30%), refactor (10%)"})]})]}),e.jsxs("p",{className:"text-xs mt-3",children:[e.jsx("strong",{children:"Outcome:"})," Closed all data centers by 2020, saved $100M/year in infrastructure costs"]})]}),e.jsxs(b,{className:"p-6 bg-green-50 dark:bg-green-900/20",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"ðŸ“º Netflix"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Challenge"}),e.jsx("p",{className:"text-xs",children:"Database corruption in 2008, decided to go cloud-only"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Strategy"}),e.jsx("p",{className:"text-xs",children:"7-year gradual migration, full refactor to microservices"})]})]}),e.jsxs("p",{className:"text-xs mt-3",children:[e.jsx("strong",{children:"Outcome:"})," Completed 2015, can now scale to 200M+ subscribers globally"]})]}),e.jsxs(b,{className:"p-6 bg-purple-50 dark:bg-purple-900/20",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"âœˆï¸ Expedia"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Challenge"}),e.jsx("p",{className:"text-xs",children:"Migrate 80% of mission-critical apps to AWS"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Strategy"}),e.jsx("p",{className:"text-xs",children:"Mostly re-platform, containerize with Kubernetes"})]})]}),e.jsxs("p",{className:"text-xs mt-3",children:[e.jsx("strong",{children:"Outcome:"})," Reduced data center footprint by 80%, improved deployment speed by 3x"]})]})]})]}),e.jsx(_,{children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸŽ¯ Best Practice:"})," Start with 1-2 pilot migrations (Wave 1) to validate your approach. Most organizations underestimate migration complexity by 2-3x. Plan for 18-24 months for full data center exit."]})})]})}function Fl(){const[s,l]=x.useState("ri"),t={ri:{name:"Reserved Instances (AWS/Azure)",description:"Commit to specific instance type for 1-3 years",discount:"30-70%",flexibility:"Low (specific instance type)",provider:"AWS, Azure",bestFor:"Stable, predictable workloads"},sp:{name:"Savings Plans (AWS)",description:"Commit to $ amount of compute spend for 1-3 years",discount:"20-66%",flexibility:"High (any instance type, region)",provider:"AWS",bestFor:"Variable workloads, flexibility needed"},cud:{name:"Committed Use Discounts (GCP)",description:"Commit to resource usage for 1-3 years",discount:"25-55%",flexibility:"Medium (within resource family)",provider:"GCP",bestFor:"Predictable resource needs"}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"What is FinOps?"}),e.jsxs(b,{className:"p-6",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"FinOps (Financial Operations) is the practice of bringing financial accountability to cloud spending. It combines systems, best practices, and culture to help organizations maximize cloud business value."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"ðŸ‘¥ People"}),e.jsx("p",{className:"text-xs",children:"Cross-functional teams: Engineering, Finance, Leadership working together on cloud costs"})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"ðŸ“Š Process"}),e.jsx("p",{className:"text-xs",children:"Continuous cycle: Monitor â†’ Analyze â†’ Optimize â†’ Repeat"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"ðŸ› ï¸ Tools"}),e.jsx("p",{className:"text-xs",children:"Cost dashboards, budgets, alerts, tagging, right-sizing recommendations"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Commitment Options"}),e.jsxs(b,{className:"p-6",children:[e.jsx("div",{className:"flex gap-2 mb-4",children:Object.entries(t).map(([o,a])=>e.jsx("button",{onClick:()=>l(o),className:`px-4 py-2 rounded text-sm font-medium transition-colors ${s===o?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:o.toUpperCase()},o))}),e.jsxs("div",{className:"p-6 border rounded-lg",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:t[s].name}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t[s].description}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Discount"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t[s].discount})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Flexibility"}),e.jsx("p",{children:t[s].flexibility})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Provider"}),e.jsx("p",{children:t[s].provider})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Best For"}),e.jsx("p",{children:t[s].bestFor})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Reserved Instances (AWS/Azure) Deep Dive"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Standard Reserved Instances"}),e.jsx(f,{className:"mb-3",children:"Up to 72% discount"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"1-Year:"})," ~40% discount"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"3-Year:"})," ~60-72% discount"]}),e.jsx("p",{children:e.jsx("strong",{children:"Payment:"})}),e.jsxs("ul",{className:"ml-4 space-y-1 text-xs",children:[e.jsx("li",{children:"â€¢ All Upfront: Highest discount"}),e.jsx("li",{children:"â€¢ Partial Upfront: Balanced"}),e.jsx("li",{children:"â€¢ No Upfront: Lowest discount, no cash outlay"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:["âœ— Cannot change instance type, region, or OS",e.jsx("br",{}),"âœ“ Best for stable, long-running workloads"]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Convertible Reserved Instances"}),e.jsx(f,{className:"mb-3",children:"Up to 54% discount"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"1-Year:"})," ~30% discount"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"3-Year:"})," ~45-54% discount"]}),e.jsx("p",{children:e.jsx("strong",{children:"Flexibility:"})}),e.jsxs("ul",{className:"ml-4 space-y-1 text-xs",children:[e.jsx("li",{children:"â€¢ Can change instance family"}),e.jsx("li",{children:"â€¢ Can change OS"}),e.jsx("li",{children:"â€¢ Can change tenancy"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:["âœ“ More flexibility than Standard",e.jsx("br",{}),"âœ— Lower discount than Standard"]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Savings Plans (AWS)"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"ðŸ’°"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Compute Savings Plans"}),e.jsx(f,{className:"mb-3",children:"Up to 66% discount"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Most flexible. Commit to $ amount of compute usage (EC2, Lambda, Fargate)."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Flexibility"}),e.jsx("p",{children:"â€¢ Any instance family (m5, c5, r5, etc.)"}),e.jsx("p",{children:"â€¢ Any region"}),e.jsx("p",{children:"â€¢ Any OS"}),e.jsx("p",{children:"â€¢ EC2, Lambda, Fargate"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Example"}),e.jsx("p",{children:"Commit to $100/hour of compute."}),e.jsx("p",{children:"Automatically applies to all eligible usage up to $100/hour."})]})]})]})]})}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"ðŸ–¥ï¸"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"EC2 Instance Savings Plans"}),e.jsx(f,{className:"mb-3",children:"Up to 72% discount"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Less flexible but higher discount. Commit to specific instance family in a region."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Flexibility"}),e.jsx("p",{children:"â€¢ Specific instance family (e.g., m5)"}),e.jsx("p",{children:"â€¢ Specific region (e.g., us-east-1)"}),e.jsx("p",{children:"â€¢ Any size (large, xlarge, 2xlarge, etc.)"}),e.jsx("p",{children:"â€¢ Any OS, tenancy"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Example"}),e.jsx("p",{children:"Commit to m5 instances in us-east-1."}),e.jsx("p",{children:"Can use m5.large, m5.xlarge, etc."})]})]})]})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Spot / Preemptible Instances"}),e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"â˜ï¸"}),e.jsx("span",{children:"AWS Spot Instances"})]}),e.jsx(f,{className:"mb-3 bg-green-600",children:"Up to 90% discount"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{children:e.jsx("strong",{children:"How it works:"})}),e.jsx("p",{className:"text-xs",children:"Bid on unused EC2 capacity. AWS can reclaim with 2-minute warning."}),e.jsx("p",{className:"mt-3",children:e.jsx("strong",{children:"Best for:"})}),e.jsxs("ul",{className:"ml-4 space-y-1 text-xs",children:[e.jsx("li",{children:"â€¢ Batch processing"}),e.jsx("li",{children:"â€¢ Big data analysis"}),e.jsx("li",{children:"â€¢ CI/CD workloads"}),e.jsx("li",{children:"â€¢ Stateless web servers (behind LB)"})]}),e.jsx("p",{className:"mt-3 text-xs text-muted-foreground",children:"âš ï¸ Not for databases or stateful apps"})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ”µ"}),e.jsx("span",{children:"GCP Preemptible VMs"})]}),e.jsx(f,{className:"mb-3 bg-green-600",children:"Up to 80% discount"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{children:e.jsx("strong",{children:"How it works:"})}),e.jsx("p",{className:"text-xs",children:"Short-lived instances (max 24 hours). 30-second shutdown notice."}),e.jsx("p",{className:"mt-3",children:e.jsx("strong",{children:"Differences from Spot:"})}),e.jsxs("ul",{className:"ml-4 space-y-1 text-xs",children:[e.jsx("li",{children:"â€¢ Fixed pricing (not bid-based)"}),e.jsx("li",{children:"â€¢ Guaranteed max 24hr lifespan"}),e.jsx("li",{children:"â€¢ More predictable"})]}),e.jsx("p",{className:"mt-3 text-xs text-muted-foreground",children:"ðŸ’¡ Good for fault-tolerant batch jobs"})]})]})]}),e.jsx(_,{className:"mt-4",children:e.jsxs($,{children:[e.jsx("strong",{children:"Pro Tip:"})," Combine Spot with On-Demand in an Auto Scaling Group. Use Spot for 70-80% of capacity, On-Demand for baseline. Savings of 50-60% with high availability."]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Right-Sizing Strategies"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“‰"}),e.jsx("span",{children:"Downsize Over-Provisioned"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Most instances run at 30-40% CPU utilization. Downsize to save 40-60%."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:e.jsx("strong",{children:"Example:"})}),e.jsx("p",{children:"m5.2xlarge (8 vCPU, $0.384/hr) at 20% CPU"}),e.jsx("p",{children:"â†’ Downsize to m5.xlarge (4 vCPU, $0.192/hr)"}),e.jsx("p",{className:"font-bold text-green-600",children:"Savings: $140/month (50%)"})]}),e.jsxs("div",{className:"mt-4 p-3 bg-muted rounded text-xs",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Tools:"}),e.jsx("p",{children:"â€¢ AWS Compute Optimizer"}),e.jsx("p",{children:"â€¢ Azure Advisor"}),e.jsx("p",{children:"â€¢ GCP Active Assist"})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"âš™ï¸"}),e.jsx("span",{children:"Graviton / ARM Instances"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"ARM-based instances offer 20-40% better price-performance than x86."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:e.jsx("strong",{children:"Example:"})}),e.jsx("p",{children:"m5.xlarge (x86): $0.192/hr"}),e.jsx("p",{children:"m6g.xlarge (Graviton): $0.154/hr"}),e.jsx("p",{className:"font-bold text-green-600",children:"Savings: $27/month (20%)"})]}),e.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded text-xs",children:[e.jsx("p",{className:"font-semibold mb-1",children:"âš ï¸ Considerations:"}),e.jsx("p",{children:"â€¢ Need to recompile for ARM"}),e.jsx("p",{children:"â€¢ Not all software supported"}),e.jsx("p",{children:"â€¢ Worth it for high-scale workloads"})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’¾"}),e.jsx("span",{children:"Storage Optimization"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Use appropriate storage tiers and delete unused resources."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:e.jsx("strong",{children:"Quick wins:"})}),e.jsx("p",{children:"â€¢ Delete old EBS snapshots ($0.05/GB/month)"}),e.jsx("p",{children:"â€¢ S3 Intelligent-Tiering (auto-move to cheaper tiers)"}),e.jsx("p",{children:"â€¢ gp3 volumes instead of gp2 (20% cheaper, better performance)"}),e.jsx("p",{children:"â€¢ Delete unattached volumes"})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"â°"}),e.jsx("span",{children:"Scheduling"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Stop non-prod resources outside business hours. Save 65-75%."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:e.jsx("strong",{children:"Example:"})}),e.jsx("p",{children:"Dev environment: On weekdays 8am-6pm only"}),e.jsx("p",{children:"10 hours/day Ã— 5 days = 50 hours/week"}),e.jsx("p",{children:"vs 168 hours/week = 70% savings"})]}),e.jsxs("div",{className:"mt-4 p-3 bg-muted rounded text-xs",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Tools:"}),e.jsx("p",{children:"â€¢ AWS Instance Scheduler"}),e.jsx("p",{children:"â€¢ Azure Automation"}),e.jsx("p",{children:"â€¢ GCP Cloud Scheduler"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Cost Allocation & Tagging"}),e.jsxs(b,{className:"p-6",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Tags enable cost tracking by team, project, environment, or cost center. Critical for showback/chargeback."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Essential Tags"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Environment"}),e.jsx("p",{className:"text-xs font-mono",children:"dev, staging, prod"})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Team/Owner"}),e.jsx("p",{className:"text-xs font-mono",children:"team-payments, team-search"})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Project"}),e.jsx("p",{className:"text-xs font-mono",children:"project-alpha, project-beta"})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Cost Center"}),e.jsx("p",{className:"text-xs font-mono",children:"cc-engineering, cc-sales"})]})]})]}),e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Tagging Strategy"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsx("li",{children:"âœ“ Enforce via policy (AWS Service Control Policies, Azure Policy)"}),e.jsx("li",{children:"âœ“ Apply tags in IaC (Terraform, CloudFormation)"}),e.jsx("li",{children:"âœ“ Set up tag governance (monitor untagged resources)"}),e.jsx("li",{children:"âœ— Don't have too many tags (keep it simple: 4-6 core tags)"}),e.jsx("li",{children:"âœ— Don't use PII in tags (visible in billing)"})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("p",{className:"text-sm font-semibold mb-2",children:"ðŸ’¡ Pro Tip: Split Accounts"}),e.jsx("p",{className:"text-xs",children:"Use separate AWS accounts for dev/staging/prod. Costs are automatically separated. Easier than relying solely on tags."})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"FinOps Maturity Model"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs(b,{className:"p-6",children:[e.jsx(f,{className:"mb-3",children:"Level 1: Crawl"}),e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Reactive"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"â€¢ Bills come as surprise"}),e.jsx("li",{children:"â€¢ No cost visibility"}),e.jsx("li",{children:"â€¢ Manual processes"}),e.jsx("li",{children:"â€¢ Finance owns cost"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Most companies start here"})]}),e.jsxs(b,{className:"p-6 border-2 border-primary",children:[e.jsx(f,{className:"mb-3",children:"Level 2: Walk"}),e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Proactive"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"â€¢ Cost dashboards set up"}),e.jsx("li",{children:"â€¢ Budget alerts enabled"}),e.jsx("li",{children:"â€¢ Basic tagging in place"}),e.jsx("li",{children:"â€¢ RI/SP purchases started"}),e.jsx("li",{children:"â€¢ Engineering aware of costs"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Target for most companies"})]}),e.jsxs(b,{className:"p-6",children:[e.jsx(f,{className:"mb-3",children:"Level 3: Run"}),e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Optimized"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"â€¢ Automated optimization"}),e.jsx("li",{children:"â€¢ Cost in CI/CD pipeline"}),e.jsx("li",{children:"â€¢ Showback/chargeback"}),e.jsx("li",{children:"â€¢ FinOps culture embedded"}),e.jsx("li",{children:"â€¢ Continuous improvement"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Advanced organizations"})]})]})]}),e.jsx(_,{children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸŽ¯ Quick Wins for 30% Savings:"})," (1) Delete unused resources (10%), (2) Right-size instances (10%), (3) Purchase Savings Plans for baseline (10%). These are low-risk changes that can be done in 1-2 weeks."]})})]})}function Hl(){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"What is Cloud Governance?"}),e.jsxs(b,{className:"p-6",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Cloud governance is the set of policies, procedures, and controls to ensure secure, compliant, and cost-effective use of cloud resources at scale."}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ”’"}),e.jsx("h4",{className:"font-semibold mb-1",children:"Security"}),e.jsx("p",{className:"text-xs",children:"Access control, encryption, audit logs"})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"âœ…"}),e.jsx("h4",{className:"font-semibold mb-1",children:"Compliance"}),e.jsx("p",{className:"text-xs",children:"GDPR, HIPAA, SOC 2, PCI-DSS"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ’°"}),e.jsx("h4",{className:"font-semibold mb-1",children:"Cost Control"}),e.jsx("p",{className:"text-xs",children:"Budgets, quotas, approval workflows"})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ“Š"}),e.jsx("h4",{className:"font-semibold mb-1",children:"Visibility"}),e.jsx("p",{className:"text-xs",children:"Asset inventory, usage tracking"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Landing Zones"}),e.jsxs(b,{className:"p-6",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:'A landing zone is a pre-configured, secure cloud environment that enforces organizational policies. Think of it as a "factory" for creating new cloud accounts/projects.'}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(f,{children:"AWS"}),e.jsx("span",{children:"Control Tower"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Automates setup of multi-account AWS environment with best practices."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Includes:"}),e.jsx("p",{children:"â€¢ Organizational Units (OUs)"}),e.jsx("p",{children:"â€¢ Service Control Policies (SCPs)"}),e.jsx("p",{children:"â€¢ Guardrails (preventive + detective)"}),e.jsx("p",{children:"â€¢ Centralized logging (CloudTrail, Config)"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Use Cases:"}),e.jsx("p",{children:"â€¢ Multi-account strategy"}),e.jsx("p",{children:"â€¢ Automated account provisioning"}),e.jsx("p",{children:"â€¢ Compliance enforcement"}),e.jsx("p",{children:"â€¢ 10+ AWS accounts"})]})]})]}),e.jsxs("div",{className:"p-4 border rounded",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(f,{children:"Azure"}),e.jsx("span",{children:"Landing Zones"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Blueprint for deploying and operating Azure with governance at scale."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Includes:"}),e.jsx("p",{children:"â€¢ Management Groups"}),e.jsx("p",{children:"â€¢ Azure Policy"}),e.jsx("p",{children:"â€¢ RBAC (Role-Based Access Control)"}),e.jsx("p",{children:"â€¢ Centralized logging (Log Analytics)"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Architectures:"}),e.jsx("p",{children:"â€¢ Enterprise-scale (large orgs)"}),e.jsx("p",{children:"â€¢ SMB (small-medium business)"}),e.jsx("p",{children:"â€¢ Foundation (simple start)"})]})]})]}),e.jsxs("div",{className:"p-4 border rounded",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(f,{children:"GCP"}),e.jsx("span",{children:"Cloud Foundation Toolkit"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Terraform templates for setting up GCP with security and compliance."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Includes:"}),e.jsx("p",{children:"â€¢ Organization hierarchy"}),e.jsx("p",{children:"â€¢ Folder structure"}),e.jsx("p",{children:"â€¢ Organization Policy"}),e.jsx("p",{children:"â€¢ VPC Service Controls"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Components:"}),e.jsx("p",{children:"â€¢ Shared VPC"}),e.jsx("p",{children:"â€¢ Centralized logging"}),e.jsx("p",{children:"â€¢ Network security"}),e.jsx("p",{children:"â€¢ IAM best practices"})]})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Organization Structure"}),e.jsxs(b,{className:"p-6",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Multi-account/project strategy isolates workloads, limits blast radius, and simplifies billing."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Typical Hierarchy (AWS Organizations)"}),e.jsxs("div",{className:"font-mono text-xs bg-muted p-4 rounded",children:["Root",e.jsx("br",{}),"â”œâ”€â”€ Security OU",e.jsx("br",{}),"â”‚Â Â Â â”œâ”€â”€ Log Archive Account",e.jsx("br",{}),"â”‚Â Â Â â””â”€â”€ Security Tooling Account",e.jsx("br",{}),"â”œâ”€â”€ Infrastructure OU",e.jsx("br",{}),"â”‚Â Â Â â”œâ”€â”€ Network Account (Transit Gateway, VPN)",e.jsx("br",{}),"â”‚Â Â Â â””â”€â”€ Shared Services Account (CI/CD, Artifact Registry)",e.jsx("br",{}),"â”œâ”€â”€ Workloads OU",e.jsx("br",{}),"â”‚Â Â Â â”œâ”€â”€ Prod Account",e.jsx("br",{}),"â”‚Â Â Â â”œâ”€â”€ Staging Account",e.jsx("br",{}),"â”‚Â Â Â â””â”€â”€ Dev Account",e.jsx("br",{}),"â””â”€â”€ Sandbox OU",e.jsx("br",{}),"Â Â Â Â â””â”€â”€ Individual dev accounts (auto-expire after 90 days)"]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"âœ… Benefits"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Isolation:"})," Blast radius limited to one account"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Security:"})," Separate IAM boundaries"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Billing:"})," Clear cost attribution"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Compliance:"})," Easier audits (e.g., prod only)"]})]})]}),e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"âš ï¸ Challenges"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Complexity:"})," More accounts to manage"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Cross-account:"})," Needs IAM roles, resource sharing"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Learning curve:"})," Team needs training"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Overhead:"})," Not worth it for ","<","5 accounts"]})]})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Policy Enforcement"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸš«"}),e.jsx("span",{children:"Preventive Controls"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Block actions before they happen. Enforced via Service Control Policies (AWS), Azure Policy (Deny), Organization Policy (GCP)."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded text-sm",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Example: Deny Public S3 Buckets"}),e.jsx("pre",{className:"text-xs font-mono mt-2 overflow-x-auto",children:`{
  "Effect": "Deny",
  "Action": "s3:PutBucketPublicAccessBlock",
  "Resource": "*",
  "Condition": {
    "Bool": {"s3:BlockPublicAcls": "false"}
  }
}`})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-3 text-xs",children:[e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Common Policies"}),e.jsx("p",{children:"â€¢ Deny region usage (only us-east-1, eu-west-1)"}),e.jsx("p",{children:"â€¢ Require encryption"}),e.jsx("p",{children:"â€¢ Block root account usage"})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Pros"}),e.jsx("p",{children:"â€¢ Strong enforcement"}),e.jsx("p",{children:"â€¢ Cannot be bypassed"}),e.jsx("p",{children:"â€¢ Immediate effect"})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Cons"}),e.jsx("p",{children:"â€¢ Can block legitimate work"}),e.jsx("p",{children:"â€¢ Needs escape hatch"}),e.jsx("p",{children:"â€¢ Frustrates developers"})]})]})]})]}),e.jsxs(b,{className:"p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ”"}),e.jsx("span",{children:"Detective Controls"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Detect violations after they happen. Alert but don't block. Enforced via AWS Config Rules, Azure Policy (Audit), GCP Asset Inventory."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded text-sm",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Example: Alert on Unencrypted RDS"}),e.jsxs("p",{className:"text-xs",children:["AWS Config Rule: ",e.jsx("code",{className:"bg-muted px-1",children:"rds-storage-encrypted"})]}),e.jsx("p",{className:"text-xs mt-2",children:"â†’ Detects unencrypted RDS instances â†’ Sends SNS notification â†’ Team remediates"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-3 text-xs",children:[e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Common Rules"}),e.jsx("p",{children:"â€¢ Untagged resources"}),e.jsx("p",{children:"â€¢ Public snapshots"}),e.jsx("p",{children:"â€¢ Unused security groups"})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Pros"}),e.jsx("p",{children:"â€¢ Doesn't block work"}),e.jsx("p",{children:"â€¢ Visibility into compliance"}),e.jsx("p",{children:"â€¢ Less frustration"})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Cons"}),e.jsx("p",{children:"â€¢ Reactive (after the fact)"}),e.jsx("p",{children:"â€¢ Needs follow-up"}),e.jsx("p",{children:"â€¢ Alert fatigue risk"})]})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Compliance Automation"}),e.jsxs(b,{className:"p-6",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Automate compliance checks and reporting to reduce manual audits."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"AWS Security Hub"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Aggregates security findings from multiple services"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:e.jsx("strong",{children:"Includes:"})}),e.jsx("p",{children:"â€¢ CIS AWS Foundations Benchmark"}),e.jsx("p",{children:"â€¢ PCI-DSS checks"}),e.jsx("p",{children:"â€¢ AWS Foundational Security Best Practices"}),e.jsx("p",{children:"â€¢ GuardDuty, Inspector, Macie findings"})]}),e.jsxs("p",{className:"text-xs mt-3",children:[e.jsx("strong",{children:"Cost:"})," $0.0010 per check (first 10K free)"]})]}),e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Azure Defender / Microsoft Defender for Cloud"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Unified security management and threat protection"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:e.jsx("strong",{children:"Includes:"})}),e.jsx("p",{children:"â€¢ Azure Security Benchmark"}),e.jsx("p",{children:"â€¢ Regulatory compliance dashboard"}),e.jsx("p",{children:"â€¢ Secure score"}),e.jsx("p",{children:"â€¢ Recommendations"})]}),e.jsxs("p",{className:"text-xs mt-3",children:[e.jsx("strong",{children:"Cost:"})," Free (basic), $15/server/month (advanced)"]})]}),e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"GCP Security Command Center"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Centralized visibility and control for GCP resources"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:e.jsx("strong",{children:"Includes:"})}),e.jsx("p",{children:"â€¢ Asset inventory"}),e.jsx("p",{children:"â€¢ Vulnerability scanning"}),e.jsx("p",{children:"â€¢ Compliance monitoring"}),e.jsx("p",{children:"â€¢ Threat detection"})]}),e.jsxs("p",{className:"text-xs mt-3",children:[e.jsx("strong",{children:"Cost:"})," Free (standard), $35/project/month (premium)"]})]}),e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Third-Party Tools"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Multi-cloud compliance and security posture management"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:e.jsx("strong",{children:"Options:"})}),e.jsx("p",{children:"â€¢ Wiz, Orca Security, Lacework (CSPM)"}),e.jsx("p",{children:"â€¢ CloudHealth, CloudCheckr (Governance + FinOps)"}),e.jsx("p",{children:"â€¢ Prisma Cloud, Dome9 (Security)"})]}),e.jsxs("p",{className:"text-xs mt-3",children:[e.jsx("strong",{children:"Cost:"})," Varies, typically $5-20K/month"]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Guardrails vs Best Practices"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(b,{className:"p-6 border-2 border-red-500",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸš§"}),e.jsx("span",{children:"Guardrails (Hard Rules)"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Mandatory policies that cannot be violated. Enforced via preventive controls."}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{className:"font-semibold",children:"Examples:"}),e.jsxs("ul",{className:"ml-4 space-y-1 text-xs",children:[e.jsx("li",{children:"â€¢ âŒ No public S3 buckets"}),e.jsx("li",{children:"â€¢ âŒ No root account usage"}),e.jsx("li",{children:"â€¢ âŒ Must use approved regions only"}),e.jsx("li",{children:"â€¢ âŒ All data must be encrypted at rest"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:[e.jsx("strong",{children:"When to use:"})," Security-critical, compliance-required, high-risk areas"]})]})]}),e.jsxs(b,{className:"p-6 border-2 border-green-500",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’¡"}),e.jsx("span",{children:"Best Practices (Soft Rules)"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Recommended policies that teams should follow. Detected but not blocked."}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{className:"font-semibold",children:"Examples:"}),e.jsxs("ul",{className:"ml-4 space-y-1 text-xs",children:[e.jsx("li",{children:"â€¢ âš ï¸ Should have 3+ availability zones"}),e.jsx("li",{children:"â€¢ âš ï¸ Should enable CloudTrail logging"}),e.jsx("li",{children:"â€¢ âš ï¸ Should tag all resources"}),e.jsx("li",{children:"â€¢ âš ï¸ Should use IMDSv2 for EC2"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:[e.jsx("strong",{children:"When to use:"})," Operational efficiency, cost optimization, non-critical security"]})]})]})]}),e.jsx(_,{className:"mt-4",children:e.jsxs($,{children:[e.jsx("strong",{children:"âš–ï¸ Balance:"})," Too many guardrails slow down teams. Too few risk security incidents. Start with 5-10 critical guardrails, make everything else a best practice. Promote best practices to guardrails only after repeated violations."]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Self-Service with Governance"}),e.jsxs(b,{className:"p-6",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Enable teams to provision resources quickly while maintaining governance. Use Service Catalogs and IaC templates."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"AWS Service Catalog"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Pre-approved CloudFormation templates that teams can launch"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Admin provides:"}),e.jsx("p",{children:'â€¢ "3-tier web app" template'}),e.jsx("p",{children:'â€¢ "ML training environment" template'}),e.jsx("p",{children:"â€¢ Pre-configured with security, tags, networking"})]}),e.jsxs("div",{className:"p-3 bg-muted rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Developers get:"}),e.jsx("p",{children:"â€¢ One-click deployment"}),e.jsx("p",{children:"â€¢ Compliant by default"}),e.jsx("p",{children:"â€¢ No need to know all AWS services"})]})]})]}),e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Azure Blueprints"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Package ARM templates, policies, and RBAC into reusable definitions"}),e.jsx("p",{className:"text-xs",children:"Similar concept to AWS Service Catalog but includes governance (policies, RBAC) not just templates."})]}),e.jsxs("div",{className:"p-4 border rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Internal Developer Platforms (IDP)"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Build custom portal for self-service (Backstage, Port, etc.)"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("p",{children:e.jsx("strong",{children:"Example flow:"})}),e.jsx("p",{children:"1. Developer fills form: App name, environment, resources needed"}),e.jsx("p",{children:"2. IDP runs Terraform with approved modules"}),e.jsx("p",{children:"3. Resources created with tags, security, monitoring pre-configured"}),e.jsx("p",{children:"4. Developer gets endpoints, credentials"})]})]})]})]})]}),e.jsx(_,{children:e.jsxs($,{children:[e.jsx("strong",{children:"ðŸŽ¯ Governance Maturity Path:"})," (1) Start simple: 5 critical guardrails + basic tagging. (2) Add detective controls and compliance dashboards. (3) Build self-service catalog. (4) Automate remediation. Takes 12-24 months to reach maturity."]})})]})}const Wl=()=>e.jsxs("div",{className:"relative bg-white py-24 overflow-hidden border-b border-slate-200",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-blue-100 rounded-full blur-[120px] -translate-x-1/2 -translate-y-1/2"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-purple-100 rounded-full blur-[120px] translate-x-1/2 translate-y-1/2"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 reveal transition-all duration-700",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(Me,{className:"w-6 h-6 text-blue-600"})}),e.jsx("span",{className:"text-blue-600 font-bold tracking-wider uppercase text-sm",children:"Module 09"})]}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-slate-900 mb-8 leading-tight reveal transition-all duration-700 delay-100",children:["Cloud Service ",e.jsx("br",{}),e.jsx("span",{className:" bg-clip-text  from-blue-600 to-purple-600",children:"Comparisons"})]}),e.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mb-10 leading-relaxed reveal transition-all duration-700 delay-200",children:'A deep dive into GCP, AWS, and Azure with a "managed-first" bias. Learn how to choose the right services to minimize operational overhead.'}),e.jsxs("div",{className:"flex flex-wrap gap-4 reveal transition-all duration-700 delay-300",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-50 rounded-full border border-blue-100 text-blue-700 text-sm",children:[e.jsx(De,{className:"w-4 h-4 text-blue-600"}),"Managed-First Bias"]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 rounded-full border border-indigo-100 text-indigo-700 text-sm",children:[e.jsx(De,{className:"w-4 h-4 text-indigo-600"}),"Cross-Cloud Mapping"]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 rounded-full border border-emerald-100 text-emerald-700 text-sm",children:[e.jsx(De,{className:"w-4 h-4 text-emerald-600"}),"Cost Optimization"]})]})]})]}),Gl=({item:s,index:l})=>e.jsxs("div",{className:"bg-white p-8 rounded-2xl border-2 border-slate-100 reveal transition-all duration-700",style:{transitionDelay:`${l*100}ms`},children:[e.jsx("div",{className:`w-12 h-12 rounded-xl bg-${s.color}-50 flex items-center justify-center mb-6`,children:s.icon}),e.jsx("h3",{className:"text-xl font-bold mb-3",children:s.title}),e.jsx("p",{className:"text-slate-600 leading-relaxed",children:s.desc})]},s.title),zl=()=>e.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-3xl p-8 md:p-12 text-slate-900 mb-24 reveal transition-all duration-700",children:e.jsxs("div",{className:"max-w-3xl",children:[e.jsx("h2",{className:"text-3xl font-black mb-6",children:'The "Managed-First" Philosophy'}),e.jsxs("div",{className:"space-y-6 text-slate-600 leading-relaxed",children:[e.jsxs("p",{children:["In modern system design, the goal is to maximize the time spent on business logic and minimize time spent on infrastructure maintenance. This is why we advocate for a"," ",e.jsx("span",{className:"text-blue-600 font-bold",children:"Managed-First"})," ","approach."]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-slate-900 font-bold flex items-center gap-2",children:[e.jsx(De,{className:"text-emerald-600 w-5 h-5"}),"Why Managed?"]}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"â€¢ Automated patching & security updates"}),e.jsx("li",{children:"â€¢ Built-in high availability & backups"}),e.jsx("li",{children:"â€¢ Pay-as-you-go pricing models"}),e.jsx("li",{children:"â€¢ Faster time-to-market"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-slate-900 font-bold flex items-center gap-2",children:[e.jsx(Ss,{className:"text-blue-600 w-5 h-5"}),"When to go IaaS?"]}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"â€¢ Legacy software with OS dependencies"}),e.jsx("li",{children:"â€¢ Highly specific hardware requirements"}),e.jsx("li",{children:"â€¢ Extreme cost optimization at massive scale"}),e.jsx("li",{children:"â€¢ Regulatory air-gapping needs"})]})]})]})]})]})}),_l=()=>{const s=x.useRef(null);x.useEffect(()=>(s.current=new window.IntersectionObserver(t=>{t.forEach(o=>{o.isIntersecting&&(o.target.classList.add("opacity-100","translate-y-0"),o.target.classList.remove("opacity-0","translate-y-10"))})},{threshold:.1}),window.document.querySelectorAll(".reveal").forEach(t=>s.current.observe(t)),()=>{var t;return(t=s.current)==null?void 0:t.disconnect()}),[]);const l=[{title:"Managed-First",desc:"Prioritize PaaS/SaaS over IaaS to reduce 'undifferentiated heavy lifting'.",icon:e.jsx(z,{className:"w-6 h-6 text-amber-500"}),color:"amber"},{title:"Cloud Native",desc:"Leverage provider-specific features for better performance and integration.",icon:e.jsx(Ne,{className:"w-6 h-6 text-blue-500"}),color:"blue"},{title:"Cost Aware",desc:"Understand pricing models to avoid 'cloud bill shock' early in design.",icon:e.jsx(ss,{className:"w-6 h-6 text-green-500"}),color:"green"}];return e.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 pb-20",children:[e.jsx(Wl,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 -mt-12 relative z-20",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-16",children:l.map((t,o)=>e.jsx(Gl,{item:t,index:o},t.title))}),e.jsxs("div",{className:"mb-24",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-12 reveal transition-all duration-700",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsxs("h2",{className:"text-3xl font-black mb-4 flex items-center gap-3",children:[e.jsx(Ne,{className:"text-blue-600"}),"Service Comparison Matrix"]}),e.jsx("p",{className:"text-slate-600",children:'Mapping core services across the "Big Three" cloud providers. Focusing on managed alternatives to traditional infrastructure.'})]})}),e.jsx("div",{className:"reveal transition-all duration-700",children:e.jsx(Ll,{})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-24",children:[e.jsxs("div",{className:"reveal transition-all duration-700",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-3xl font-black mb-4 flex items-center gap-3",children:[e.jsx(ss,{className:"text-purple-600"}),"Cloud Cost Estimator"]}),e.jsx("p",{className:"text-slate-600",children:"Compare estimated monthly costs for a standard application stack across providers."})]}),e.jsx(Il,{})]}),e.jsxs("div",{className:"reveal transition-all duration-700 delay-200",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-3xl font-black mb-4 flex items-center gap-3",children:[e.jsx(fe,{className:"text-pink-600"}),"Service Decision Tree"]}),e.jsx("p",{className:"text-slate-600",children:"Not sure which service to use? Follow the logic to find the best managed fit."})]}),e.jsx(Dl,{})]})]}),e.jsx(zl,{}),e.jsxs("div",{className:"space-y-24 mb-24",children:[e.jsxs("div",{className:"reveal transition-all duration-700",children:[e.jsxs("h2",{className:"text-3xl font-black mb-4 flex items-center gap-3",children:[e.jsx(Me,{className:"text-blue-600"}),"Multi-Cloud Strategies"]}),e.jsx("p",{className:"text-slate-600 mb-8",children:"Understand when to use multiple cloud providers and how to mitigate vendor lock-in."}),e.jsx(Ml,{})]}),e.jsxs("div",{className:"reveal transition-all duration-700",children:[e.jsxs("h2",{className:"text-3xl font-black mb-4 flex items-center gap-3",children:[e.jsx(Ne,{className:"text-green-600"}),"Cloud-Native vs Cloud-Agnostic"]}),e.jsx("p",{className:"text-slate-600 mb-8",children:"Deep dive into the trade-offs between cloud-native and cloud-agnostic approaches."}),e.jsx(Ol,{})]}),e.jsxs("div",{className:"reveal transition-all duration-700",children:[e.jsxs("h2",{className:"text-3xl font-black mb-4 flex items-center gap-3",children:[e.jsx(fe,{className:"text-purple-600"}),"Hybrid Cloud"]}),e.jsx("p",{className:"text-slate-600 mb-8",children:"Learn how to integrate on-premises infrastructure with public cloud services."}),e.jsx(Bl,{})]}),e.jsxs("div",{className:"reveal transition-all duration-700",children:[e.jsxs("h2",{className:"text-3xl font-black mb-4 flex items-center gap-3",children:[e.jsx(z,{className:"text-orange-600"}),"Cloud Networking"]}),e.jsx("p",{className:"text-slate-600 mb-8",children:"Understand VPC peering, transit gateways, private links, and cross-cloud connectivity."}),e.jsx(ql,{})]}),e.jsxs("div",{className:"reveal transition-all duration-700",children:[e.jsxs("h2",{className:"text-3xl font-black mb-4 flex items-center gap-3",children:[e.jsx(te,{className:"text-indigo-600"}),"Cloud Migration Patterns"]}),e.jsx("p",{className:"text-slate-600 mb-8",children:"The 6 R's of cloud migration: rehost, replatform, refactor, repurchase, retire, and retain."}),e.jsx(Ul,{})]}),e.jsxs("div",{className:"reveal transition-all duration-700",children:[e.jsxs("h2",{className:"text-3xl font-black mb-4 flex items-center gap-3",children:[e.jsx(ss,{className:"text-emerald-600"}),"FinOps Deep Dive"]}),e.jsx("p",{className:"text-slate-600 mb-8",children:"Master cloud cost optimization with Reserved Instances, Savings Plans, and right-sizing strategies."}),e.jsx(Fl,{})]}),e.jsxs("div",{className:"reveal transition-all duration-700",children:[e.jsxs("h2",{className:"text-3xl font-black mb-4 flex items-center gap-3",children:[e.jsx(De,{className:"text-red-600"}),"Cloud Governance"]}),e.jsx("p",{className:"text-slate-600 mb-8",children:"Implement landing zones, policy enforcement, and compliance automation at scale."}),e.jsx(Hl,{})]})]}),e.jsxs("div",{className:"flex flex-col items-center text-center reveal transition-all duration-700",children:[e.jsx("div",{className:"w-px h-24 bg-gradient-to-b from-transparent to-slate-300 mb-8"}),e.jsx("h2",{className:"text-3xl font-black mb-6",children:"Ready to build?"}),e.jsx("p",{className:"text-slate-600 max-w-xl mb-10",children:"Now that you understand the cloud landscape, you can start designing your architecture using these managed building blocks."}),e.jsx("div",{className:"flex gap-4",children:e.jsxs(Pt,{to:"/case-studies",className:"px-8 py-4 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-all flex items-center gap-2 group shadow-lg shadow-blue-200",children:["Next: Case Studies",e.jsx(te,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})]})]})},xt=({id:s,title:l,company:t,challenge:o,icon:a,tags:c})=>{const r=le();return e.jsxs(b,{className:"h-full flex flex-col hover:shadow-xl transition-all duration-300 cursor-pointer border-2 group",style:{backgroundColor:"#ffffff",color:"#0f172a",borderColor:"#e2e8f0"},onClick:()=>r(`/case-studies/${s}`),children:[e.jsxs(k,{children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg group-hover:bg-blue-600 transition-colors",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:e.jsx(a,{className:"w-6 h-6 group-hover:text-white transition-colors",style:{color:"#334155"}})}),e.jsx("div",{className:"flex gap-1 flex-wrap justify-end",children:c.map(d=>e.jsx(f,{variant:"secondary",className:"text-[10px]",style:{backgroundColor:"#f1f5f9",color:"#334155"},children:d},d))})]}),e.jsxs(A,{className:"text-xl group-hover:text-blue-600 transition-colors",style:{color:"#0f172a"},children:[t,": ",l]}),e.jsx(ve,{className:"font-medium line-clamp-2",style:{color:"#475569"},children:o})]}),e.jsx(P,{className:"flex-grow flex flex-col justify-end",children:e.jsxs("div",{className:"flex items-center text-sm font-bold gap-2 group-hover:gap-3 transition-all",style:{color:"#3b82f6"},children:["Explore Architecture ",e.jsx(te,{className:"w-4 h-4"})]})})]})};xt.propTypes={id:v.string.isRequired,title:v.string.isRequired,company:v.string.isRequired,challenge:v.string.isRequired,icon:v.elementType.isRequired,tags:v.arrayOf(v.string).isRequired};const $l=()=>e.jsx("section",{className:"relative gradient-overlay py-20 md:py-32 overflow-hidden mb-16",style:{backgroundColor:"#ffffff"},children:e.jsx("div",{className:"container-custom relative z-10",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full border mb-6",style:{backgroundColor:"#faf5ff",borderColor:"#f3e8ff"},children:e.jsx("span",{className:"text-sm font-medium",style:{color:"#7c3aed"},children:"Module 10"})}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",style:{color:"#0f172a"},children:["Learning from the ",e.jsx("span",{className:"text-gradient",children:"Giants"})]}),e.jsx("p",{className:"text-lg md:text-xl mb-8 mx-auto",style:{color:"#475569"},children:"Theory is good, but practice is better. Explore how the world's leading engineering teams solved their most difficult scaling, reliability, and performance challenges."})]})})}),Kl=()=>{const s=[{id:"netflix",company:"Netflix",title:"The Microservices Pioneer",challenge:"Transitioning from a monolithic DVD service to a global streaming platform.",icon:ie,tags:["Microservices","Chaos Eng","AWS"]},{id:"uber",company:"Uber",title:"Geospatial Scaling",challenge:"Matching millions of riders and drivers in real-time with sub-second latency.",icon:Cs,tags:["Geospatial","H3","Real-time"]},{id:"discord",company:"Discord",title:"Trillions of Messages",challenge:"Storing trillions of messages and handling massive concurrent spikes.",icon:Vs,tags:["ScyllaDB","Rust","Data Locality"]},{id:"twitter",company:"Twitter",title:"The Fan-out Problem",challenge:"Delivering tweets to millions of followers instantly (The 'Celebrity' problem).",icon:we,tags:["Fan-out","Redis","Hybrid Architecture"]}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16",children:s.map(l=>e.jsx("div",{className:"reveal-on-scroll opacity-100 translate-y-0 transition-all duration-700",children:e.jsx(xt,{...l})},l.id))})},Vl=()=>{const s=le();return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#ffffff"},children:[e.jsx($l,{}),e.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-6xl",children:[e.jsx(Kl,{}),e.jsxs("section",{className:"mt-16 p-12 rounded-3xl text-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #f8fafc 0%, #eff6ff 100%)",border:"1px solid #e2e8f0"},children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-5 pointer-events-none",children:[e.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full blur-[100px]",style:{backgroundColor:"#3b82f6"}}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] rounded-full blur-[100px]",style:{backgroundColor:"#60a5fa"}})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-black mb-6",style:{color:"#0f172a"},children:"Ready to Design Your Own?"}),e.jsx("p",{className:"text-lg mb-10 max-w-2xl mx-auto leading-relaxed",style:{color:"#475569"},children:"You've completed the essentials! From core principles to real-world case studies, you now have the mental models to build scalable, resilient systems."}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[e.jsxs(re,{size:"lg",variant:"default",onClick:()=>s("/topics"),className:"gap-2 h-14 px-8 text-lg font-bold",children:["Back to Topics ",e.jsx(pe,{className:"w-5 h-5"})]}),e.jsxs(re,{size:"lg",variant:"outline",onClick:()=>s("/"),className:"gap-2 h-14 px-8 text-lg font-bold",style:{borderColor:"#cbd5e1",color:"#0f172a",backgroundColor:"transparent"},children:["Home ",e.jsx(te,{className:"w-5 h-5"})]})]})]})]})]})]})},Ve=({label:s,value:l,max:t,unit:o,color:a})=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:s}),e.jsxs("span",{className:"font-mono",children:[Math.round(l)," ",o]})]}),e.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${a} transition-all duration-500`,style:{width:`${Math.min(l/t*100,100)}%`}})})]});Ve.propTypes={label:v.string.isRequired,value:v.number.isRequired,max:v.number.isRequired,unit:v.string.isRequired,color:v.string.isRequired};const ht=({metrics:s})=>e.jsxs("div",{className:"bg-muted/50 p-6 rounded-xl space-y-6",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground",children:"System Metrics"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ve,{label:"Write Latency (Fan-out)",value:s.writeLatency,max:5e3,unit:"ms",color:"bg-red-500"}),e.jsx(Ve,{label:"Read Latency (Timeline Load)",value:s.readLatency,max:1e3,unit:"ms",color:"bg-green-500"}),e.jsx(Ve,{label:"Storage Overhead",value:s.storageCost,max:1e5,unit:"units",color:"bg-blue-500"}),e.jsx(Ve,{label:"CPU Load",value:s.cpuLoad,max:100,unit:"%",color:"bg-orange-500"})]})]});ht.propTypes={metrics:v.shape({writeLatency:v.number.isRequired,readLatency:v.number.isRequired,storageCost:v.number.isRequired,cpuLoad:v.number.isRequired}).isRequired};const Ql=()=>{const[s,l]=x.useState(1e3),[t,o]=x.useState("push"),[a,c]=x.useState(!1),r=x.useMemo(()=>{let i,n,m,p;if(t==="push")i=s*.5,n=10,m=s*100,p=s*.2;else if(t==="pull")i=5,n=s>1e4?500:50,m=100,p=s>1e4?80:20;else{const g=s>5e4;i=g?10:Math.min(s*.5,2500),n=g?150:15,m=g?500:s*80,p=g?40:25}return{writeLatency:i,readLatency:n,storageCost:m,cpuLoad:p}},[s,t]),d=()=>{c(!0),setTimeout(()=>c(!1),1500)};return e.jsxs(b,{className:"w-full",children:[e.jsxs(k,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-5 h-5 text-blue-500"}),"Twitter Timeline Fan-out Simulator"]}),e.jsx(ve,{children:"Compare how different strategies handle tweet delivery to followers."})]}),e.jsxs(P,{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("label",{className:"text-sm font-medium",children:"Follower Count"}),e.jsx(f,{variant:"secondary",children:s.toLocaleString()})]}),e.jsx("input",{type:"range",min:"1000",max:"1000000",step:"1000",value:s,onChange:i=>l(parseInt(i.target.value,10)),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"}),e.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[e.jsx("span",{children:"Regular User"}),e.jsx("span",{children:"Micro-Influencer"}),e.jsx("span",{children:"Celebrity (1M+)"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium",children:"Delivery Strategy"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["push","pull","hybrid"].map(i=>e.jsx(re,{variant:t===i?"default":"outline",size:"sm",onClick:()=>o(i),className:"text-xs capitalize",children:i},i))})]}),e.jsxs(re,{className:"w-full gap-2",onClick:d,disabled:a,children:[a?"Fanning out...":"Send Tweet"," ",e.jsx(z,{className:`w-4 h-4 ${a?"animate-pulse":""}`})]})]}),e.jsx(ht,{metrics:r})]}),e.jsxs("div",{className:"p-4 border rounded-lg bg-background",children:[e.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4 text-primary"}),t.charAt(0).toUpperCase()+t.slice(1)," Strategy Analysis"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t==="push"&&"Best for regular users. Tweets are pre-computed into followers' timelines. Fast reads, but 'Celebrity' tweets cause massive write spikes (Fan-out storm).",t==="pull"&&"Best for celebrities. Tweets are only merged when a follower actually opens their app. Saves storage and write time, but makes timeline loading slower.",t==="hybrid"&&"The Twitter (X) approach. Push for regular users to keep reads fast. Pull for celebrities to avoid crushing the database with millions of writes per tweet."]})]})]})]})},pt=({onBack:s})=>{const l=()=>s();return e.jsx("div",{className:"bg-slate-50 border-b border-slate-100 py-12",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-5xl",children:[e.jsxs(re,{variant:"ghost",onClick:l,className:"mb-8 gap-2 hover:bg-white",children:[e.jsx(ue,{className:"w-4 h-4"})," Back to Case Studies"]}),e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-blue-500 rounded-2xl text-white",children:e.jsx(we,{className:"w-8 h-8"})}),e.jsx(f,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Social Media"})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 mb-4",children:"Twitter: The Fan-out Problem"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-2xl",children:"How Twitter delivers tweets to millions of followers in real-time using a hybrid push/pull architecture."})]})})]})})};pt.propTypes={onBack:v.func.isRequired};const Yl=()=>e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(Qs,{className:"w-6 h-6 text-primary"})," The Challenge"]}),e.jsxs("p",{className:"text-slate-600 leading-relaxed mb-4",children:["Twitter's primary challenge is the ",e.jsx("strong",{children:"Fan-out"}),". When a user with 100 million followers (like Elon Musk) tweets, that single write must be delivered to 100 million different timelines. Doing this synchronously would crash the system."]}),e.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-100 rounded-xl",children:[e.jsxs("h4",{className:"font-bold text-amber-900 mb-1 flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4"}),' The "Celebrity" Problem']}),e.jsx("p",{className:"text-sm text-amber-800",children:'A standard "Push" model works for regular users, but for celebrities, the write-amplification is too high. Conversely, a "Pull" model is too slow for the average user experience.'})]})]}),Jl=()=>e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(ia,{className:"w-6 h-6 text-primary"})," The Hybrid Solution"]}),e.jsxs("p",{className:"text-slate-600 leading-relaxed mb-4",children:["Twitter uses a ",e.jsx("strong",{children:"Hybrid Model"}),":"]}),e.jsxs("ul",{className:"space-y-4",children:[e.jsxs("li",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 text-green-700 flex items-center justify-center flex-shrink-0 font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:"Push for Regular Users"}),e.jsx("p",{className:"text-sm text-slate-600",children:"When a regular user tweets, it is pushed into the Redis timelines of all their followers immediately."})]})]}),e.jsxs("li",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center flex-shrink-0 font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:"Pull for Celebrities"}),e.jsx("p",{className:"text-sm text-slate-600",children:'Celebrity tweets are NOT pushed. Instead, when a follower loads their timeline, the system "pulls" the celebrity tweets and merges them on-the-fly.'})]})]})]})]}),Xl=()=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 mb-20",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx(Yl,{}),e.jsx(Jl,{})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(b,{className:"border-2 border-slate-100 shadow-none",children:[e.jsx(k,{children:e.jsx(A,{className:"text-sm uppercase tracking-wider text-slate-500",children:"Tech Stack"})}),e.jsxs(P,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-50 rounded-lg",children:e.jsx(K,{className:"w-4 h-4 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:"Redis"}),e.jsx("p",{className:"text-xs text-slate-500",children:"In-memory Timelines"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(se,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:"Scala/Finagle"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Microservices"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-50 rounded-lg",children:e.jsx(ye,{className:"w-4 h-4 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:"Manhattan"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Distributed Storage"})]})]})]})]}),e.jsxs("div",{className:"p-6 bg-primary/5 rounded-2xl border border-primary/10",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Key Metric"}),e.jsx("p",{className:"text-3xl font-black text-primary mb-1",children:"5s"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Target delivery time for 99% of tweets globally."})]})]})]}),Zl=()=>e.jsxs("section",{className:"mb-20",children:[e.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Architecture Diagram: Hybrid Fan-out"}),e.jsx("div",{className:"p-8 bg-slate-50 rounded-3xl border border-slate-100 overflow-x-auto",children:e.jsxs("div",{className:"min-w-[600px] flex flex-col items-center gap-12",children:[e.jsxs("div",{className:"flex justify-around w-full",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"p-4 bg-white rounded-xl shadow-sm border border-slate-200",children:e.jsx(we,{className:"w-8 h-8 text-blue-500"})}),e.jsx("span",{className:"text-xs font-bold",children:"Celebrity"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"p-4 bg-white rounded-xl shadow-sm border border-slate-200",children:e.jsx(we,{className:"w-8 h-8 text-slate-400"})}),e.jsx("span",{className:"text-xs font-bold",children:"Regular User"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-20 w-full relative",children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-px h-full bg-slate-200"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-blue-500 text-white rounded-xl font-bold text-sm shadow-lg",children:"Pull Path (On-Read)"}),e.jsx(ue,{className:"w-6 h-6 text-slate-300 rotate-90"}),e.jsxs("div",{className:"p-4 bg-white border-2 border-blue-200 rounded-xl text-xs text-center",children:["Query Celebrity ",e.jsx("br",{})," Tweet Store"]})]}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-green-500 text-white rounded-xl font-bold text-sm shadow-lg",children:"Push Path (On-Write)"}),e.jsx(ue,{className:"w-6 h-6 text-slate-300 rotate-90"}),e.jsxs("div",{className:"p-4 bg-white border-2 border-green-200 rounded-xl text-xs text-center",children:["Fan-out to ",e.jsx("br",{})," Follower Redis"]})]})]}),e.jsx("div",{className:"flex flex-col items-center gap-4",children:e.jsxs("div",{className:"p-6 bg-slate-900 text-white rounded-2xl flex items-center gap-4 shadow-xl",children:[e.jsx(Qs,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-bold",children:"Timeline Aggregator"}),e.jsx("p",{className:"text-[10px] text-slate-400",children:"Merges Push + Pull results"})]})]})})]})})]}),ei=()=>{const s=le();return e.jsxs("div",{className:"min-h-screen bg-white pb-20",children:[e.jsx(pt,{onBack:()=>s("/case-studies")}),e.jsxs("div",{className:"container mx-auto px-4 max-w-5xl py-12",children:[e.jsx(Xl,{}),e.jsx(Zl,{}),e.jsxs("section",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Interactive Lab"}),e.jsx("p",{className:"text-slate-600",children:"Experiment with different fan-out strategies and see how they impact system load."})]}),e.jsx(Ql,{})]})]})]})},ut=({resolution:s})=>{const l=s===1?3:s===2?7:15;return e.jsx("div",{className:"grid grid-cols-5 gap-2 animate-in fade-in zoom-in duration-500",children:Array.from({length:l*2}).map((t,o)=>e.jsxs("div",{className:"w-12 h-14 bg-primary/10 border border-primary/30 flex items-center justify-center relative",style:{clipPath:"polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%)",marginLeft:o%5===0?"0":"-10px",marginTop:o>4?"-15px":"0"},children:[Math.random()>.8&&e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),Math.random()>.9&&e.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"})]},o))})};ut.propTypes={resolution:v.number.isRequired};const bt=({resolution:s})=>{const l=s===1?4:s===2?8:16;return e.jsx("div",{className:"grid gap-1 animate-in fade-in zoom-in duration-500",style:{gridTemplateColumns:`repeat(${l}, 1fr)`},children:Array.from({length:l*l}).map((t,o)=>e.jsx("div",{className:"w-6 h-6 bg-blue-500/10 border border-blue-500/30 flex items-center justify-center",children:Math.random()>.9&&e.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-400 rounded-full"})},o))})};bt.propTypes={resolution:v.number.isRequired};const ts=({title:s,desc:l,icon:t})=>e.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(t,{className:"w-4 h-4 text-primary"}),e.jsx("h5",{className:"text-sm font-semibold",children:s})]}),e.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:l})]});ts.propTypes={title:v.string.isRequired,desc:v.string.isRequired,icon:v.elementType.isRequired};const si=()=>{const[s,l]=x.useState("h3"),[t,o]=x.useState(1);return e.jsxs(b,{className:"w-full",children:[e.jsxs(k,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-5 h-5 text-green-500"}),"Uber Geospatial Indexing: H3 vs Quadtree"]}),e.jsx(ve,{children:"Visualize how different spatial indexing methods divide the map for rider-driver matching."})]}),e.jsxs(P,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[e.jsxs("div",{className:"flex bg-muted p-1 rounded-lg",children:[e.jsxs(re,{variant:s==="h3"?"default":"ghost",size:"sm",onClick:()=>l("h3"),className:"gap-2",children:[e.jsx(je,{className:"w-4 h-4"})," H3 (Hexagons)"]}),e.jsxs(re,{variant:s==="quadtree"?"default":"ghost",size:"sm",onClick:()=>l("quadtree"),className:"gap-2",children:[e.jsx(na,{className:"w-4 h-4"})," Quadtree (Squares)"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Resolution:"}),[1,2,3].map(a=>e.jsxs(re,{variant:t===a?"secondary":"outline",size:"sm",onClick:()=>o(a),children:["L",a]},a))]})]}),e.jsxs("div",{className:"relative aspect-video bg-slate-900 rounded-xl overflow-hidden border-4 border-slate-800 flex items-center justify-center",children:[e.jsxs("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-blue-500 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-48 h-48 bg-green-500 rounded-full blur-3xl"})]}),e.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-8",children:s==="h3"?e.jsx(ut,{resolution:t}):e.jsx(bt,{resolution:t})}),e.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/60 backdrop-blur-md p-3 rounded-lg border border-white/10 text-[10px] text-white space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-primary/40 border border-primary rounded-sm"}),e.jsx("span",{children:"Active Cell"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),e.jsx("span",{children:"Driver"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),e.jsx("span",{children:"Rider"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ts,{title:"Smoothing",desc:s==="h3"?"Hexagons have equal distance to all neighbors, making movement calculations smoother.":"Squares have different distances to diagonal vs orthogonal neighbors.",icon:da}),e.jsx(ts,{title:"Hierarchies",desc:s==="h3"?"H3 supports hierarchical containment, allowing Uber to aggregate data at different scales.":"Quadtrees are great for point-indexing but suffer from edge-case boundary issues.",icon:Ne}),e.jsx(ts,{title:"Matching",desc:s==="h3"?"Uber uses H3 to shard their marketplace, ensuring riders and drivers in the same cell are on the same node.":"Traditional grids can lead to 'hotspots' where one cell has 100x more traffic than neighbors.",icon:Ss})]})]})]})},gt=({onBack:s})=>{const l=()=>s();return e.jsx("div",{className:"bg-slate-50 border-b border-slate-100 py-12",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-5xl",children:[e.jsxs(re,{variant:"ghost",onClick:l,className:"mb-8 gap-2 hover:bg-white",children:[e.jsx(ue,{className:"w-4 h-4"})," Back to Case Studies"]}),e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-black rounded-2xl text-white",children:e.jsx(Cs,{className:"w-8 h-8"})}),e.jsx(f,{variant:"secondary",className:"bg-slate-100 text-slate-700",children:"Logistics & Mobility"})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 mb-4",children:"Uber: Geospatial Scaling"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-2xl",children:"How Uber uses H3 Hexagonal Indexing to match riders and drivers across the globe with sub-second precision."})]})})]})})};gt.propTypes={onBack:v.func.isRequired};const ti=()=>e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(ca,{className:"w-6 h-6 text-primary"})," The Challenge"]}),e.jsx("p",{className:"text-slate-600 leading-relaxed mb-4",children:'Uber needs to perform millions of spatial queries per second. "Find the 5 closest drivers to this rider" or "What is the surge multiplier in this specific neighborhood?"'}),e.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Traditional databases aren't built for high-frequency spatial joins. Using raw latitude/longitude is computationally expensive for distance calculations at scale."})]}),ai=()=>e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(je,{className:"w-6 h-6 text-primary"})," The H3 Solution"]}),e.jsxs("p",{className:"text-slate-600 leading-relaxed mb-4",children:["Uber developed ",e.jsx("strong",{children:"H3"}),", a hexagonal hierarchical geospatial indexing system. Why hexagons?"]}),e.jsxs("ul",{className:"space-y-4",children:[e.jsxs("li",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center flex-shrink-0 font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:"Uniform Distance"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Unlike squares (where diagonals are longer), the distance between a hexagon's center and its neighbors is constant for all 6 neighbors."})]})]}),e.jsxs("li",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 text-purple-700 flex items-center justify-center flex-shrink-0 font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:"Hierarchical"}),e.jsx("p",{className:"text-sm text-slate-600",children:"H3 supports multiple resolutions. You can represent a city as a few large hexagons or a street corner as many tiny ones."})]})]})]})]}),ri=()=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 mb-20",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx(ti,{}),e.jsx(ai,{})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(b,{className:"border-2 border-slate-100 shadow-none",children:[e.jsx(k,{children:e.jsx(A,{className:"text-sm uppercase tracking-wider text-slate-500",children:"Tech Stack"})}),e.jsxs(P,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:e.jsx(K,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:"Schemaless"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Built on MySQL"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(Ne,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:"H3 Library"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Open Source C/Java/JS"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-50 rounded-lg",children:e.jsx(z,{className:"w-4 h-4 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:"Go / Java"}),e.jsx("p",{className:"text-xs text-slate-500",children:"High-perf Services"})]})]})]})]}),e.jsxs("div",{className:"p-6 bg-primary/5 rounded-2xl border border-primary/10",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Key Metric"}),e.jsx("p",{className:"text-3xl font-black text-primary mb-1",children:"100ms"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Max latency for driver-rider matching globally."})]})]})]}),li=()=>e.jsxs("section",{className:"mb-20",children:[e.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Visualizing the Grid: Squares vs Hexagons"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"p-8 bg-slate-50 rounded-3xl border border-slate-100 flex flex-col items-center",children:[e.jsx("div",{className:"grid grid-cols-3 gap-1 mb-4",children:[0,1,2,3,4,5,6,7,8].map(s=>e.jsx("div",{className:"w-12 h-12 bg-white border border-slate-200 flex items-center justify-center",children:s===4&&e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})},`square-${s}`))}),e.jsx("h4",{className:"font-bold text-sm mb-2",children:"Quadtree (Squares)"}),e.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Diagonals are âˆš2 times longer. Inconsistent neighbor distances make smoothing and radius searches harder."})]}),e.jsxs("div",{className:"p-8 bg-slate-50 rounded-3xl border border-slate-100 flex flex-col items-center",children:[e.jsxs("div",{className:"flex flex-col items-center mb-4",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx(je,{className:"w-12 h-12 text-slate-200 fill-white"}),e.jsx(je,{className:"w-12 h-12 text-slate-200 fill-white"})]}),e.jsxs("div",{className:"flex gap-1 -mt-3",children:[e.jsx(je,{className:"w-12 h-12 text-slate-200 fill-white"}),e.jsx(je,{className:"w-12 h-12 text-primary fill-primary/10"}),e.jsx(je,{className:"w-12 h-12 text-slate-200 fill-white"})]}),e.jsxs("div",{className:"flex gap-1 -mt-3",children:[e.jsx(je,{className:"w-12 h-12 text-slate-200 fill-white"}),e.jsx(je,{className:"w-12 h-12 text-slate-200 fill-white"})]})]}),e.jsx("h4",{className:"font-bold text-sm mb-2",children:"H3 (Hexagons)"}),e.jsx("p",{className:"text-xs text-slate-500 text-center",children:"All 6 neighbors are equidistant from the center. Perfect for calculating surge pricing and supply/demand clusters."})]})]})]}),ii=()=>{const s=le();return e.jsxs("div",{className:"min-h-screen bg-white pb-20",children:[e.jsx(gt,{onBack:()=>s("/case-studies")}),e.jsxs("div",{className:"container mx-auto px-4 max-w-5xl py-12",children:[e.jsx(ri,{}),e.jsx(li,{}),e.jsxs("section",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[e.jsx($s,{className:"w-6 h-6 text-primary"})," Interactive Lab"]}),e.jsx("p",{className:"text-slate-600",children:"Compare how H3 hexagons cover an area versus traditional quadtrees."})]}),e.jsx(si,{})]})]})]})},jt=({service:s,onKill:l})=>{const t=()=>{switch(s.status){case"healthy":return"border-green-500 bg-green-500/5";case"degraded":return"border-yellow-500 bg-yellow-500/5";case"failed":return"border-red-500 bg-red-500/5";default:return"border-border"}},o=()=>{switch(s.status){case"healthy":return e.jsx(De,{className:"w-4 h-4 text-green-500"});case"degraded":return e.jsx(ce,{className:"w-4 h-4 text-yellow-500"});case"failed":return e.jsx(He,{className:"w-4 h-4 text-red-500"});default:return null}};return e.jsxs("div",{className:`p-4 border-2 rounded-xl transition-all duration-300 ${t()}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"p-2 bg-background rounded-lg border",children:e.jsx(se,{className:"w-4 h-4 text-muted-foreground"})}),o()]}),e.jsx("h5",{className:"font-bold text-sm mb-1",children:s.name}),e.jsxs("p",{className:"text-[10px] text-muted-foreground mb-4",children:["Deps:"," ",s.dependencies.length>0?s.dependencies.join(", "):"None"]}),e.jsx(re,{variant:"destructive",size:"sm",className:"w-full text-[10px] h-7",disabled:s.status==="failed",onClick:l,children:"Kill Service"})]})};jt.propTypes={service:v.shape({id:v.string.isRequired,name:v.string.isRequired,status:v.string.isRequired,dependencies:v.arrayOf(v.string).isRequired}).isRequired,onKill:v.func.isRequired};const ni=()=>{const[s,l]=x.useState([{id:"api-gateway",name:"API Gateway",status:"healthy",dependencies:["auth-service","movie-service"]},{id:"auth-service",name:"Auth Service",status:"healthy",dependencies:["user-db"]},{id:"movie-service",name:"Movie Service",status:"healthy",dependencies:["movie-db","recommendation-engine"]},{id:"recommendation-engine",name:"Rec Engine",status:"healthy",dependencies:["user-db","analytics-service"]},{id:"user-db",name:"User DB",status:"healthy",dependencies:[]},{id:"movie-db",name:"Movie DB",status:"healthy",dependencies:[]},{id:"analytics-service",name:"Analytics",status:"healthy",dependencies:[]}]),[t,o]=x.useState(["System initialized. All services healthy."]),a=x.useCallback((d,i="info")=>{o(n=>[`[${new Date().toLocaleTimeString()}] ${d}`,...n].slice(0,5))},[]),c=d=>{l(n=>n.map(m=>m.id===d?{...m,status:"failed"}:m));const i=s.find(n=>n.id===d).name;a(`CRITICAL: ${i} has failed!`,"error")},r=()=>{l(d=>d.map(i=>({...i,status:"healthy"}))),a("Recovery initiated. All services restored.","success")};return x.useEffect(()=>{const d=setTimeout(()=>{l(i=>{let n=!1;const m=i.map(p=>p.dependencies.filter(h=>{var u;return((u=i.find(C=>C.id===h))==null?void 0:u.status)==="failed"}).length>0&&p.status==="healthy"?(n=!0,{...p,status:"degraded"}):p);return n&&a("Cascading failure detected. Some services are degraded.","warning"),m})},1e3);return()=>clearTimeout(d)},[s,a]),e.jsxs(b,{className:"w-full",children:[e.jsxs(k,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(He,{className:"w-5 h-5 text-red-500"}),"Netflix Chaos Sandbox"]}),e.jsx(ve,{children:"Kill services to see how failures cascade through a microservices architecture."})]}),e.jsxs(P,{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(f,{variant:"outline",className:"flex gap-1 items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})," Healthy"]}),e.jsxs(f,{variant:"outline",className:"flex gap-1 items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"})," Degraded"]}),e.jsxs(f,{variant:"outline",className:"flex gap-1 items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})," Failed"]})]}),e.jsxs(re,{variant:"outline",size:"sm",onClick:r,className:"gap-2",children:[e.jsx(Oe,{className:"w-4 h-4"})," Restore System"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 relative",children:s.map(d=>e.jsx(jt,{service:d,onKill:()=>c(d.id)},d.id))}),e.jsxs("div",{className:"bg-slate-950 text-slate-50 p-4 rounded-lg font-mono text-xs space-y-1 min-h-[120px]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-slate-400 border-b border-slate-800 pb-1",children:[e.jsx(Le,{className:"w-3 h-3"})," SYSTEM LOGS"]}),t.map((d,i)=>e.jsx("div",{className:d.includes("CRITICAL")?"text-red-400":d.includes("Recovery")?"text-green-400":d.includes("Cascading")?"text-yellow-400":"",children:d},i))]}),e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4 text-primary"})," Architectural Insight"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Netflix uses ",e.jsx("strong",{children:"Chaos Monkey"})," to randomly terminate instances in production. This forces engineers to build services that can handle dependency failures gracefully (e.g., using circuit breakers, fallbacks, and retries)."]})]})]})]})},ft=({onBack:s})=>{const l=()=>s();return e.jsx("div",{className:"bg-slate-50 border-b border-slate-100 py-12",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-5xl",children:[e.jsxs(re,{variant:"ghost",onClick:l,className:"mb-8 gap-2 hover:bg-white",children:[e.jsx(ue,{className:"w-4 h-4"})," Back to Case Studies"]}),e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-red-600 rounded-2xl text-white",children:e.jsx(is,{className:"w-8 h-8 fill-current"})}),e.jsx(f,{variant:"secondary",className:"bg-red-50 text-red-700",children:"Streaming & Cloud Native"})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 mb-4",children:"Netflix: Chaos Engineering"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-2xl",children:"How Netflix pioneered microservices and invented Chaos Engineering to ensure 99.99% availability on top of AWS."})]})})]})})};ft.propTypes={onBack:v.func.isRequired};const di=()=>e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(Me,{className:"w-6 h-6 text-primary"})," The Challenge"]}),e.jsx("p",{className:"text-slate-600 leading-relaxed mb-4",children:"In 2008, Netflix suffered a major database corruption that shut down their DVD-by-mail service for 3 days. They realized that their monolithic architecture was a single point of failure."}),e.jsxs("p",{className:"text-slate-600 leading-relaxed",children:["They decided to move to the cloud (AWS) and break their monolith into hundreds of microservices. But this introduced a new problem:"," ",e.jsx("strong",{children:"Cascading Failures"}),". If one service slows down, it can take down the entire platform."]})]}),ci=()=>e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(He,{className:"w-6 h-6 text-primary"})," The Chaos Solution"]}),e.jsxs("p",{className:"text-slate-600 leading-relaxed mb-4",children:["Netflix's solution was radical: ",e.jsx("strong",{children:"Chaos Engineering"}),". They built tools like ",e.jsx("strong",{children:"Chaos Monkey"})," that randomly terminate production instances."]}),e.jsxs("ul",{className:"space-y-4",children:[e.jsxs("li",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 text-red-700 flex items-center justify-center flex-shrink-0 font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:"Design for Failure"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Engineers are forced to build services that can handle the sudden disappearance of their dependencies."})]})]}),e.jsxs("li",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center flex-shrink-0 font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:"Circuit Breakers"}),e.jsx("p",{className:"text-sm text-slate-600",children:'Using libraries like Hystrix, Netflix implemented circuit breakers that "trip" when a service is failing, preventing it from overwhelming the rest of the system.'})]})]})]})]}),oi=()=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 mb-20",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx(di,{}),e.jsx(ci,{})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(b,{className:"border-2 border-slate-100 shadow-none",children:[e.jsx(k,{children:e.jsx(A,{className:"text-sm uppercase tracking-wider text-slate-500",children:"Tech Stack"})}),e.jsxs(P,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-50 rounded-lg",children:e.jsx(ie,{className:"w-4 h-4 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:"AWS"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Global Infrastructure"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(se,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:"Java / Spring Boot"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Microservices"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-50 rounded-lg",children:e.jsx(He,{className:"w-4 h-4 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:"Chaos Mesh"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Fault Injection"})]})]})]})]}),e.jsxs("div",{className:"p-6 bg-primary/5 rounded-2xl border border-primary/10",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Key Metric"}),e.jsx("p",{className:"text-3xl font-black text-primary mb-1",children:"1,000+"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Number of microservices running in production."})]})]})]}),mi=()=>e.jsxs("section",{className:"mb-20",children:[e.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Resilience Pattern: The Circuit Breaker"}),e.jsx("div",{className:"p-8 bg-slate-50 rounded-3xl border border-slate-100",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-12",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-green-500 flex items-center justify-center bg-white shadow-lg",children:e.jsx(Le,{className:"w-10 h-10 text-green-500"})}),e.jsx("span",{className:"font-bold text-sm",children:"CLOSED (Healthy)"}),e.jsx("p",{className:"text-[10px] text-slate-500 text-center max-w-[120px]",children:"Traffic flows normally. Failures are tracked."})]}),e.jsx("div",{className:"hidden md:block w-20 h-1 bg-slate-200 relative",children:e.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-2 h-2 bg-slate-200 rotate-45 border-t border-r border-slate-300"})}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-red-500 flex items-center justify-center bg-white shadow-lg animate-pulse",children:e.jsx(He,{className:"w-10 h-10 text-red-500"})}),e.jsx("span",{className:"font-bold text-sm",children:"OPEN (Tripped)"}),e.jsx("p",{className:"text-[10px] text-slate-500 text-center max-w-[120px]",children:"Traffic is blocked. Fallback response returned."})]}),e.jsx("div",{className:"hidden md:block w-20 h-1 bg-slate-200 relative",children:e.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-2 h-2 bg-slate-200 rotate-45 border-t border-r border-slate-300"})}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-amber-500 flex items-center justify-center bg-white shadow-lg",children:e.jsx(Le,{className:"w-10 h-10 text-amber-500"})}),e.jsx("span",{className:"font-bold text-sm",children:"HALF-OPEN"}),e.jsx("p",{className:"text-[10px] text-slate-500 text-center max-w-[120px]",children:"Testing with limited traffic to see if recovered."})]})]})})]}),xi=()=>{const s=le();return e.jsxs("div",{className:"min-h-screen bg-white pb-20",children:[e.jsx(ft,{onBack:()=>s("/case-studies")}),e.jsxs("div",{className:"container mx-auto px-4 max-w-5xl py-12",children:[e.jsx(oi,{}),e.jsx(mi,{}),e.jsxs("section",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[e.jsx(He,{className:"w-6 h-6 text-primary"})," Interactive Lab"]}),e.jsx("p",{className:"text-slate-600",children:"Inject failures into a simulated microservice graph and see how cascading failures occur without protection."})]}),e.jsx(ni,{})]})]})]})},Nt=({id:s,messages:l,isActive:t})=>e.jsxs("div",{className:`p-4 border-2 rounded-xl transition-all duration-300 ${t?"border-primary bg-primary/5 scale-105 shadow-lg":"border-border bg-background opacity-70"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${t?"bg-primary/20":"bg-muted"}`,children:e.jsx(se,{className:`w-4 h-4 ${t?"text-primary":"text-muted-foreground"}`})}),e.jsxs(f,{variant:t?"default":"outline",children:["Shard ",s]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[e.jsx("span",{children:"Messages"}),e.jsx("span",{children:l.length})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-1.5 overflow-hidden",children:e.jsx("div",{className:"bg-primary h-full transition-all duration-500",style:{width:`${Math.min(l.length*10,100)}%`}})}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:l.slice(-5).map(o=>e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/40 animate-pulse"},o))})]})]});Nt.propTypes={id:v.number.isRequired,messages:v.arrayOf(v.string).isRequired,isActive:v.bool.isRequired};const vt=({total:s,distribution:l})=>e.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-3",children:[e.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(Ss,{className:"w-4 h-4 text-primary"})," Sharding Stats"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"Total Messages"}),e.jsx("span",{className:"font-bold",children:s})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Load Distribution"}),e.jsx("div",{className:"flex h-2 w-full rounded-full overflow-hidden bg-background border",children:l.map((t,o)=>{const a=`shard-dist-${t}-${o}`;return e.jsx("div",{className:"h-full transition-all duration-500",style:{width:`${t}%`,backgroundColor:`hsl(var(--primary) / ${.2+o*.15})`}},a)})})]})]})]});vt.propTypes={total:v.number.isRequired,distribution:v.arrayOf(v.number).isRequired};const Ps=({shards:s,lastShard:l})=>e.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.map((t,o)=>{const a=o+1;return e.jsx(Nt,{id:a,messages:t,isActive:l===o},`shard-node-${a}`)})});Ps.propTypes={shards:v.arrayOf(v.arrayOf(v.string)).isRequired,lastShard:v.number};Ps.defaultProps={lastShard:null};const yt=({message:s,setMessage:l,onSendMessage:t,shardCount:o,setShardCount:a,setShards:c,stats:r})=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("form",{onSubmit:t,className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{htmlFor:"message",children:"Send Message (Simulate Write)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(As,{id:"message",placeholder:"Type a message...",value:s,onChange:d=>l(d.target.value)}),e.jsxs(re,{type:"submit",className:"gap-2",children:[e.jsx(z,{className:"w-4 h-4"})," Route"]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ye,{children:"Shard Configuration"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"range",min:"2",max:"6",value:o,onChange:d=>{const i=parseInt(d.target.value);a(i),c(Array.from({length:i},()=>[]))},className:"flex-grow"}),e.jsxs(f,{variant:"secondary",children:[o," Nodes"]})]})]}),e.jsx(vt,{...r})]});yt.propTypes={message:v.string.isRequired,setMessage:v.func.isRequired,onSendMessage:v.func.isRequired,shardCount:v.number.isRequired,setShardCount:v.func.isRequired,setShards:v.func.isRequired,stats:v.shape({total:v.number.isRequired,distribution:v.arrayOf(v.number).isRequired}).isRequired};const hi=()=>{const[s,l]=x.useState(3),[t,o]=x.useState(""),[a,c]=x.useState([[],[],[]]),[r,d]=x.useState(null),i=x.useCallback(p=>{let g=0;for(let h=0;h<p.length;h++)g=(g<<5)-g+p.charCodeAt(h),g|=0;return Math.abs(g)},[]),n=p=>{if(p.preventDefault(),!t.trim())return;const g=i(t)%s;c(h=>{const u=[...h];return u[g]=[...u[g],`${t}-${Date.now()}`],u}),d(g),o(""),setTimeout(()=>d(null),1e3)},m=x.useMemo(()=>{const p=a.reduce((h,u)=>h+u.length,0),g=a.map(h=>p===0?0:Math.round(h.length/p*100));return{total:p,distribution:g}},[a]);return e.jsxs(b,{className:"w-full",children:[e.jsxs(k,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-blue-500"}),"Discord Message Sharding Lab"]}),e.jsx(ve,{children:"Simulate how Discord shards trillions of messages across database nodes using consistent hashing."})]}),e.jsxs(P,{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx(yt,{message:t,setMessage:o,onSendMessage:n,shardCount:s,setShardCount:l,setShards:c,stats:m}),e.jsx(Ps,{shards:a,lastShard:r})]}),e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-100 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Architectural Insight: ScyllaDB & Rust"}),e.jsxs("p",{className:"text-xs text-blue-800 leading-relaxed",children:["Discord moved from MongoDB to Cassandra, and finally to"," ",e.jsx("strong",{children:"ScyllaDB"})," (a C++ rewrite of Cassandra). They use a"," ",e.jsx("strong",{children:"shard-per-core"})," architecture and wrote their data services in ",e.jsx("strong",{children:"Rust"})," to eliminate garbage collection pauses, allowing them to handle trillions of messages with predictable latency."]})]})]})]})},wt=({onBack:s})=>{const l=()=>s();return e.jsx("div",{className:"bg-slate-50 border-b border-slate-100 py-12",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-5xl",children:[e.jsxs(re,{variant:"ghost",onClick:l,className:"mb-8 gap-2 hover:bg-white",children:[e.jsx(ue,{className:"w-4 h-4"})," Back to Case Studies"]}),e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-indigo-600 rounded-2xl text-white",children:e.jsx(Vs,{className:"w-8 h-8"})}),e.jsx(f,{variant:"secondary",className:"bg-indigo-50 text-indigo-700",children:"Real-time Communication"})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 mb-4",children:"Discord: Trillions of Messages"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-2xl",children:"How Discord evolved their storage architecture from MongoDB to ScyllaDB to handle trillions of messages with sub-millisecond latency."})]})})]})})};wt.propTypes={onBack:v.func.isRequired};const pi=()=>e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(K,{className:"w-6 h-6 text-primary"})," The Challenge"]}),e.jsx("p",{className:"text-slate-600 leading-relaxed mb-4",children:'Discord started with MongoDB, but as they grew, the data size and index maintenance became a nightmare. They moved to Cassandra, but eventually hit the "JVM Garbage Collection" wall, causing unpredictable latency spikes.'}),e.jsx("p",{className:"text-slate-600 leading-relaxed",children:"With trillions of messages, they needed a database that could handle massive write throughput and provide predictable read performance for active channels."})]}),ui=()=>e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(fe,{className:"w-6 h-6 text-primary"})," The ScyllaDB & Rust Solution"]}),e.jsxs("p",{className:"text-slate-600 leading-relaxed mb-4",children:["Discord made two bold moves: switching to ",e.jsx("strong",{children:"ScyllaDB"}),"(a C++ rewrite of Cassandra) and rewriting their data services in"," ",e.jsx("strong",{children:"Rust"}),"."]}),e.jsxs("ul",{className:"space-y-4",children:[e.jsxs("li",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center flex-shrink-0 font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:"Shard-per-Core Architecture"}),e.jsx("p",{className:"text-sm text-slate-600",children:"ScyllaDB uses a shared-nothing architecture where each CPU core handles its own shard of data, eliminating internal contention."})]})]}),e.jsxs("li",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 text-orange-700 flex items-center justify-center flex-shrink-0 font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:"No Garbage Collection"}),e.jsx("p",{className:"text-sm text-slate-600",children:'By using Rust and C++, Discord eliminated the "Stop the World" pauses common in Java/Go, leading to a 10x reduction in p99 latency.'})]})]})]})]}),bi=()=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 mb-20",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx(pi,{}),e.jsx(ui,{})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(b,{className:"border-2 border-slate-100 shadow-none",children:[e.jsx(k,{children:e.jsx(A,{className:"text-sm uppercase tracking-wider text-slate-500",children:"Tech Stack"})}),e.jsxs(P,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(K,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:"ScyllaDB"}),e.jsx("p",{className:"text-xs text-slate-500",children:"NoSQL Storage"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-50 rounded-lg",children:e.jsx(fe,{className:"w-4 h-4 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:"Rust"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Data Services"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:e.jsx(se,{className:"w-4 h-4 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:"Elixir"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Real-time Gateway"})]})]})]})]}),e.jsxs("div",{className:"p-6 bg-primary/5 rounded-2xl border border-primary/10",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Key Metric"}),e.jsx("p",{className:"text-3xl font-black text-primary mb-1",children:"Trillions"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Total messages stored and searchable."})]})]})]}),gi=()=>e.jsxs("section",{className:"mb-20",children:[e.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Data Locality: Sharding by Channel"}),e.jsx("div",{className:"p-8 bg-slate-50 rounded-3xl border border-slate-100",children:e.jsxs("div",{className:"flex flex-col items-center gap-8",children:[e.jsxs("div",{className:"flex gap-4 flex-wrap justify-center",children:[e.jsxs("div",{className:"p-4 bg-white rounded-xl border-2 border-indigo-200 shadow-sm flex flex-col items-center gap-2",children:[e.jsx(oa,{className:"w-6 h-6 text-indigo-500"}),e.jsx("span",{className:"text-xs font-bold",children:"Channel ID"})]}),e.jsx("div",{className:"flex items-center",children:e.jsx(ue,{className:"w-6 h-6 text-slate-300 rotate-180"})}),e.jsx("div",{className:"p-4 bg-indigo-600 text-white rounded-xl font-bold text-sm shadow-lg",children:"Consistent Hashing"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full",children:[1,2,3].map(s=>e.jsxs("div",{className:"p-6 bg-white rounded-2xl border border-slate-200 shadow-sm space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(se,{className:"w-5 h-5 text-slate-400"}),e.jsxs(f,{variant:"outline",children:["Node ",s]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-2 w-full bg-indigo-50 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-500 w-3/4"})}),e.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500",children:[e.jsx("span",{children:"Core 1: Shard A"}),e.jsx(Ee,{className:"w-3 h-3"})]}),e.jsx("div",{className:"h-2 w-full bg-indigo-50 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-400 w-1/2"})}),e.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500",children:[e.jsx("span",{children:"Core 2: Shard B"}),e.jsx(Ee,{className:"w-3 h-3"})]})]})]},s))}),e.jsxs("p",{className:"text-xs text-slate-500 text-center max-w-md",children:["By sharding by ",e.jsx("code",{children:"channel_id"}),", Discord ensures that all messages for a single conversation live on the same shard, making range scans (scrolling up) extremely fast."]})]})})]}),ji=()=>{const s=le();return e.jsxs("div",{className:"min-h-screen bg-white pb-20",children:[e.jsx(wt,{onBack:()=>s("/case-studies")}),e.jsxs("div",{className:"container mx-auto px-4 max-w-5xl py-12",children:[e.jsx(bi,{}),e.jsx(gi,{}),e.jsxs("section",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[e.jsx(z,{className:"w-6 h-6 text-primary"})," Interactive Lab"]}),e.jsx("p",{className:"text-slate-600",children:"Simulate how messages are distributed across shards using consistent hashing."})]}),e.jsx(hi,{})]})]})]})};function fi(){const s=le(),l=[{id:"postgresql",title:"PostgreSQL",description:"Complete reference for PostgreSQL commands, functions, and best practices",icon:K,color:"green",category:"Database",tags:["SQL","Database","PostgreSQL","DDL","DML"],href:"/cheat-sheets/postgresql"}],t=["All","Database","API","DevOps","Frontend"];return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"relative gradient-overlay py-20 md:py-32 overflow-hidden",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-purple-50 border border-purple-100 mb-6",children:[e.jsx(rs,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Developer Resources"})]}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6",children:["Cheat Sheets &"," ",e.jsx("span",{className:"text-gradient",children:"Quick References"})]}),e.jsx("p",{className:"text-lg md:text-xl text-slate-600 mb-8 mx-auto",children:"Quick reference guides for common technologies, commands, and best practices. Perfect for developers who need fast access to syntax and examples."}),e.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 my-3",children:e.jsx("button",{onClick:()=>s("/"),className:"btn-secondary",children:"Back to Home"})})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-7xl",children:[e.jsx("div",{className:"mb-12",children:e.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:t.map(o=>e.jsx("button",{className:"px-4 py-2 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 hover:border-purple-300 transition-colors text-sm font-medium text-slate-700",children:o},o))})}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(o=>{const a=o.icon,c={green:"bg-green-100 text-green-700 border-green-200",blue:"bg-blue-100 text-blue-700 border-blue-200",red:"bg-red-100 text-red-700 border-red-200",purple:"bg-purple-100 text-purple-700 border-purple-200",orange:"bg-orange-100 text-orange-700 border-orange-200"};return e.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6 hover:shadow-lg transition-all duration-300 hover:border-purple-300 cursor-pointer",onClick:()=>s(o.href),children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-xl ${c[o.color]} flex items-center justify-center`,children:e.jsx(a,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:o.title}),e.jsx("span",{className:"inline-block px-2 py-1 bg-slate-100 text-slate-600 text-xs rounded-md",children:o.category})]})]}),e.jsx("p",{className:"text-slate-600 text-sm mb-4",children:o.description}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:o.tags.map(r=>e.jsx("span",{className:"px-2 py-1 bg-slate-50 text-slate-600 text-xs rounded",children:r},r))}),e.jsx("button",{onClick:r=>{r.stopPropagation(),s(o.href)},className:"w-full btn-primary text-sm",children:"View Cheat Sheet"})]},o.id)})}),l.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx(ma,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No cheat sheets yet"}),e.jsx("p",{className:"text-slate-600",children:"Check back soon for more cheat sheets!"})]}),e.jsxs("div",{className:"mt-16  from-purple-50 to-pink-50 border-2 border-purple-200 rounded-2xl p-8 text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Want to contribute?"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Have a cheat sheet idea? We're always looking to add more resources!"}),e.jsx("a",{href:"https://github.com/Iamsdt/system-design-code",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary inline-flex items-center gap-2",children:e.jsx("span",{children:"View on GitHub"})})]})]})]})}const Ni=`### 1. DBML Commands (Database Markup Language)

| Command    | Description                           | Example                                                                      |
| ---------- | ------------------------------------- | ---------------------------------------------------------------------------- |
| **SELECT** | Retrieves data from a database.       | \`SELECT first_name, last_name FROM customers;\`                               |
| **INSERT** | Adds new records to a table.          | \`INSERT INTO customers (first_name, last_name) VALUES ('Mary', 'Doe');\`      |
| **UPDATE** | Modifies existing records in a table. | \`UPDATE employees SET employee_name = 'John Doe', department = 'Marketing';\` |
| **DELETE** | Removes records from a table.         | \`DELETE FROM employees WHERE employee_name = 'John Doe';\`                    |

### 2. DDL Commands (Data Definition Language)

| Command         | Description                            | Example                                                  |
| --------------- | -------------------------------------- | -------------------------------------------------------- |
| CREATE DATABASE | Creates a new database.                | \`CREATE DATABASE mydatabase;\`                            |
| CREATE TABLE    | Creates a new table.                   | \`CREATE TABLE users (id SERIAL PRIMARY KEY, name TEXT);\` |
| ALTER TABLE     | Modifies an existing table.            | \`ALTER TABLE users ADD COLUMN email TEXT;\`               |
| DROP TABLE      | Deletes a table.                       | \`DROP TABLE users;\`                                      |
| CREATE INDEX    | Creates an index (speeds up searches). | \`CREATE INDEX users_name_idx ON users (name);\`           |

### 3. DCL Commands (Data Control Language)

| Command | Description                    | Example                               |
| ------- | ------------------------------ | ------------------------------------- |
| GRANT   | Grants privileges to users.    | \`GRANT SELECT ON users TO public;\`    |
| REVOKE  | Revokes privileges from users. | \`REVOKE SELECT ON users FROM public;\` |

### 4. Query Commands (DQL - Data Query Language)

| Command  | Description                                             | Example                                   |
| -------- | ------------------------------------------------------- | ----------------------------------------- |
| SELECT   | Retrieves data from a table.                            | \`SELECT * FROM users;\`                    |
| FROM     | Specifies the table to retrieve data from.              | \`SELECT name FROM users;\`                 |
| WHERE    | Filters data based on a condition.                      | \`SELECT * FROM users WHERE id = 1;\`       |
| ORDER BY | Sorts the result set.                                   | \`SELECT * FROM users ORDER BY name ASC;\`  |
| LIMIT    | Limits the number of rows returned.                     | \`SELECT * FROM users LIMIT 10;\`           |
| OFFSET   | Skips a specified number of rows before returning rows. | \`SELECT * FROM users OFFSET 5;\`           |
| DISTINCT | Returns only distinct (different) values.               | \`SELECT DISTINCT country FROM customers;\` |

### 5. Join Commands

| Join Type  | Description                                                                  | Example                                                               |
| ---------- | ---------------------------------------------------------------------------- | --------------------------------------------------------------------- |
| INNER JOIN | Returns rows only when there is a match in both tables.                      | \`SELECT * FROM orders INNER JOIN users ON orders.user_id = users.id;\` |
| LEFT JOIN  | Returns all rows from the left table and matching rows from the right table. | \`SELECT * FROM users LEFT JOIN orders ON users.id = orders.user_id;\`  |
| RIGHT JOIN | Returns all rows from the right table and matching rows from the left table. | \`SELECT * FROM orders RIGHT JOIN users ON orders.user_id = users.id;\` |
| FULL JOIN  | Returns all rows from both tables, regardless of a match.                    | \`SELECT * FROM users FULL JOIN orders ON users.id = orders.user_id;\`  |

### 6. Subquery

| Command | Description                                                        | Example                                                                                     |
| ------- | ------------------------------------------------------------------ | ------------------------------------------------------------------------------------------- |
| **IN**  | Determines whether a value matches any value in a subquery result. | \`SELECT * FROM customers WHERE city IN (SELECT city FROM suppliers);\`                       |
| **ANY** | Compares a value to any value returned by a subquery.              | \`SELECT * FROM products WHERE price < ANY (SELECT unit_price FROM supplier_products);\`      |
| **ALL** | Compares a value to all values returned by a subquery.             | \`SELECT * FROM orders WHERE order_amount > ALL (SELECT total_amount FROM previous_orders);\` |

### 7. Aggregate Functions

| Function | Description                                 | Example                              |
| -------- | ------------------------------------------- | ------------------------------------ |
| COUNT()  | Counts the number of rows.                  | \`SELECT COUNT(*) FROM users;\`        |
| SUM()    | Calculates the sum of a numeric column.     | \`SELECT SUM(price) FROM orders;\`     |
| AVG()    | Calculates the average of a numeric column. | \`SELECT AVG(age) FROM users;\`        |
| MIN()    | Finds the minimum value in a column.        | \`SELECT MIN(salary) FROM employees;\` |
| MAX()    | Finds the maximum value in a column.        | \`SELECT MAX(price) FROM products;\`   |

### 8. String Commands

| Function                      | Description                              | Example                                                 |
| ----------------------------- | ---------------------------------------- | ------------------------------------------------------- |
| LENGTH(str)                   | Returns the length of a string.          | \`SELECT LENGTH('Hello');\` --> 5                         |
| LOWER(str)                    | Converts a string to lowercase.          | \`SELECT LOWER('PostgreSQL');\` --> postgresql            |
| UPPER(str)                    | Converts a string to uppercase.          | \`SELECT UPPER('PostgreSQL');\` --> POSTGRESQL            |
| SUBSTRING(str, start, length) | Extracts a substring from a string.      | \`SELECT SUBSTRING('PostgreSQL', 1, 4);\` --> Post        |
| REPLACE(str, from, to)        | Replaces all occurrences of a substring. | \`SELECT REPLACE('Hello World', 'World', 'PostgreSQL');\` |
| CONCAT(str1, str2, ...)       | Concatenates two or more strings.        | \`SELECT CONCAT('Hello', ' ', 'World');\` --> Hello World |

### 9. Date/Time Commands

| Function                   | Description                                                         | Example                                 |
| -------------------------- | ------------------------------------------------------------------- | --------------------------------------- |
| NOW()                      | Returns the current date and time.                                  | \`SELECT NOW();\`                         |
| CURRENT_DATE               | Returns the current date.                                           | \`SELECT CURRENT_DATE;\`                  |
| CURRENT_TIME               | Returns the current time.                                           | \`SELECT CURRENT_TIME;\`                  |
| EXTRACT(field FROM source) | Extracts a specific part (year, month, day) from a date/time value. | \`SELECT EXTRACT(YEAR FROM NOW());\`      |
| DATE_PART(field, source)   | Extracts a specific part (year, month, day) from a date/time value. | \`SELECT DATE_PART('year', NOW());\`      |
| AGE(timestamp)             | Calculates the age (in years) from a timestamp.                     | \`SELECT AGE(birthdate) FROM employees;\` |

### 10. Conditions

| Operator    | Description                |
| ----------- | -------------------------- |
| =           | Equal to                   |
| <>          | Not equal to               |
| !=          | Not equal to (alternative) |
| >           | Greater than               |
| <           | Less than                  |
| >=          | Greater than or equal to   |
| <=          | Less than or equal to      |
| BETWEEN     | Between a range of values  |
| LIKE        | Matches a pattern          |
| IN          | In a list of values        |
| IS NULL     | Checks for null values     |
| IS NOT NULL | Checks for non-null values |

Conditional Expressions

| Command  | Description                                                                     | Example                                                                                                                                                                                          |
| -------- | ------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| CASE     | The CASE statement allows you to perform conditional logic within a query.      | \`SELECT order_id, total_amount, CASE WHEN total_amount > 1000 THEN 'High Value Order' WHEN total_amount > 500 THEN 'Medium Value Order' ELSE 'Low Value Order' END AS order_status FROM orders;\` |
| COALESCE | The COALESCE() function returns the first non-null value from a list of values. | \`SELECT COALESCE(first_name, middle_name) AS preferred_name FROM employees;\`                                                                                                                     |
| NULLIF   | The NULLIF() function returns null if two specified expressions are equal       | \`SELECT NULLIF(total_amount, discounted_amount) AS diff_amount FROM orders;\`                                                                                                                     |

### 11. Set Operations

| Operator  | Description                                         | Example                                                                                              |
| --------- | --------------------------------------------------- | ---------------------------------------------------------------------------------------------------- |
| UNION     | Combines the results of two or more queries.        | \`SELECT first_name, last_name FROM customers UNION SELECT first_name, last_name FROM employees;\`     |
| INTERSECT | Returns rows common to both queries.                | \`SELECT first_name, last_name FROM customers INTERSECT SELECT first_name, last_name FROM employees;\` |
| EXCEPT    | Returns rows in the first query but not the second. | \`SELECT first_name, last_name FROM customers EXCEPT SELECT first_name, last_name FROM employees;\`    |

### 12. Indexes

**Purpose:** Improve the speed of data retrieval operations (SELECT queries) on tables.

**How they work:** Indexes create a separate data structure that stores a subset of table data in a sorted order or a hash structure. This allows the database to locate matching rows much faster than scanning the entire table.

**Syntax:**

\`\`\`sql
CREATE [UNIQUE] INDEX index_name
ON table_name (column_name [ASC | DESC], ...);
\`\`\`

**Types of Indexes:**

| Index Type                           | Description                                                                                         |
| ------------------------------------ | --------------------------------------------------------------------------------------------------- |
| **B-tree (Default)**                 | Suitable for equality and range queries, as well as sorting. Most common index type.                |
| **Hash**                             | Very fast for equality comparisons, but not suitable for range queries or sorting.                  |
| **GIN (Generalized Inverted Index)** | Efficient for searching arrays and other composite data types. Useful for full-text search.         |
| **GiST (Generalized Search Tree)**   | Used for geometric and spatial data types, as well as full-text search. Provides flexible indexing. |
| **SP-GiST (Space-Partitioned GiST)** | Variant of GiST optimized for multidimensional data.                                                |
| **BRIN (Block Range Index)**         | Designed for very large tables, storing index data at a block level to save space.                  |

**Choosing the Right Index:**

- **Equality Queries:** Use B-tree or Hash indexes on frequently queried columns.
- **Range Queries:** B-tree is the best choice.
- **Sorting:** B-tree indexes can speed up sorting on indexed columns.
- **Full-Text Search:** Use GIN or GiST indexes depending on your specific requirements.
- **Multi-Column Indexes (Composite Indexes):** Create indexes on multiple columns to optimize complex queries. The order of columns in the index definition matters!

### 13. Transaction

| Command  | Description                      | Example                                                                                                                                                                                                                        |
| -------- | -------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| COMMIT   | Commits the current transaction. | BEGIN TRANSACTION; <br/> -- SQL statements and changes within the transaction <br/>INSERT INTO employees (name, age) VALUES ('Alice', 30); <br/>UPDATE products SET price = 25.00 WHERE category = 'Electronics'; <br/>COMMIT; |
| ROLLBACK | Reverts the current transaction. | BEGIN TRANSACTION; <br/>-- SQL statements and changes within the transaction <br/>INSERT INTO employees (name, age) VALUES ('Bob', 35); <br/>UPDATE products SET price = 30.00 WHERE category = 'Electronics'; <br/>ROLLBACK;  |

### 14. Window Function

- Performs a calculation across a set of table rows.
- Example: \`SELECT name, salary, AVG(salary) OVER () AS avg_salary FROM employees;\`

\`\`\`sql
function_name(arguments) OVER ( [PARTITION BY column] [ORDER BY column] [frame_clause] )
\`\`\`

**Components:**

- **\`function_name\`:** Aggregate function (SUM, AVG, COUNT, etc.), ranking function (RANK, DENSE_RANK, ROW_NUMBER), or others.
- **\`arguments\`:** Columns or expressions used by the function.
- **\`OVER clause\`:** Defines the window:
  - **\`PARTITION BY column\`:** (Optional) Divides rows into groups (partitions).
  - **\`ORDER BY column\`:** (Optional) Specifies the order within each partition.
  - **\`frame_clause\`:** (Optional) Further defines the window using keywords like \`ROWS\`, \`RANGE\`, \`PRECEDING\`, \`FOLLOWING\`.

**Common Window Functions:**

| Function                   | Description                                                          |
| -------------------------- | -------------------------------------------------------------------- |
| **\`ROW_NUMBER()\`**         | Assigns a unique sequential number to each row within its partition. |
| **\`RANK()\`**               | Assigns a rank to each row, with ties receiving the same rank.       |
| **\`DENSE_RANK()\`**         | Similar to \`RANK()\`, but ties don't create gaps in rank values.      |
| **\`SUM(column)\`**          | Calculates the sum of \`column\` over the window.                      |
| **\`AVG(column)\`**          | Calculates the average of \`column\` over the window.                  |
| **\`COUNT(column)\`**        | Counts the number of non-null values in \`column\` over the window.    |
| **\`FIRST_VALUE(column)\`**  | Returns the first value of \`column\` in the window.                   |
| **\`LAST_VALUE(column)\`**   | Returns the last value of \`column\` in the window.                    |
| **\`LAG(column, offset)\`**  | Accesses data from a previous row within the partition.              |
| **\`LEAD(column, offset)\`** | Accesses data from a following row within the partition.             |

**Example:**

\`\`\`sql
SELECT
    department,
    employee,
    salary,
    AVG(salary) OVER (PARTITION BY department) AS avg_salary_dept
FROM employees;
\`\`\`

This query calculates the average salary for each department using a window function and displays it alongside each employee's information.

### 15. WITH Keyword (Common Table Expressions - CTE)

- Defines a temporary named result set.
- Example:
  \`\`\`sql
  WITH top_products AS (
    SELECT product_id, SUM(quantity) AS total_sold
    FROM orders
    GROUP BY product_id
    ORDER BY total_sold DESC
    LIMIT 10
  )
  SELECT * FROM top_products;
  \`\`\`

### 16. View

- A virtual table based on a stored query.
- Created with \`CREATE VIEW view_name AS SELECT ...\`.

\`\`\`sql
CREATE VIEW order_summary AS
SELECT
    c.name AS customer_name,
    COUNT(o.order_id) AS order_count,
    SUM(o.total_amount) AS total_spent
FROM customers c
JOIN orders o ON c.customer_id = o.customer_id
GROUP BY c.customer_id, c.name;
\`\`\`

### 17. Materialized View

- A pre-computed view that stores data physically.
- Created with \`CREATE MATERIALIZED VIEW view_name AS SELECT ...\`.

\`\`\`sql
CREATE MATERIALIZED VIEW order_summary AS
SELECT
    c.name AS customer_name,
    COUNT(o.order_id) AS order_count,
    SUM(o.total_amount) AS total_spent
FROM customers c
JOIN orders o ON c.customer_id = o.customer_id
GROUP BY c.customer_id, c.name;
\`\`\`

### 18. Query Analysis (Explain Plan)

- Use \`EXPLAIN\` or \`EXPLAIN ANALYZE\` to understand the query plan.

\`\`\`sql
EXPLAIN ANALYZE
SELECT c.name, SUM(o.total_amount)
FROM customers c
JOIN orders o ON c.customer_id = o.customer_id
WHERE c.city = 'New York'
GROUP BY c.customer_id, c.name;
\`\`\`

### 19. Partition

**Purpose:** Improve performance for large tables by dividing them into logical parts.

- Divides a table into logical parts for performance.
- Created with \`CREATE TABLE ... PARTITION BY ...\`.

**Types:**

- **Range Partitioning:** Partitions are based on a range of values in a specified column (e.g., dates, numbers).
- **List Partitioning:** Partitions contain a specific list of values for a column.
- **Hash Partitioning:** Partitions are determined by a hash function applied to a column.

**Creating Partitioned Tables:**

1. **Create the Master Table (Partitioned Table):**

   \`\`\`sql
   CREATE TABLE table_name (
       -- Column definitions
   ) PARTITION BY RANGE (partition_column);
   \`\`\`

2. **Create Partitions:**
   \`\`\`sql
   CREATE TABLE partition_name PARTITION OF table_name
   FOR VALUES FROM (start_value) TO (end_value);
   \`\`\`

**Example: Range Partitioning (Orders by Year)**

\`\`\`sql
-- Create the master table partitioned by order date
CREATE TABLE orders_partitioned (
    order_id SERIAL PRIMARY KEY,
    customer_id INT,
    order_date DATE,
    total_amount DECIMAL(10, 2)
) PARTITION BY RANGE (order_date);

-- Create partitions for specific years
CREATE TABLE orders_2023 PARTITION OF orders_partitioned
    FOR VALUES FROM ('2023-01-01') TO ('2024-01-01');

CREATE TABLE orders_2024 PARTITION OF orders_partitioned
    FOR VALUES FROM ('2024-01-01') TO ('2025-01-01');
\`\`\`

**Benefits:**

- **Improved Query Performance:** Queries targeting specific partitions can be processed much faster.
- **Faster Data Loads and Deletes:** Operations on individual partitions are generally more efficient.
- **Easier Maintenance:** Archiving or deleting old data is simplified by dropping or truncating partitions.

**Important Considerations:**

- Choose appropriate partition keys for your queries.
- Ensure that data is distributed evenly across partitions to avoid "partition skew."
- Test queries with \`EXPLAIN\` to verify that partitions are being used effectively.

### 20. Trigger

**Purpose:** Define actions that automatically execute before or after specific database events (e.g., INSERT, UPDATE, DELETE).

- A stored procedure that automatically executes when an event occurs.
- Created with \`CREATE TRIGGER trigger_name ... ON table_name ...\`.

**Types:**

- **Statement-Level Triggers:** Execute once per SQL statement, regardless of the number of rows affected.
- **Row-Level Triggers:** Execute once for each row affected by the statement.

**Syntax:**

\`\`\`sql
CREATE [OR REPLACE] TRIGGER trigger_name
{ BEFORE | AFTER } { INSERT | UPDATE | DELETE } [OR ...]
ON table_name
[ FOR EACH { ROW | STATEMENT } ]
[ WHEN (condition) ]
EXECUTE FUNCTION function_name();
\`\`\`

**Example: Updating Order Total using a Trigger**

\`\`\`sql
-- 1. Table for order items
CREATE TABLE order_items (
    order_id INT REFERENCES orders(order_id),
    product_id INT REFERENCES products(product_id),
    quantity INT,
    price DECIMAL(10, 2)
);

-- 2. Function to calculate and update the order total
CREATE OR REPLACE FUNCTION update_order_total()
RETURNS TRIGGER AS $$
BEGIN
    UPDATE orders
    SET total_amount = (
        SELECT SUM(quantity * price)
        FROM order_items
        WHERE order_id = NEW.order_id
    )
    WHERE order_id = NEW.order_id;
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

-- 3. Trigger to call the function after changes to order_items
CREATE OR REPLACE TRIGGER update_order_total_trigger
AFTER INSERT OR UPDATE OR DELETE ON order_items
FOR EACH ROW
EXECUTE FUNCTION update_order_total();
\`\`\`

**Explanation:**

- **\`update_order_total()\` Function:**
  - Calculates the total amount for the given \`order_id\` from \`order_items\`.
  - Updates the \`total_amount\` in the \`orders\` table.
- **\`update_order_total_trigger\` Trigger:**
  - Executes **after** any \`INSERT\`, \`UPDATE\`, or \`DELETE\` operation on the \`order_items\` table.
  - It's a **row-level trigger** ( \`FOR EACH ROW\`), so it runs for every row changed.
  - It calls the \`update_order_total()\` function to recalculate and update the order's total amount.

# Generate Data in Series

\`\`\`sql
CREATE TABLE customers (
    customer_id SERIAL PRIMARY KEY,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE,
    city VARCHAR(50),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
\`\`\`

\`\`\`sql
INSERT INTO customers (first_name, last_name, email, city)
SELECT
    'John' || i, 'Doe' || i,
    'john.doe' || i || '@example.com',
    'City' || (i % 100),
FROM generate_series(1, 10000) AS s(i);
\`\`\`

\`\`\`sql
CREATE TABLE employees (
    employee_id SERIAL PRIMARY KEY,
    employee_name VARCHAR(100) NOT NULL,
    department VARCHAR(50),
    hire_date DATE,
    salary NUMERIC(10, 2),
    is_active BOOLEAN DEFAULT TRUE
);
\`\`\`

\`\`\`sql
CREATE TABLE products (
    product_id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    category VARCHAR(50),
    unit_price NUMERIC(10, 2) NOT NULL,
    stock INT CHECK (stock >= 0)
);

\`\`\`

\`\`\`sql
CREATE TABLE orders (
    order_id SERIAL PRIMARY KEY,
    customer_id INT REFERENCES customers(customer_id),
    order_date DATE DEFAULT CURRENT_DATE,
    total_amount NUMERIC(10, 2) NOT NULL,
    status VARCHAR(20) CHECK (status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled'))
);

\`\`\`

\`\`\`sql
INSERT INTO orders (customer_id, order_date, total_amount, status)
SELECT
    (random() * 9999 + 1)::int AS customer_id,
    CURRENT_DATE - (random() * 365)::int AS order_date,
    round((random() * 980 + 20), 2) AS total_amount,
    CASE
        WHEN random() < 0.25 THEN 'Pending'
        WHEN random() < 0.5 THEN 'Shipped'
        WHEN random() < 0.75 THEN 'Delivered'
        ELSE 'Cancelled'
    END AS status
FROM generate_series(1, 10000);
\`\`\`

### Latest Partition Code

\`\`\`sql
-- master table

CREATE TABLE orders_partitioned (

order_id SERIAL,

customer_id INT REFERENCES customers(customer_id),

order_date DATE,

total_amount NUMERIC(10, 2),

status VARCHAR(20) CHECK (status IN ('Pending', 'Shipped', 'Delivered', 'Cancelled')),

PRIMARY KEY (order_id, order_date)

) PARTITION BY RANGE (order_date);




-- Create partitions for specific years



CREATE TABLE orders_2023 PARTITION OF orders_partitioned

FOR VALUES FROM ('2023-01-01') TO ('2024-01-01');



CREATE TABLE orders_2024 PARTITION OF orders_partitioned

FOR VALUES FROM ('2024-01-01') TO ('2025-01-01');




-- Insert Data

INSERT INTO orders_partitioned (order_id, customer_id, order_date, total_amount, status)

SELECT order_id, customer_id, order_date, total_amount, status

FROM orders;




-- query data

select * from orders_partitioned;



explain select * from orders_partitioned;



select * from orders_partitioned where order_date BETWEEN '2024-01-01' AND '2024-12-31';



explain select * from orders_partitioned where order_date BETWEEN '2024-01-01' AND '2024-12-31';
\`\`\`

\`\`\`sql
-- 1. Table for order items

CREATE TABLE products (

product_id SERIAL PRIMARY KEY,

name VARCHAR(100) NOT NULL,

category VARCHAR(50),

unit_price NUMERIC(10, 2) NOT NULL,

stock INT CHECK (stock >= 0)

);



CREATE TABLE order_items (

order_id INT REFERENCES orders(order_id),

product_id INT REFERENCES products(product_id),

quantity INT,

price DECIMAL(10, 2)

);



-- 2. Function to calculate and update the order total

CREATE OR REPLACE FUNCTION update_order_total()

RETURNS TRIGGER AS $$

BEGIN

UPDATE orders

SET total_amount = (

SELECT SUM(quantity * price)

FROM order_items

WHERE order_id = NEW.order_id

)

WHERE order_id = NEW.order_id;

RETURN NEW;

END;

$$ LANGUAGE plpgsql;




-- 3. Trigger to call the function after changes to order_items

CREATE OR REPLACE TRIGGER update_order_total_trigger

AFTER INSERT OR UPDATE OR DELETE ON order_items

FOR EACH ROW

EXECUTE FUNCTION update_order_total();




-- Add data

INSERT INTO products (name, category, unit_price, stock)

VALUES

('Laptop', 'Electronics', 1200.00, 50),

('Phone', 'Electronics', 800.00, 100),

('Book', 'Stationery', 20.00, 200);



select * from products;



INSERT INTO orders (customer_id, order_date, total_amount, status)

VALUES (1, '2024-11-13', 0.00, 'Pending') RETURNING order_id;



INSERT INTO order_items (order_id, product_id, quantity, price)

VALUES

(1, 1, 2, 1200.00), -- 2 Laptops

(1, 2, 1, 800.00); -- 1 Phone



-- verify

SELECT * FROM orders WHERE order_id = 1;



UPDATE order_items

SET quantity = 3

WHERE order_id = 1 AND product_id = 1;




DELETE FROM order_items

WHERE order_id = 1 AND product_id = 2;
\`\`\`
`;function vi(){const s=le();return e.jsxs("div",{className:"min-h-screen  from-slate-50 to-blue-50",children:[e.jsx("section",{className:"relative gradient-overlay py-20 md:py-32 overflow-hidden",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-green-50 border border-green-100 mb-6",children:[e.jsx(K,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:"Database Cheat Sheet"})]}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6",children:["PostgreSQL ",e.jsx("span",{className:"text-gradient",children:"Cheat Sheet"})]}),e.jsx("p",{className:"text-lg md:text-xl text-slate-600 mb-8 mx-auto",children:"Complete reference for PostgreSQL commands, functions, and best practices. From basic queries to advanced features like window functions and partitioning."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 my-5",children:[e.jsxs("button",{onClick:()=>s("/cheat-sheets"),className:"btn-secondary inline-flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4"}),"Back to Cheat Sheets"]}),e.jsx("button",{onClick:()=>s("/"),className:"btn-tertiary",children:"Home"})]})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-6xl",children:[e.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 md:p-8 lg:p-12 shadow-lg",children:e.jsx("div",{className:`prose prose-slate max-w-none 
            prose-headings:font-bold prose-headings:text-slate-900 prose-headings:mb-4 prose-headings:mt-8
            prose-h1:text-3xl prose-h1:mb-6 prose-h1:border-b prose-h1:border-slate-200 prose-h1:pb-4
            prose-h2:text-2xl prose-h2:mb-4 prose-h2:mt-8 prose-h2:text-slate-800
            prose-h3:text-xl prose-h3:mb-3 prose-h3:mt-6 prose-h3:text-slate-800
            prose-p:text-slate-700 prose-p:mb-4 prose-p:leading-relaxed
            prose-strong:text-slate-900 prose-strong:font-semibold
            prose-code:text-sm prose-code:bg-slate-100 prose-code:text-blue-700 prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded prose-code:font-mono
            prose-pre:bg-slate-50 prose-pre:p-0 prose-pre:rounded-lg prose-pre:overflow-x-auto prose-pre:border prose-pre:border-slate-200
            prose-pre code:bg-transparent prose-pre code:p-0
            prose-ul:list-disc prose-ul:pl-6 prose-ul:mb-4 prose-ul:text-slate-700
            prose-ol:list-decimal prose-ol:pl-6 prose-ol:mb-4 prose-ol:text-slate-700
            prose-li:mb-2 prose-li:leading-relaxed
            prose-a:text-blue-600 prose-a:no-underline prose-a:font-medium hover:prose-a:text-blue-700 hover:prose-a:underline
            prose-blockquote:border-l-4 prose-blockquote:border-slate-300 prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-slate-600
            prose-table:w-full prose-table:border-collapse prose-table:mb-6 prose-table:shadow-sm
            prose-th:bg-slate-100 prose-th:border prose-th:border-slate-300 prose-th:px-4 prose-th:py-3 prose-th:text-left prose-th:font-semibold prose-th:text-slate-900
            prose-td:border prose-td:border-slate-300 prose-td:px-4 prose-td:py-3 prose-td:text-slate-700
            prose-tr:hover:bg-slate-50
          `,children:e.jsx(ba,{remarkPlugins:[ga],components:{table:({children:l})=>e.jsx("div",{className:"overflow-x-auto my-6",children:e.jsx("table",{className:"min-w-full border-collapse border border-slate-300 rounded-lg overflow-hidden shadow-sm",children:l})}),thead:({children:l})=>e.jsx("thead",{className:" from-slate-100 to-slate-50",children:l}),tbody:({children:l})=>e.jsx("tbody",{className:"divide-y divide-slate-200",children:l}),tr:({children:l})=>e.jsx("tr",{className:"hover:bg-slate-50 transition-colors",children:l}),th:({children:l})=>e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-900 border-b border-slate-300 bg-slate-100",children:l}),td:({children:l})=>e.jsx("td",{className:"px-4 py-3 text-sm text-slate-700 border-b border-slate-200 align-top",children:l}),code:({inline:l,className:t,children:o,...a})=>{const c=/language-(\w+)/.exec(t||"");if(!l){const r=c?c[1]:"sql";return e.jsx("div",{className:"my-4 rounded-lg overflow-hidden border border-slate-200 shadow-sm",children:e.jsx(ja,{language:r,style:fa,customStyle:{margin:0,padding:"1rem",fontSize:"0.875rem",lineHeight:"1.5",background:"#f8fafc"},...a,children:String(o).replace(/\n$/,"")})})}return e.jsx("code",{className:"bg-slate-100 text-blue-700 px-1.5 py-0.5 rounded text-sm font-mono",...a,children:o})},h1:({children:l})=>e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-6 mt-8 pb-4 border-b border-slate-200",children:l}),h2:({children:l})=>e.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4 mt-8",children:l}),h3:({children:l})=>e.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-3 mt-6",children:l})},children:Ni})})}),e.jsxs("div",{className:"mt-12 flex justify-between items-center",children:[e.jsxs("button",{onClick:()=>s("/cheat-sheets"),className:"btn-secondary inline-flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4"}),"Back to Cheat Sheets"]}),e.jsx("button",{onClick:()=>s("/data-architecture"),className:"btn-primary",children:"Learn Data Architecture â†’"})]})]})]})}const yi=[{path:"/",element:e.jsx(Qa,{})},{path:"/foundations",element:e.jsx(Va,{})},{path:"/networking",element:e.jsx(sr,{})},{path:"/data-architecture",element:e.jsx(Ba,{})},{path:"/compute-runtime",element:e.jsx(Ia,{})},{path:"/apis-integration",element:e.jsx(xr,{})},{path:"/reliability-resilience",element:e.jsx(wr,{})},{path:"/security-governance",element:e.jsx(ul,{})},{path:"/observability-operations",element:e.jsx(El,{})},{path:"/cloud-comparisons",element:e.jsx(_l,{})},{path:"/case-studies",element:e.jsx(Vl,{})},{path:"/case-studies/twitter",element:e.jsx(ei,{})},{path:"/case-studies/uber",element:e.jsx(ii,{})},{path:"/case-studies/netflix",element:e.jsx(xi,{})},{path:"/case-studies/discord",element:e.jsx(ji,{})},{path:"/topics",element:e.jsx(hr,{})},{path:"/cheat-sheets",element:e.jsx(fi,{})},{path:"/cheat-sheets/postgresql",element:e.jsx(vi,{})}],wi=Tt,Si=wi([{element:e.jsx(Sa,{}),children:[...yi,{path:"*",element:e.jsx(ka,{})}],errorElement:e.jsx(Ca,{})}]),Ci=()=>e.jsx(x.Suspense,{fallback:null,children:e.jsx(Rt,{router:Si})});Na.use(ya).use(va).use(wa).init({fallbackLng:"en",debug:!1,backend:{loadPath:"/system-design-code/locales/{{lng}}/{{ns}}.json"},interpolation:{escapeValue:!1}});const ki=Intl.DateTimeFormat().resolvedOptions().timeZone;Ct.tz.setDefault(ki);kt.createRoot(document.getElementById("root")).render(e.jsx(St.StrictMode,{children:e.jsx(Ci,{})}));
